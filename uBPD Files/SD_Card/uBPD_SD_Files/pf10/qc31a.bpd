ееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееее CC1     CX    ]           CC2     CX    '	              CC3     CX    6
             CC4     CX    m          CC5     CX           CC6     CX    o !"#$          CC7     CX    u%&'()*+,         CC8     CX    h-./0123          CC9     CX    45               CC      COM  Ђ6789:;<=>?@ABCDE CC      COM  LFGHIJ            CDISKLIBCX    KLMNOPQR         CGLBDECLC     S                CGLBDEF C     .TUV              COMPARE C     W                CRUNLIB REL  XYZ[\]^_`        CRUNTIMEMAC   `abcdef           CSTDDEF H     .ghi              CUTILIB CX    )jkl              EXPAND  COM   7mnop             HELLO   C     q                QRESET  COM   Qrstuvw           QRESET  CX    ;xyz{             QSTDIO  H     |               ееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееее/********************************************************/ /*							*/ /*		Q/C Compiler Version 3.1		*/ /*			(Part 1)			*/ /*							*/     Copyright (c) 1983 Quality Computer Systems	*/ /*							*/ /*			08/06/83			*/ /********************************************************/  #include "qstdio.h" #include "cstddef.h" #include "cglbdef.c"  static int initted;  main(argc, argv) int argc; *argv[];{init();getoptions(argc,argv);	get user optionszeromem();getspace();		get table and buffer spacegetinfil();getoutfil();kill();parse();dumplits();		dump literal pool for last funccloseout();summary();exit(errcnt);} Zero free memory space zeromem(){static *freespace, *ptr;*malloc();auto stack; WARNING: Don't use any variables in this function or thecalling function's registers will be zeroedfreespacemalloc(0);		beginning of free spaceptr&stack;			stack is on stackwhile (ptr > freespace)*--ptr0;} Obtain compiler table and buffer space from free space getspace(){*malloc();st *addglb();typeinfo *ptrto();peepbufmalloc(LINESIZE);line =	malloc(LINESIZE);mlinemalloc(LINESIZE);plitpool =litpool =malloc(LITSIZE);pcasetab =casetab =malloc(ncases * sizeof (case_table));pswq =swq =malloc(nswq * sizeof (swq));typelistmalloc(n_types * sizeof (typeinfo));inclbuf[0]malloc(inclbsize);inbufmalloc(iobufsize);outbufmalloc(iobufsize);symtabmalloc(nsym * sizeof (st));pmacdefmalloc(macpsize);macpoolpmacsympmacdef + macpsize - MACSIZE;outbufNULL || symtabNULL || pmacdefNULL) {puts("Not enough table space");exit(1);}glbptrSTARTGLB;locptrSTARTLOC;inittypes();		initialize type tablelit_sym.st_typeptrto(chartype); "symbol" for literal poolreftype(lit_sym.st_type);trace)		force loading of "puts()"addglb("puts", functype, SC_EXTERN, ID_VAR, DECL_LOC);} Process all input text parse(){int sc;typeinfo *type;for (;;) {blanks();eof)break;isdecl(&sc, &type)) {	is it a declaration?switch (sc) {		check storage classcase SC_REG: case SC_AUTO:scerr();	invalid storage classcase SC_NONE:		use defaultscSC_GLOBAL;break;case SC_STATIC:scSC_ST_GLB;break;}declglb(sc, type);}		must be a function definitiondeclglb(SC_GLOBAL, inttype);}ncmp)		anything left hanging?error("Unbalanced braces");ifdepth)error("Missing #endif");} Dump the literal pool dumplits(){*ptr;plitpoollitpool)return; 	if nothing there, exit...*/romflag)codeseg();	put in ROM so strings are initializeddataseg();linelabel(lit_label);	print literal labelinitted0;for (ptrlitpool; ptr < plitpool; ++ptr)initbyte(*ptr);newline();		end last line if not fullplitpoollitpool;	reset for next timelit_labelgetlabel();} Report statistics and errors summary(){*p;errnum[7], *itob(), *malloc();pmalloc(0);		beginning of free spacewhile (*++p0);	look for bottom of stackqprintf("Symbol table entries left: %d\n", minsym);qprintf("Macro space left: %d bytes  Memory unused: %d bytes\n",pmacsym - pmacdef + MACSIZE, p - malloc(0));qprintf("%s error%s found",(errcnt0) ? "No": itob(errcnt, errnum, -10),(errcnt1) ? "": "s");} Check for declarations  * Used by:  *	parse (externals)  *	procarg (arguments)  *	procdecl (locals)  isdecl(sc, type) int *sc; typeinfo **type;{holdsc, rsc;typeinfo *holdtype, *rtype;typeinfo *gettype();holdtypeholdsc0;do {rscgetsc()) {		storage class?holdsc0)	first one?holdscrsc;	remember itscerr();}holdtype && infunc && istypedef())break;			local redefinition		of typedef namertypegettype()) {holdtypeNULL)holdtypertype;typerr();}} while (rsc || rtype); 	loop if either found*scholdsc;holdsc && !holdtype)		if storage class but*typeinttype;		no type, use default*typeholdtype;return (holdsc || holdtype);} Declare a global variable declglb(sc, type) int sc; typeinfo *type;{typeinfo *t;st *p;t_sc;typeinfo *declvar();st *addglb();sname[NAMESIZE];int info;matchc(';'))return; 		probably templatedo {tdeclvar(sname, type, sc, &info);t->t_codeT_FUNC) {isfunc(sname, t, sc)) {unreftype(t);return;} t_sc(sc==SC_ST_GLB)? SC_ST_GLB: SC_EXTERN;}t_scsc;addglb(sname, t, t_sc, ID_VAR, DECL_GLB);unreftype(t);		eliminate extra reference} while (matchc(','));ns();	check for semicolon} /*	Declare local variables 	*/ declloc(sc, type) int sc; typeinfo *type;{locsc;int info;sname[NAMESIZE];typeinfo *t;typeinfo *declvar();st *addglb(), *addloc(), *findloc();matchc(';'))return; 	probably templatedo {tdeclvar(sname, type, sc, &info);t->t_codeT_FUNC) {needpunc(')');locscSC_EXTERN;} {findloc(sname))multidef(sname);locscsc;}switch (locsc) {case SC_EXTERN:addglb(sname, t, SC_EXTERN, ID_VAR, DECL_LOC);break;case SC_REG:infoneedreg(t))break;		ok to go in reglocscSC_AUTO;case SC_AUTO:infolocspace;locspace += t->t_size;	space usedbreak;}addloc(sname, t, locsc, ID_VAR, info);unreftype(t);		eliminate extra reference} while (matchc(','));ns();				check for semicolon} Get required array size arraysize(){operand cexp;size;matchc(']'))return -1;		null sizeconstexp(&cexp) != CONSTANT) {cexperr();		not a constant expressionsize1;} {sizecexp.op_val;size < 0) {error("Negative array size illegal");size-size;}}needpunc(']');return size;} Declare (or find) a structure/union tag typeinfo * decltag(typecode) int typecode;	T_STRUCT or T_UNION{tag[NAMESIZE], var[NAMESIZE];typeinfo *declvar(), *uniquetype(), *vartype;st *addglb(), *addloc(), *findtag();int varsc, info;st *tp, *mp;typeinfo *type, *vt;int size, offset, hastag; typeNULL;tpNULL;hastagFALSE;!nextc('{')) {		tag name!symname(tag))illname(); {tpfindtag(tag);hastagTRUE;}}!matchc('{')) {!hastag)error("No tag or template"); tpNULL)error("Undeclared tag"); typetp->st_type;} {	template followstypeuniquetype(typecode,NULL,0); !hastag); tp!=NULL)multidef(tag); infunc)tpaddloc(tag,type,SC_TYPE,ID_STRUCT,0);	tpaddglb(tag,type,SC_TYPE,ID_STRUCT,DECL_GLB); sizeoffset0;while (isdecl(&varsc, &vartype)) {    varsc != SC_NONE)error("Member can't have storage class");    do {vtdeclvar(var,vartype,SC_MEMBER,&info);mp=findtag(var)) {mp->st_type != vt ||    mp->st_info != offset )	error("Member has another meaning");} vttype || vt->t_codeT_FUNC) {error("Can't be structure member");continue;} {    infunc)addloc(var,vt,SC_MEMBER,ID_STRUCT,offset);    addglb(var,vt,SC_MEMBER,ID_STRUCT,offset);    }typecodeT_STRUCT)offsetsize += vt->t_size;		unionsizeimax(size, vt->t_size);unreftype(vt);	eliminate extra reference} while (matchc(','));    ns();    }needpunc('}');type->t_sizesize;	 fill in structure size}type==NULL) in case of error, hand back new structure typetypeuniquetype(typecode,NULL,0);return type;} Declare a variable typeinfo * declvar(sname, type, sc, info) sname[]; typeinfo *type; int sc; int *info;{parsestack ts;typeinfo *loadtype();putds, size; ts.curr_ptrts.stack; 	init local type parsing stackdodecl(&ts, sname);		analyze the declaratortypeloadtype(type, &ts);initted0;putdsFALSE;(sc==SC_GLOBAL || sc==SC_ST_GLB) && type->t_code!=T_FUNC) {dataseg();glblabel(sname, sc);putdsTRUE;} scSC_STATIC) {dataseg();linelabel(*infogetlabel());putdsTRUE;}reftype(type);		preserve type during initializationmatchc('=')) {    !putds)error("Can only initialize global and static variables");     {type->t_code==T_UNION)error("Can't initialize unions");doinit(type);}    } putds) {	default initializationsizetype->t_size;size <= INITSIZE || initflagTRUE )definit(elemsize(type), size); {		-I switch says don't initializedefstorage();outdec(size);nl();}}newline();			end last line if necessarytype->t_codeT_ARRAY && type->t_size <= 0   && sc != SC_EXTERN && sc != SC_ARG) {sizerr();type->t_sizeS_INT;}return type;} Allocate a if possible needreg(type) typeinfo *type;{int t_code; t_codetype->t_code;t_code != T_PTR && t_code != T_INT && t_code != T_UNSIGNED   || nregvar >= MAXREG)return 0;return ++nregvar;} Do initialization for one variable doinit(tp) typeinfo *tp;{size; sizetp->t_size;matchc('{'))initbrace(tp, size-1); ch()'"')initstr(tp);initvar(tp);definit(elemsize(tp), size - initted); init anything left} initstr(tp) typeinfo *tp;{c, size, warned;tp->t_codeT_ARRAY && tp->t_base->t_codeT_CHAR) {sizetp->t_size;warnedFALSE;gch();			strip leading quotedo {cgetstring();inittedsize && !warned) {error("String is bigger than array");warnedTRUE;}initbyte((c-1)? '\0': c);} while (c != -1);size-1) 	fix up type tabletp->t_sizeinitted;}initvar(tp);} initvar(tp) typeinfo *tp;{elemsize(tp)S_INT)inititem();initchar();!nextc(',') && !chkeyword() && isletter(ch())) {needpunc(',');	looks like another variableputback(',');	supply missing comma}} Calculate the base size to initialize elemsize(tp) typeinfo *tp;{typeinfo *base; for (basetp; base->t_codeT_ARRAY; basebase->t_base);return (base->t_sizeS_INT) ? S_INT: S_CHAR;} inititem(){operand cexp;switch (constexp(&cexp)) {case CONSTANT:case CONSTADDR:initword(cexp.op_sym, cexp.op_val);break;default:initerr();initword(NULL, 0);break;}} initchar(){operand cexp;val;switch (constexp(&cexp)) {case CONSTADDR:error("Char cannot hold address");val0;break;case CONSTANT:valcexp.op_val;break;default:initerr();val0;break;}initbyte(val);} initbrace(tp, resize) typeinfo *tp;{typeinfo *tpb;init1, warned, needbrace, ischar, base; warnedFALSE;needbraceTRUE;is= (base=elemsize(tp))S_CHAR;init1initted;tp->t_codeT_STRUCT || tp->t_base->t_codeT_STRUCT)error("Can't initialize structures yet");for (;;) {matchc('{')) {    tpbtp->t_base;    tpbNULL ||       (tpb->t_code!=T_STRUCT && tpb->t_code!=T_ARRAY)) {error("Only aggregates can be initialized this way");initbrace(tp, FALSE);}    initbrace(tpb, FALSE);    } ischar)initchar();inititem();initted-init1 > tp->t_size && !resize && !warned) {error("Too many initializers");warnedTRUE;}check for punctuation after constant exprmatchc(','))continue; more inits for this varch()'}' || ch()';' || chkeyword())break;	end of inits for this variableisdigit(ch())) {needpunc(',');	looks like more initscontinue;}isletter(ch())) {	is this another var?needpunc('}');needbraceFALSE;needpunc(',');putback(',');	supply missing commabreak;}while (ch() != ',' && !endst() && ch() != '}')       gch();	get rid of whatever is leftbreak;		and quit}needbrace)needpunc('}');	skip ending delimiter if anyresize)		fix size in type tabletp->t_sizeinitted - init1;			default init if any leftdefinit(base, tp->t_size - (initted - init1));} Default initialization definit(size, amt) int size, amt;{for ( ; amt > 0; amt -= size ) {size2)initword(NULL, 0);initbyte(0);}} Initialize a byte initbyte(val) int val;{++initted;initted % 101 || !midline)defbyte();	start new lineoutbyte(',');	separate bytesoutdec(val & 0xFF);	insure value is single byteinitted % 100)nl();		filled this line} Initialize a word initword(sym, val) st *sym; int val;{static charcnt;!midline || initted0 || charcnt > 70) {initted)	start new line if necessarynewline();defword();charcnt16;}outbyte(',');	more room on the current linecharcnt += 5;sym) {charcnt += strlen(sym->st_name);prtsymname(sym, val);}outdec(val);initted += 2;} end of CC1.Cstart new lineoutbyte(',');	separate bytesoutdec(val & 0xFF);	insure value is sing                                                                                                                                                                                                                                                                                                                                                                                                /********************************************************/ /*							*/ /*		Q/C Compiler Version 3.1		*/ /*			(Part 2)			*/ /*							*/     Copyright (c) 1983 Quality Computer Systems	*/ /*							*/ /*			08/05/82			*/ /********************************************************/  #include "qstdio.h" #include "cstddef.h" #include "cglbdecl.c"  static argcnt;  Look for a function definition isfunc(funcname, type, sc) *funcname; typeinfo *type; int sc;{*p;*index();st *addglb(); locptrSTARTLOC;	clear local symbolslocspace =		amount of local stack spacenregvar0;		# of variables usedprocarg();!nextc('{') && argcnt0)return FALSE;verbose)qprintf("=== %s()\n", funcname);dumplits();		dump literals for last functioninfuncTRUE;addglb(funcname, type, sc, ID_VAR, DECL_GLB);libflag) {		is this a library generationcloseout();	close last module filepindex(outfil, ':'))build new output filename++p;poutfil; no drive specifiedgetfilename(funcname, p, defext);while (pindex(p, '_')) no underscore in filename*p'1';getoutfil();}astreq(funcname, "main", 4)) {mainflagTRUE;shell();	parse command line}codeseg();glblabel(funcname, sc); print function nameneedpunc('{');		function must begin with {procdecl();		process local declarationscodeseg();prologue(funcname);	beginning code for functioncompound();		evaluate all statmentsepilogue(funcname);	ending code for functioninfuncFALSE;return TRUE;} Process all args for a function procarg(){int sc;typeinfo *type;st *addloc(), *findloc();name[NAMESIZE];argcnt0;while (!matchc(')') && !endst()) {symname(name)) {findloc(name)) already defined?multidef(name); {	add arg to symbol tableaddloc(name, NULL, SC_ARG, ID_VAR, 0);++argcnt;}}!nextc(')') && !matchc(','))error("Expected comma");}while (isdecl(&sc, &type)) {	look for arg declarationsscSC_STATIC || scSC_EXTERN) {scerr();	invalid storage classscSC_ARG;}declarg((sc==SC_NONE)? SC_ARG: sc, type);}} Add arguments to local symbol table declarg(sc, type) int sc; typeinfo *type;{int info;sname[NAMESIZE];st *sym;typeinfo *t;typeinfo *declvar(), *ptrtype;st *findloc(); do {tdeclvar(sname, type, SC_ARG, &info);t->t_codeT_ARRAY) { chg array-of-x to ptr-to-xreftype(ptrtypeptrto(t->t_base));unreftype(t);tptrtype;} t->t_code > T_SIMPLE) {error("Argument can't be that type");continue;}scSC_REG && !(info=needreg(t)))scSC_ARG;	can't put in */(sym=findloc(sname))NULL)error("Name not in argument list"); sym->st_type != NULL)  			multidef(sname); {			fill in symbol table infosym->st_typet;sym->st_scsc;scSC_REG)sym->st_infoinfo;}} while (matchc(','));ns();} Do local declarations procdecl(){int sc, type;while (isdecl(&sc, &type))if storage class not set, use defaultdeclloc((sc==SC_NONE) ? SC_AUTO: sc, type);} Do function begin code prologue(funcname) *funcname;{int offset, regno;st *p; trace)gentrace('>', funcname);locspace0) {		generate call to appropriatenregvar0) {	entry routineargcnt != 0)callib("en"); just set stk frame nothing to do}callib("enr");	save registers}	{nregvar0)callib("ens");	alloc stk space for localscallib("ensr"); alloc stk space & save regdefword();	specify how much stk space neededoutdec(-locspace);nl();}offsetlocspace + ((Z80) ? 6: 4);	fix arg offsetsfor (p=STARTLOC+1-argcnt; p<= STARTLOC; ++p) {p->st_typeNULL) 	undeclared argsreftype(p->st_type=inttype);default to intregno(p->st_scSC_REG)? p->st_info: 0;p->st_scSC_AUTO;p->st_infooffset;regno)			assigned?argtoreg(p, regno);	copy arg into pregoffset += 2;	offset from local stk frame pointer}retvalueretlab0;	signal no return statement found} Do function end code epilogue(funcname) *funcname;{st *sym;typeinfo *type;length; retlab)			was an early return found?linelabel(retlab);	if so, print return labeltrace)gentrace('<', funcname);retvalue)			is there a return value?dotest();		if so, test for zerolocspace0) {		generate call to exit routinenregvar0) {argcnt != 0)restsfp(); just restore stk frame nothing to docret();}callib("exr");	restore registers}	{nregvar0)callib("exs");	clean up stack onlycallib("exrs"); restore regs & clean up stkdefword();	specify how much stk space to clearoutdec(locspace);nl();}minsymimin(minsym, locptr-glbptr);remember symtab spacelengthstrlen(funcname);for (symSTARTLOC; sym > locptr; --sym) {typesym->st_type;type->t_codeT_LABEL && sym->st_scSC_NONE)errname("Undefined label", sym->st_name);unreftype(type);libflag) {			library gen run?sym->st_scSC_EXTERN declare EXTs   && !astreq(sym->st_name, funcname, length))declext(sym->st_name); sym->st_scSC_REG)declext(regname(sym->st_info));}}} end of CC2.Ch stk space to clearoutdec(locspace);nl();}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                /******************************************************** *							* *		Q/C Compiler Version 3.1		* *			(Part 3)			* *							* *	Copyright (c) 1983 Quality Computer Systems	* *							* *			07/08/83			* ********************************************************/  #include "qstdio.h" #include "cstddef.h" #include "cglbdecl.c"  This section parses all the C statements  #define LOAD	TRUE #define NOLOAD	FALSE  /*	Compound statement	*/ Do all statements between {} compound(){++ncmp; 		start new levelwhile (!matchc('}')) {eof)return;statement();}--ncmp; 		close this level} Statement parser statement(){ch()==0 && eof) return;chklabel();		check for a statement labelmatchc('{'))compound(); amatch("if"))doif(); amatch("while"))dowhile(); amatch("for"))dofor(); amatch("return"))doreturn(); amatch("break")){dobreak(); ns();} amatch("continue")){docont(); ns();} amatch("switch"))doswitch(); amatch("do")){dodowhile(); ns();} amatch(""))error(" not matched with if"); amatch("case") || amatch("default")) {error("No active switch statement");matchc(':');} amatch("goto")){dogoto(); ns();} matchc(';'));		null statement{expression(NOLOAD); ns();}} Check for a statement label chklabel(){*ptr;labname[NAMESIZE];!(ptrchksym(labname)) || chks("default"))return 0;	was "default" or not a valid namewhile (isspace(*ptr))++ptr;*ptr != ':')	is it a label?return FALSE;chkeyword())	trying to use keyword as label?keyerr(labname);linelabel(addlabel(labname, SC_AUTO));lptrptr + 1; 	move parse line ptr past labelchklabel();		check for additional labelsreturn TRUE;} Called whenever syntax requires a semicolon ns(){!matchc(';'))error("Missing semicolon");} /*	"if" statement		*/ doif(){lab;labgetlabel();	get false label andgetlabel();		reserve a label to skip ""testexp();		evaluate expressionjumpcond(FALSE, lab);	& branch falsestatement();		if true, do a statement!amatch("")) {	if...?linelabel(lab); no, just print false labelreturn;}an "if..." statementjump(lab + 1);		jump around false codelinelabel(lab); 	print false labelstatement();		and do "" clauselinelabel(lab + 1);	print label to skip ""} /*	"while" statement	*/ dowhile(){swq q, *delswq();q.loopgetlabel();	looping labelq.exitgetlabel();	exit label for "break"addswq(&q);linelabel(q.loop);testexp();		evaluate conditionjumpcond(FALSE, q.exit); & exit if falsestatement();		, do loop bodyjump(q.loop);		loop to condition testlinelabel(q.exit);delswq();} /*	"for" statement 	*/ dofor(){swq q, *delswq();lab1, lab2; needpunc('(');q.exitgetlabel();	exit label for "break"!matchc(';')) {	check for null initializationexpression(NOLOAD); do initializationns();}matchc(';'))	check for null conditionlab10; {linelabel(lab1getlabel());expression(LOAD); check conditionns();}matchc(')'))	check for null incrementlab1) {	see if there was an cond exprjumpcond(FALSE, q.exit);q.looplab1; if so, loop back there}linelabel(q.loopgetlabel()); {			there is an increment expressionlab2getlabel();lab1) {	is there a condition?jumpcond(TRUE, lab2);jump(q.exit);}jump(lab2);linelabel(q.loop=getlabel()); loop to hereexpression(NOLOAD); evaluate increment expressionneedpunc(')');lab1)jump(lab1); there was a cond - check itlinelabel(lab2);}addswq(&q);statement();		do body of for loopjump(q.loop);linelabel(q.exit);	exit labeldelswq();} /*	"do while" statement	*/ dodowhile(){swq q, *delswq();int loop_lab; q.loopgetlabel();   "continue" labelq.exitgetlabel();   exit label for "break"addswq(&q);linelabel(loop_lab=getlabel());statement();		do loop body!match("while"))error("Missing while in dowhile");linelabel(q.loop);testexp();		evaluate conditionjumpcond(TRUE, loop_lab); & loop if truelinelabel(q.exit);delswq();} /*	"return" statement	*/ doreturn(){!endst()) { 		if not end of statement...expression(LOAD);	eval return expressionretvalueTRUE;}ns();!nextc('}') || ncmp > 1) {	not end of function!retlab)		is there a return label?retlabgetlabel();jump(retlab);}} /*	"break" statement	*/ dobreak(){swq *p, *getswq(); pgetswq())	any switches or loops open?jump(p->exit);error("No active switches or loops");} /*	"continue" statement	*/ docont(){swq *p;swq *getswq(); (pgetswq()) && p->loop) { any loops open?jump(p->loop);return;}error("No active loop statement");} /*	"switch" statement	*/ doswitch(){swq q;ncases;case_table *p;auto skiplab, defaultlab;swq *delswq(), *getswq();case_table *delcase(); testexp();		evaluate expression in parenthesesjump(skiplab=getlabel()); skip body of switchq.exitgetlabel();   exit label for "break"if we're in a loop, copy loop label for continueq.loop(p=getswq()) ? p->loop: 0;addswq(&q);defaultlabncases0; no default or cases yetmatchc('{')) {	is body a compound statement?++ncmp; 	bump compound statement counterwhile (!matchc('}')) {eof) return;ncases += docase(&defaultlab);}--ncmp; 	close this level}			switch body is a simple statementncases += docase(&defaultlab);jump(q.exit);	       skip over lib call & its argslinelabel(skiplab);callib("sw");		call library switch routinedefword();		build arg list for lib routineoutdec(ncases); 	tell it number of casesnl();while (ncases--) {	arg list entry for each case(pdelcase())NULL)break;defword();	value which selects this caseoutdec(p->value);outbyte(',');	now, label for this caseprintlabel(p->label);nl();}defword();		arg list ends with default case labelprintlabel(defaultlab ? defaultlab: q.exit);nl();linelabel(q.exit);     "break" statements arrive heredelswq();} /*	Evaluate a switch case	*/ docase(defaultlab) int *defaultlab;	default case label{case_table casentry;ncases;operand cexp; ncases0;for (;;) {	eval all cases/labels before statement    amatch("case")) {constexp(&cexp) != CONSTANT)cexperr(); {       ++ncases;casentry.valuecexp.op_val;linelabel(casentry.labelgetlabel());addcase(&casentry);}needpunc(':');}     amatch("default")) {needpunc(':');*defaultlab) is there a default case already?error("Multiple default cases");linelabel(*defaultlabgetlabel());}     chklabel()) labels can be mixed in;		chklabel does all the work    		it's not a case, default or a labelbreak;    }statement();		process the statementreturn ncases;} /*	"goto" statement	*/ dogoto(){labelname[NAMESIZE];symname(labelname))jump(addlabel(labelname, SC_NONE));} testexp(){needpunc('(');expression(LOAD);	evaluate an expression and get valueneedpunc(')');} end of CC3.Cault case already?error("Multiple default cases");linelabe                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                /********************************************************/ /*							*/ /*		Q/C Compiler Version 3.1		*/ /*			(Part 4)			*/ /*							*/     Copyright (c) 1983 Quality Computer Systems	*/ /*							*/ /*			08/06/83			*/ /********************************************************/  #include "qstdio.h" #include "cstddef.h" #include "cglbdecl.c"  This section is the recursive descent  *	parser of C expressions.  *	heir1() thru heir15() implement  *	the hierarchy of operators.  Evaluate an expression expression(load) int load;{operand op;	op describes the expression found pregflagFALSE;	no value in preg yetheir1(&op);load)		is the value of expression needed?rvalp(&op);unreftype(op.op_type);	remove reference from type table} /*	sequence operator (,)	*/ heir1(op) operand *op;{heir2(op);while (matchc(',')) {pregflagFALSE;heir2(op);	staying at this level causes valuein preg to be right-most expression}} /*	assigment operators (=, +=, |=, etc.	*/ heir2(lop) operand *lop;{operand rop;int optype;typeinfo *exprtype;static depth0;	keep track of nesting depth ++depth;heir3(lop);matchc('=')) {    needlval(lop)) {doasgn(lop, &rop, depth);unreftype(rop.op_type);}    } {    optypech();		check for assignment operator    (match("+=") || match("|=") || match("^=")|| match("&=") || match("*=") || match("-=")|| match(">>=") || match("<<=") || match("/=")|| match("%=")) && needlval(lop)) {rvalpsav(lop);		get value of var & save addrexprtypelop->op_type;preserve type of exprbinop(lop, optype, &rop, heir2);chtype(lop, exprtype);store(lop);		store result (loplop op rop)}    }--depth;} parse a conditional expression e1 ? e2 : e3 #define ZERO	1 #define NONZERO 2 heir3(op1) operand *op1;{cexp1, cexp2, cexp3;label1, saveflag;operand op2, op3;typeinfo *isptr(), *ptrtype2, *ptrtype3; heir4(op1);!matchc('?'))return;cexp1cexp2cexp3FALSE;saveflaggenflag;isconstant(op1))cexp1(op1->op_val) ? NONZERO: ZERO; {rvalp(op1);		load e1jumpcond(FALSE, label1=getlabel()); test e1getlabel();		reserve a label in case}pregflagFALSE;		new expression so preg emptygenflag(saveflag && cexp1 != ZERO); generate code?heir3(&op2);			evaluate e2needpunc(':');isconstant(&op2))cexp2(op2.op_val) ? NONZERO: ZERO;!cexp1) {			don't need jumps if e1 constantrvalp(&op2);jump(label1 + 1);	don't evaluate e3linelabel(label1);	arrive here if e1 is false}pregflagFALSE;genflag(saveflag && cexp1 != NONZERO);heir3(&op3);			evaluate e3genflagsaveflag;isconstant(&op3))cexp3(op3.op_val) ? NONZERO: ZERO;cexp1 && cexp2 && cexp3) {	constant expression?op1->op_val(cexp1==NONZERO)? op2.op_val: op3.op_val;return;}ptrtype2isptr(&op2);ptrtype3isptr(&op3);(ptrtype2 || ptrtype3) && ptrtype2 != ptrtype3   && cexp2 != ZERO && cexp3 != ZERO)error("Inconsistent use of pointers in conditional\  expression");cexp1NONZERO) {pregflagFALSE;	preg is really emptyrvalp(&op2);}rvalp(&op3);cexp1)op1->op_loadEXPRESSION; record that op1 is loadedlinelabel(label1 + 1);	arrive here if e1 is truesettype(&op2, &op3);chtype(op1, op2.op_type);	set type of resultunreftype(op2.op_type); 	remove ref from type table} parse a logical OR expression (e1 || e2) heir4(lop) operand *lop;{operand rop;resultset, label1; heir5(lop);		evaluate e1resultsettestdone;	if lop is test or &&, result is setblanks();!streq(lptr,"||"))return;label1getlabel();getlabel();		reserve a label in case we need itrvalp(lop);while (match("||")) {jumpcond(TRUE, label1); if e1 TRUE, expression is TRUEpregflagFALSE;heir5(&rop);		evaluate e2rvalp(&rop);unreftype(rop.op_type);resultset &= testdone;	record if result is set}resultset)			see if result already setlinelabel(label1); {jumpcond(FALSE, label1 + 1); if e2 0, e1||e2 is 0linelabel(label1);	arrive here if trueset1(); 		set value of e1 || e2 to 1linelabel(label1 + 1);}testdoneTRUE;	record that we just did a testchtype(lop, inttype);	result of logical OR is integer} parse a logical AND expression (e1 && e2) heir5(lop) operand *lop;{operand rop;resultset, label1; heir6(lop);resultsettestdone;		if lop is test, result is setblanks();!streq(lptr,"&&"))return;label1getlabel();rvalp(lop);			load lop in preg if necessarywhile (match("&&")) {jumpcond(FALSE, label1); if e1 is false, we're thrupregflagFALSE;heir6(&rop);		evaluate e2rvalp(&rop);unreftype(rop.op_type);resultset &= testdone;	record if result is set}!resultset) {		see if result must be setjumpcond(FALSE, label1); if e2 is 0, e1&&e2 is 0set1();}linelabel(label1);		false labeltestdoneTRUE;chtype(lop, inttype);		result of logical AND is int} bitwise inclusive OR heir6(lop) operand *lop;{operand rop; heir7(lop);blanks();for (;;) {nch() != '|' && nch() != '=' && matchc('|')) {binop(lop, '|', &rop, heir7)CONSTANT)lop->op_val |= rop.op_val;} break;}} bitwise exclusive OR heir7(lop) operand *lop;{operand rop; heir8(lop);blanks();for (;;) {nch() != '=' && matchc('^')) {binop(lop, '^', &rop, heir8)CONSTANT)lop->op_val ^= rop.op_val;} break;}} bitwise AND heir8(lop) operand *lop;{operand rop; heir9(lop);blanks();for (;;) {nch() != '&' && nch() != '=' && matchc('&')) {binop(lop, '&', &rop, heir9)CONSTANT)lop->op_val &= rop.op_val;}break;}} heir9(lop) operand *lop;{operand rop; heir10(lop);for (;;) {match("==")) {binop(lop, EQ, &rop, heir10)CONSTANT)lop->op_val(lop->op_valrop.op_val);} match("!=")) {binop(lop, NE, &rop, heir10)CONSTANT)lop->op_val(lop->op_val != rop.op_val);}break;chtype(lop, inttype); result of equality op is int}} heir10(lop) operand *lop;{operand rop; heir11(lop);for (;;) {match("<=")) {binop(lop, LE, &rop, heir11)CONSTANT)lop->op_val(lop->op_val <= rop.op_val);} match(">=")) {binop(lop, GE, &rop, heir11)CONSTANT)lop->op_val(lop->op_val >= rop.op_val);} nch() != '<' && matchc('<')) {binop(lop, LT, &rop, heir11)CONSTANT)lop->op_val(lop->op_val < rop.op_val);} nch() != '>' && matchc('>')) {binop(lop, GT, &rop, heir11)CONSTANT)lop->op_val(lop->op_val > rop.op_val);}break;chtype(lop, inttype); result of relation op is int}} heir11(lop) operand *lop;{operand rop; heir12(lop);blanks();for (;;) {!streq(lptr,">>=") && match(">>")) {binop(lop, '>', &rop, heir12)CONSTANT)lop->op_val >>= rop.op_val;} !streq(lptr,"<<=") && match("<<")) {binop(lop, '<', &rop, heir12)CONSTANT)lop->op_val <<= rop.op_val;}break;}} heir12(lop) operand *lop;{operand rop;heir13(lop);blanks();while (nch() != '=') {matchc('+')) {heir13(&rop);doadd(lop, &rop);} matchc('-')) {heir13(&rop);dosub(lop, &rop);}break;}} heir13(lop) operand *lop;{operand rop; heir14(lop);blanks();while (nch() != '=') {matchc('*')) {heir14(&rop);domult(lop, &rop);} matchc('/')) {binop(lop, '/', &rop, heir14)CONSTANT)lop->op_val /= rop.op_val;} matchc('%')) {binop(lop, '%', &rop, heir14)CONSTANT)lop->op_val %= rop.op_val;} break;}} heir14 calls itself because unary operators /*	associate left to right heir14(op) operand *op;{st *sym;typeinfo *type;sawparen, savegflag, savepflag;typeinfo *abstdecl(), *isptr(), *ptrto(); match("++")) {		pre-incrementheir14(op);needlval(op))addto(op, 1);return;}match("--")) {		pre-decrementheir14(op);needlval(op))addto(op, -1);return;}nextc('-')) {		unary minus (negation)constant(op))	check for negative constantreturn;gch();heir14(op);		evaluate expressionrvalp(op);		load in pregcneg(); 		negate pregreturn;}matchc('*')) {		indirectionheir14(op);		evaluate expression!isptr(op))error("Not a pointer"); {rvalp(op);op->op_symNULL;record that addr of lvalueop->op_load(LOADVALUE|LVALUE); is in pregderef(op);	remove a layer of ptr}return;}matchc('!')) {		logical not (!exp)heir14(op);		evaluate expressionrvalp(op);		load in pregcnot(); 		logical not of pregchtype(op, inttype);	result is always intreturn;}matchc('~')) {		one's complement (~exp)heir14(op);isconstant(op))op->op_val~op->op_val; constant expression {rvalp(op);	load in pregccom(); 	complement preg}return;}matchc('&')) {		addressheir14(op);symop->op_sym;!islval(op) ||   (sym != NULL && sym->st_scSC_REG)) {error("Illegal address");return;}chtype(op, ptrto(op->op_type)); chg type to ptr_to_typeop->op_load &= ~(LVALUE|LOADVALUE); no longer lvalueop->op_sym != NULL) { if not already loaded...*/op->op_load |= LOADADDR;need to load addresssetconstaddr(op); check for constant address}return;}amatch("sizeof")) {sawparenmatchc('(');typeabstdecl()) { sizeof abstract declaratorreftype(op->op_typeinttype);op->op_valtype->t_size;sawparen)needpunc(')');} {			sizeof a variablesawparen)putback('(');savegflaggenflag;savepflagpregflag;pregflaggenflagFALSE;heir14(op);genflagsavegflag;pregflagsavepflag;op->op_valop->op_type->t_size;chtype(op, inttype);}op->op_symNULL;op->op_load(LOADVALUE|CONSTANT);return;}matchc('(')) {		check for casttypeabstdecl()) {needpunc(')');heir14(op);chtype(op, type);return;}putback('(');}heir15(op);			look for a primary expressionmatch("++")) {		post-incrementneedlval(op))addto(op, 1);increment(op, -1);	recover original valuereturn;}match("--")) {		post-decrementneedlval(op))addto(op, -1);increment(op, 1);return;}} heir15(op1) operand *op1;{dot, offset;operand op2;typeinfo *isptr(); primary(op1);matchc('(')) {op1->op_type->t_code != T_FUNC)error("Not a function");callfunction(op1->op_sym);deref(op1);		change to type func returnsop1->op_loadEXPRESSION; and mark as loadedreturn;}for (;;) {			check for reference(dot=matchc('.')) || match("->")) {    !dot) {rvalp(op1);op1->op_symNULL; says addr in preg}    !ismember(&op2)) {error("Not a structure member");op1->op_loadEXPRESSION;}     {offsetop2.op_sym->st_info;dot && (op1->op_sym != NULL))op1->op_val += offset;addconst(offset);op1->op_load(LVALUE|LOADVALUE);/*member is lval*/chtype(op1, op2.op_type); use member infosetconstaddr(op1); chk for constant addressunreftype(op2.op_type);}    } matchc('[')) { check for array referenceheir1(&op2);doadd(op1, &op2);op1->op_loadEXPRESSION)op1->op_symNULL; says addr in preg			not an array nowop1->op_load &= ~LOADADDR;op1->op_load |= (LVALUE|LOADVALUE);isptr(op1))deref(op1); {error("Can't subscript");op1->op_loadEXPRESSION;}needpunc(']');}break;}} See if next token is a structure member ismember(op) operand *op;{name[NAMESIZE];st *p;st *findtag(); !symname(name))return FALSE; (p=findtag(name))NULL || p->st_scSC_TYPE)return FALSE; {initop(op, p, p->st_type, LVALUE|LOADVALUE);return TRUE;}} Evaluate a primary expression primary(op) operand *op;{st *sym;typeinfo *type;typeinfo *ptrto();st *addloc(), *findglb(), *findloc();sname[NAMESIZE]; matchc('(')) {heir1(op);     start a new expressionneedpunc(')');	/*	one level downreturn;}chksym(sname)) {	see if next token is legal nameskip();!(symfindloc(sname))) {	is it a local?    symfindglb(sname)) { or a global?sym->st_info==DECL_LOC) declared locally?symNULL;	not known here libflag && infunc)addloc(sname, sym->st_type, SC_EXTERN,	ID_VAR, 0);}    }sym) {		if it's defined ...typesym->st_type;initop(op, sym, type, EXPRESSION);switch (type->t_code) {case T_LABEL:errname("Illegal use of label",sym);break;case T_FUNC:	if not a call...!nextc('(')) { make ptr-to-func	chtype(op, ptrto(type));	op->op_loadLOADADDR;	}break;case T_ARRAY:	chg array-of-x to ptr-to-xop->op_loadLOADADDR;break;default:	other types are lvalueop->op_load(LVALUE|LOADVALUE);break;}setconstaddr(op); chk for constant addressreturn;}nextc('(')) {	is it a function reference?addglb(sname, functype, SC_EXTERN, ID_VAR, DECL_LOC);symaddloc(sname, functype, SC_EXTERN, ID_VAR, 0);initop(op, sym, functype, EXPRESSION);} {	try to avoid more errors by definingerrname("Undefined variable",sname);type(nextc('[')) ? ptrto(inttype): inttype;symaddloc(sname, type, SC_EXTERN, ID_VAR, 0);initop(op, sym, type, (LOADVALUE|LVALUE));}return;}This should be a constant or a string!constant(op) && !string(op)) { if not, it's an errorsavepreg();limmed(0, PREG);error("Invalid expression");ch() != ';')junk(); 	skip bad stuffinitop(op, NULL, inttype, EXPRESSION);}} Change array reference to address of array unarray(op) operand *op;{op->op_sym!=NULL && !isloaded(op)) if op is not loadedop->op_load |= LOADADDR; must reference by addressop->op_load &= ~(LVALUE|LOADVALUE); array has no lvalue} Check for constant address or constant offset from stack pointer setconstaddr(op) operand *op;{sc; op->op_load & LOADADDR) {	is op referenced by addr?scop->op_sym->st_sc;scSC_GLOBAL || scSC_ST_GLB   || scSC_EXTERN || scSC_STATIC)op->op_load |= CONSTADDR; scSC_AUTO)op->op_load |= CONSTOFF;}} Initialize an expression operand initop(op, sym, type, load) operand *op; st *sym; typeinfo *type; int load;{ #ifndef PORTABLEextern *_free;&load <= _free) {qprintf("\nOut of memory - compilation terminated\n");exit(1);} #endifop->op_symsym;reftype(op->op_typetype);op->op_val0; 	offset of variable starts at zeroop->op_loadload;} needlval(op) operand *op;{islval(op))return TRUE; {error("Must be lvalue");return FALSE;}} end of CC4.CSC_AUTO)op->op_load |= CONSTOFF;}} Initialize an expression operand initop(op, sym, type, load)                                                                                                                                                                                                                                                                                                                                                                                                /********************************************************/ /*							*/ /*		Q/C Compiler Version 3.1		*/ /*			(Part 5)			*/ /*							*/     Copyright (c) 1983 Quality Computer Systems	*/ /*							*/ /*			07/23/83			*/ /********************************************************/  #include "qstdio.h" #include "cstddef.h" #include "cglbdecl.c"  This section identifies tokens in declarations  *	and manages all of the compiler tables   Check next token to see if it is a keyword chkeyword(){return (  chks("break")   || chks("case")    || chks("continue")       || chks("default") || chks("do")      || chks("double")       || chks("")	  || chks("entry")   || chks("enum")       || chks("float")   || chks("for")     || chks("goto")       || chks("if")	  || chks("return")  || chks("sizeof")       || chks("struct")  || chks("switch")       || chks("union")   || chks("while")   || chkdecl());} Check to see if we have a declaration chkdecl(){return (chktype() || chksc());} Check for a valid C variable type chktype(){blanks();chks("int"))return T_INT; chks("char"))return T_CHAR; chks("unsigned"))return T_UNSIGNED; chks("struct"))return T_STRUCT; chks("union"))return T_UNION; chks("short"))return T_SHORT; chks("long"))return T_LONG;return T_NONE;} Check for a valid C variable storage class chksc(){blanks();chks("register"))return SC_REG; chks("static"))return SC_STATIC; chks("extern"))return SC_EXTERN; chks("typedef"))return SC_TYPE; chks("auto"))return SC_AUTO;return SC_NONE;} Get a valid C variable type if present typeinfo * gettype(){type, newtype;typeinfo *istypedef(), *decltag(), *p_type; typeT_NONE;		start with no typefor (;;) {		process all type specifiersswitch (newtypechktype()) {case T_LONG:notavail("long integers");case T_SHORT:typeT_NONE)typeT_INT;typerr();break;case T_UNION:case T_STRUCT:case T_UNSIGNED:case T_CHAR:typeT_NONE)typenewtype;typerr();break;case T_INT:typeT_CHAR) type may be T_INT if wetyperr(); found long/short already typeT_NONE) leave unsigned alonetypeT_INT;break;default:switch (type) {case T_STRUCT:case T_UNION:return decltag(type);case T_UNSIGNED:return unsgntype;case T_CHAR:return chartype;case T_INT:return inttype;case T_NONE:p_typeistypedef())	skip(); skip typedef namereturn p_type;}}skip(); 		skip the type keyword}} See if next token is a typedef name typeinfo * istypedef(){st *sym;st *findglb(), *findloc();*chksym(), name[NAMESIZE]; !chksym(name))return NULL;infunc && (symfindloc(name))   || (symfindglb(name)) && sym->st_infoDECL_GLB) {sym->st_scSC_TYPE)return sym->st_type;}return NULL;} Get a valid C variable storage class if present getsc(){int sc;scchksc())skip(); 	skip over the keywordreturn sc;} Parse an abstract declarator typeinfo * abstdecl(){typeinfo *type;typeinfo *gettype(), *loadtype();parsestack ts; typegettype()) {ts.curr_ptrts.stack; initialize local stackdodecl(&ts, NULL);	analyze the declaratortypeloadtype(type, &ts);type->t_codeT_ARRAY && type->t_size-1)sizerr();return type;}return NULL;} Load a local type entry into the type table typeinfo * loadtype(type, ts) typeinfo *type; parsestack *ts;{typestack *p, *startstack;size;typeinfo *addtype(), *ptrto(); startstackts->stack;for (pts->curr_ptr; --p >= startstack; ) {switch (p->t_code) {case T_PTR:typeptrto(type);break;case T_FUNC:type->t_code<=T_NONE || type->t_code>T_SIMPLE) {error("Function can't return aggregate");typeinttype;}typeaddtype(T_FUNC,type,S_FUNC);break;case T_ARRAY:type->t_codeT_FUNC) {error("No arrays of functions");typeptrto(type);}p->t_size-1 && p != startstack) {sizerr();sizetype->t_size;} p->t_size-1)size-1; sizep->t_size * type->t_size;typeaddtype(T_ARRAY, type, size);break;}}return type;} Process a declarator dodecl(ts, name) parsestack *ts; *name;{matchc('*')) {dodecl(ts, name);pushtype(ts, T_PTR, 1);return;}		matchc('(')) {dodecl(ts, name);needpunc(')');} name != NULL)	no name for abstract declaratorsymname(name);matchc('(')) {nameNULL real declarations will do own chk   || ts->curr_ptr > ts->stack) pointer-to-funcneedpunc(')');pushtype(ts, T_FUNC, 1);} while (matchc('['))pushtype(ts, T_ARRAY, arraysize());} Push a type onto a local type parsing stack pushtype(ts, code, itemct) parsestack *ts; int code, itemct;{typestack *tsptr; tsptrts->curr_ptr;tsptr < &ts->stack[TSSIZE]) {tsptr->t_codecode;tsptr->t_sizeitemct;++ts->curr_ptr;}error("This type is too ornate");} Test for legal symbol name symname(sname) *sname;{*chksym();!chksym(sname)) {skip(); 	pass by the nameillname();	illegal symbol namereturn FALSE;} chkeyword()) {skip();keyerr(sname);	illegal use of keywordreturn FALSE;} {			valid symbol nameskip();return TRUE;}} Check for a valid symbol *chksym(name) *name;{int i;*ptr;blanks();!isletter(ch())) {	name must start with an alpha*name'\0';return FALSE;}i0;ptrlptr;while (isletnum(*ptr)) {i++ < NAMEMAX)*name++*ptr;++ptr;}*name'\0';return ptr;		return location of after name} Add a statement label to the local symbol table addlabel(labname, sc) *labname; int sc;{st *p;int labno;st *addloc(), *findloc();check if labname is already in local symbol tablepfindloc(labname)) {p->st_type->t_code != T_LABEL) {multidef(labname); previouslyreturn 0;	defined as a variable} p->st_scSC_AUTO) {scSC_AUTO) 2nd definitionmultidef(labname);} labname previously used in goto onlyp->st_scsc;	  define it nowreturn p->st_info;	  return label # assigned}addloc(labname, labeltype, sc, ID_VAR, labnogetlabel());return labno;} Return next available internal label number getlabel(){static nextlabel0;return (++nextlabel);} Add an entry to the switch/loop queue addswq(p) swq *p;{pswq >= swq+nswq)error("Too many active switches or loops"); {pswq->loopp->loop;pswq->exitp->exit;++pswq;}} Delete an entry from the switch/loop queue delswq(){swq *getswq();getswq())--pswq;error("No active switches or loops to delete");} Get the most recent entry in the switch/loop queue swq * getswq(){return (pswqswq) ? NULL: pswq - 1;} Add an entry to the switch case table addcase(p) case_table *p;{pcasetab >= casetab+ncases)error("Too many switch cases"); {pcasetab->valuep->value;pcasetab->labelp->label;++pcasetab;}} Delete an entry from the switch case table case_table * delcase(){pcasetab > casetab)return (--pcasetab); {error("No entry in case table to delete");return NULL;}} See if name is defined in macro pool  #ifdef PORTABLE  *findmac(name) *name;{*ptr;ptrmacpool;while (ptr > pmacsym) {astreq(name, ptr, NAMEMAX))return ptr;ptr -= MACSIZE;}return NULL;} #endif  Add a define macro to the macro pool addmac(name) *name;{*p, c;*findmac();while (ch()' ' || ch()'\t')gch();pfindmac(name)) {	already defined?p(int *) (p+MACPTR); get replacement textwhile (cgch()) {	redefinition mustc != *p)	/*	be the samebreak;++p;}c != '\0' || *p != '\0') { either not at end?multidef(name);kill();}return;}pmacsym <= pmacdef) {macfull();		can't fit another macrokill();return;}strcpy(pmacsym, name);*(int *)(pmacsym+MACPTR)pmacdef; record def locationwhile (*pmacdef++gch()) {	copy definitionpmacdef >= pmacsym) {macfull();	next will overflowkill();*(--pmacdef)'\0';break;}}pmacsym -= MACSIZE;} macfull(){error("Macro (#define) pool is full");} Remove next name from the #define macro pool delmac(){*ptr, *isdef();ptrisdef())		if the name is defined,*ptr'\0';		wipe it outerror("Can't #undef - not defined");} See if the next token is a #defined name *isdef(){*findmac(), name[NAMESIZE];symname(name))return findmac(name);return NULL;} /*	Evaluate a constant expression		*/ constexp(cexp) operand *cexp;{sc;genflagFALSE;	kill code generationheir2(cexp);		no comma operators or assignmentgenflagTRUE;unreftype(cexp->op_type);return (cexp->op_sym) ? if a symbol was found ...(cexp->op_load & CONSTADDR): chk constant address(cexp->op_load & CONSTANT);   chk for constant} If next token is a constant build an operand with its value constant(op) operand *op;{int val;hex(&val)||octal(&val)||decimal(&val)||charconst(&val)) {op->op_symNULL;reftype(op->op_typeinttype);op->op_load(LOADVALUE|CONSTANT);op->op_valval;return TRUE;}return FALSE;return TRUE;} Check for hexadecimal constant hex(val) int *val;{match("0x") || match("0X")) {*valgethex();return TRUE;}return FALSE;} Convert string to hex value gethex(){v, d;v0;for (;;) {dchupper(ch());isdigit(d))d -= '0'; d >= 'A' && d <= 'F')d -= ('A' - 10);break;v16 * v + d;gch();}return v;} Check for octal constant octal(val) int *val;{k;!matchc('0'))return FALSE;k0;while (isdigit(ch()))kk * 8 + gch() - '0';*valk;return TRUE;} Check for decimal constant decimal(val) int *val;{c;blanks();(cch())'+' || c'-')cnch();	next character must be digit!isdigit(c))return FALSE;*valatoi(lptr);do {gch();} while (isdigit(ch()));return TRUE;} Check for character constant charconst(val) int *val;{c, k;!matchc('\''))return FALSE;k0;while ((c=gch()) != '\'' && c != 0) {c'\\')cescape();k(k << 8) + (c & 0xFF);}*valk;return TRUE;} Check for string, build an operand, and add it to the literal pool string(op) operand *op;{c, label;static litfullFALSE; !matchc('"'))return FALSE;lit_sym.st_infolit_label;	point to current literal poolinitop(op, &lit_sym, lit_sym.st_type, (LOADADDR|CONSTADDR));op->op_valplitpool-litpool;	offset from start of litpooldo {cgetstring();plitpool-litpool >= LITSIZE) {romflag) {	ROM strings go in CSEGlabelgetlabel();jump(label); jump over string}dumplits();litfullTRUE;}*plitpool++(c-1) ? '\0': c;} while (c != -1);litfull) {			if part of literal dumpeddumplits();		already, dump the restlitfullFALSE;codeseg();		back to code segmentromflag)linelabel(label);}return TRUE;} Get the next character in a literal string getstring(){int c;switch (cgch()) {case '"':return -1;case '\\':return escape();default:return c;}} Evaluate an escape character constant escape(){c,count,octal;switch (cgch()) {case 'f':return '\f';case 'r':return '\r';case 'b':return '\b';case 't':return '\t';case 'n':return '\n';}isdigit(c)) {	  octal sequencecount0;octalc - '0';while (isdigit(ch()) && ++count<3)octaloctal * 8 + gch() - '0';return octal;}return c;} /*  *   Symbol table handling functions  st * findglb(sname) *sname;{st *findvar();return findvar(STARTGLB, glbptr, sname, ID_VAR);} st * findloc(sname) *sname;{st *findvar();return findvar(locptr+1, symtab+nsym, sname, ID_VAR);} st * findtag(sname) *sname;{st *p, *findvar(); pfindvar(locptr+1, symtab+nsym, sname, ID_STRUCT))return p;return findvar(STARTGLB, glbptr, sname, ID_STRUCT);}  #ifdef PORTABLE  st * findvar(start, end, sname, idset) st *start; st *end; *sname; int idset;{st *p;for (pstart; p < end; ++p){astreq(sname, p->st_name, NAMEMAX)    && p->st_idset==idset)return p;}return NULL;} #endif  st *addglb(sname,type,sc,idset,info) *sname; typeinfo *type; int sc, idset, info;{st *findglb(), *addvar();st *p; idset != ID_STRUCT && (pfindglb(sname))) {check for consistency (info is checked whenit is declared since locals must be checked also)sc != SC_EXTERN) {	is this the definition?p->st_scSC_GLOBAL || p->st_scSC_ST_GLB) {multidef(sname); already definedreturn NULL;}p->st_scsc;		say it's definedp->st_infoinfo;}p->st_type != type) 	types must be the same*/errname("Inconsistent declaration", sname);} paddvar(glbptr,sname,type,sc,idset,info))++glbptr;return p;} st * addloc(sname,type,sc,idset,info) *sname; typeinfo *type; int sc, idset, info;{st *p, *addvar(); paddvar(locptr,sname,type,sc,idset,info))--locptr;return p;} st * addvar(p,sname,type,sc,idset,info) st *p; *sname; typeinfo *type; int sc, idset, info;{glbptr >= locptr) {error("Symbol table full");return NULL;}type != NULL) 	reftype(type);strcpy(p->st_name, sname);p->st_type type;p->st_scsc;p->st_idsetidset;p->st_infoinfo;return p;} /*  *  Type-handling functions  inittypes(){int i;typeinfo *addtype();for (i=0; i<n_types; ++i) {typelist[i].t_codeT_NONE;typelist[i].t_next&typelist[i+1];}typelist[n_types-1].t_nextNULL;for (i=0; i<T_MAX; ++i)basetypes[i]NULL;basetypes[T_NONE]typelist;define some oft-used types, and mark them permanentchartypeaddtype(T_CHAR, NULL, S_CHAR); reftype(chartype);inttype addtype(T_INT, NULL, S_INT); reftype(inttype);unsgntypeaddtype(T_UNSIGNED,NULL,S_UNSIGN); reftype(unsgntype);labeltypeaddtype(T_LABEL, NULL, 0);	reftype(labeltype);functypeaddtype(T_FUNC, inttype, 0); reftype(functype);} Add a new type to table typeinfo * addtype(typecode,base,size) int typecode, size; typeinfo *base;{typeinfo *p;typeinfo *findtype(), *uniquetype(); (p=findtype(typecode,base,size))NULL)puniquetype(typecode,base,size);return p;} typeinfo * uniquetype(typecode,base,size) int typecode, size; typeinfo *base;{typeinfo *p;typeinfo *alloctype(); (p=alloctype(typecode,base,size))NULL)return inttype; {	p->t_nextbasetypes[typecode];basetypes[typecode]p;return p;}} reftype(p) typeinfo *p;{++p->t_refs;} unreftype(p) typeinfo *p;{--p->t_refs0)scraptype(p);} Convert "type" to "ptr-to-type" typeinfo * ptrto(type) typeinfo *type;{typeinfo *addtype(); return addtype(T_PTR, type, S_PTR);}  Find a type in the table typeinfo * findtype(typecode,base,size) int typecode, size; typeinfo *base;{typeinfo *p, *q; for (p=basetypes[typecode]; p!=NULL; ) {qp->t_next;p->t_sizesize && p->t_basebase)return p;pq;}return NULL;} Allocate an entry in the type table typeinfo * alloctype(typecode,base,size) int typecode, size; typeinfo *base;{typeinfo *p; base != NULL)reftype(base);basetypes[T_NONE]NULL && !typecollect()) {error("Too many different types in use");base != NULL)unreftype(base);return NULL;} {	pbasetypes[T_NONE];basetypes[T_NONE]p->t_next;p->t_codetypecode;p->t_sizesize;p->t_refs0;p->t_nextNULL;p->t_basebase; 	return p;}} Remove a type from the type table scraptype(p) typeinfo *p; {	typeinfo *t, *prev; p->t_base != NULL)unreftype(p->t_base);prevNULL;for (t=basetypes[p->t_code]; t!=NULL; t=t->t_next) {tp) {freetype(prev,p);break;}prevt;}} Return a type node to the free list freetype(prev,type) typeinfo *prev; typeinfo *type;{prevNULL)basetypes[type->t_code]type->t_next;prev->t_nexttype->t_next;type->t_nextbasetypes[T_NONE];basetypes[T_NONE]type;type->t_codeT_NONE;} typecollect(){int code, freed;typeinfo *p, *prev, *next; freed0;for (code=T_NONE+1; code<T_MAX; ++code) {prevNULL;for (p=basetypes[code]; p!=NULL; pnext) {nextp->t_next;p->t_refs>0)prevp; {Unused node - free it after removing * the reference to its base type. * Unreftype() isn't used because a node * somewhere in the chain from here to the * real base type may have already been freed, * and that will make unreftype() choke. * Instead, we just decrement the use count, * and let the next collection pick it up.p->t_base != NULL)	p->t_base->t_refs--;freetype(prev, p);++freed;}}}return freed;} Strip a layer off of op's type deref(op) operand *op;{chtype(op, op->op_type->t_base);} Set type of expression to highest of either operand settype(lop, rop) operand *lop, *rop;{typeinfo *rtype; rtyperop->op_type;rtype->t_code > lop->op_type->t_code)chtype(lop, rtype);unreftype(rtype);lop->op_type->t_codeT_ARRAY) Change array to ptrchtype(lop, ptrto(lop->op_type->t_base));} chtype(op,new) operand *op; typeinfo *new;{reftype(new);unreftype(op->op_type);op->op_typenew;new->t_codeT_ARRAY)unarray(op);} basesize(op) operand *op;{typeinfo *p; pop->op_type->t_base;p->t_size0)error("Size unknown");return p->t_size;} Check op to see if it is a pointer typeinfo * isptr(op) operand *op;{typeinfo *type;typeop->op_type;type->t_codeT_PTR)return type; type->t_codeT_ARRAY)return ptrto(type->t_base);return NULL;} islval(op) operand *op;{return (op->op_load & LVALUE);} isconstant(op) operand *op;{return (op->op_load & CONSTANT);} isscalar(op) operand *op;{return (op->op_type->t_code<T_SIMPLE) ? op->op_type: NULL;} isloaded(op) operand *op;{return (op->op_load & (LOADVALUE|LOADADDR))0;} isaddr(op) operand *op;{return (islval(op) && op->op_symNULL);} end of CC5.Cinfo *type;typeop->op_typ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                /********************************************************/ /*							*/ /*		Q/C Compiler Version 3.1		*/ /*			(Part 6)			*/ /*							*/     Copyright (c) 1983 Quality Computer Systems	*/ /*							*/ /*			07/01/83			*/ /********************************************************/  #include "qstdio.h" #include "cstddef.h" #include "cglbdecl.c"  This section contains code generation routines which  * reflect the architecture of the target machine but  * which don't generate any assembler mnemonics   /*  * Do binary operators  *	Return: CONSTANT if constant expression  *		FALSE	 if not  binop(lop, binop, rop, heirn) operand *lop, *rop; binop; int (*heirn)();{oprev, unsignlop; (*heirn)(rop);specialcase(lop, binop, rop))return FALSE; (oprev=loadops(lop, rop))CONSTANT)return CONSTANT;unsignlopisptr(lop) || lop->op_type->t_codeT_UNSIGNED;switch (binop) {case '|':cor();break;case '^':cxor();break;case '&':cand();break;case EQ:ceq();break;case NE:cne();break;case LE:unsignlop)(oprev) ? cuge(): cule();(oprev) ? cge(): cle();break;case GE:unsignlop)(oprev) ? cule(): cuge();(oprev) ? cle(): cge();break;case LT:unsignlop)(oprev) ? cugt(): cult();(oprev) ? cgt(): clt();break;case GT:unsignlop)(oprev) ? cult(): cugt();(oprev) ? clt(): cgt();break;case '>':(unsignlop) ? clsr(oprev): casr(oprev);break;case '<':casl(oprev);break;case '%':case '/':oprev)swap();unsignlop) cudiv(); cdiv();binop'%')swap();break;}return FALSE;} specialcase(lop, binop, rop) operand *lop, *rop; int binop;{switch(binop) {case '*':domult(lop, rop);break;case '-':dosub(lop, rop);break;case '+':doadd(lop, rop);break;case EQ:!isconstant(lop) && isconstant(rop)) {rvalp(lop);switch (rop->op_val) {case -1:cinc();goto case0;case 1:cdec();case 0: case0:cnot();break;default:rvals(rop);ceq();break;}unreftype(inttype);break;}default:return FALSE;}return TRUE;} Add rop to lop doadd(lop, rop) operand *lop, *rop;{typeinfo *lptrtype, *rptrtype;int n;isconstant(lop) && isconstant(rop)) {lop->op_val += rop->op_val; constant expressionunreftype(inttype);return;}lptrtypeisptr(lop);rptrtypeisptr(rop);isconstant(rop)) {		do special caseslptrtype)		must scale for pointersnrop->op_val * basesize(lop);nrop->op_val;(lop->op_load & LOADADDR)   && (lop->op_load & (CONSTADDR|CONSTOFF)))lop->op_val += n; change offset only {rvalp(lop);	load lop if necessaryaddconst(n);}unreftype(rop->op_type);return;}isconstant(lop)) {rptrtype)lop->op_val *= basesize(rop);(rop->op_load & LOADADDR)   && (rop->op_load & (CONSTADDR|CONSTOFF)));		offset has been changed {rvalp(rop);	load rop if necessaryaddconst(lop->op_val);}chtype(lop, rop->op_type); now lop is that typelop->op_loadrop->op_load; record loading infolop->op_symrop->op_sym;unreftype(rop->op_type);return;}lptrtype) { 	must scale for pointer additionrptrtype)error("Can't add pointers");rvalp(rop);multconst(basesize(lop));} rptrtype) {rvalp(lop);multconst(basesize(rop));chtype(lop, rop->op_type);}loadops(lop, rop);cadd();} addto(op,sign) operand *op; int sign;{rvalpsav(op);increment(op, sign);store(op);} increment(op, sign) operand *op; int sign;{isptr(op))addconst(sign * basesize(op));addconst(sign);} Subtract rop from lop dosub(lop, rop) operand *lop, *rop;{typeinfo *lptrtype, *rptrtype;size;isconstant(rop)) {rop->op_val-rop->op_val;doadd(lop, rop);	do lop + (-rop)return;}rptrtypeisptr(rop);lptrtypeisptr(lop);lptrtype && !rptrtype) {rvalp(rop);		scale for ptr - scalarmultconst(basesize(lop));}loadops(lop, rop))swap(); 		operands loaded in reverse ordercsub();rptrtype) {!lptrtype)error("Can't subtract pointer from scalar"); lptrtype != rptrtype)error("Can't subtract unlike pointers"); {it's ptr - ptr so compute occurrencessizebasesize(lop);size > 1) {swap(); 	put diff in sreglimmed(size,PREG);and divide by sizecdiv();}chtype(lop, inttype); now it's just a count}}} Multiply lop by rop domult(lop, rop) operand *lop, *rop;{isconstant(lop) && isconstant(rop))lop->op_val *= rop->op_val;	constant expression isconstant(rop)) {rvalp(lop);multconst(rop->op_val); 	chk for special cases} isconstant(lop)) {rvalp(rop);multconst(lop->op_val);chtype(lop, rop->op_type);	record what we didlop->op_loadEXPRESSION;} {loadops(lop, rop);cmult();return;}unreftype(rop->op_type);} Multiply primary reg by 'size' multconst(size) int size;{switch (size) {case 64: doublereg();case 32: doublereg();case 16: doublereg();case  8: doublereg();case  4: doublereg();case  2: doublereg();case  1: return;default:limmed(size, SREG);cmult();return;}} Do a function call callfunction(sym) st *sym;	symbol table entry (or NULL){int nargs;typeinfo *type;operand op;*p;nargs0;blanks();symNULL ||	if we're calling address in preg or    pregflag)		preg contains something...*/cpush(PREG);	save itwhile (!streq(lptr,")")) { process argumentsendst())break;	premature end of function callpregflagFALSE;	start new expressionheir2(&op);		get arg, but no comma opstypeop.op_type;type->t_codeT_STRUCT || type->t_codeT_UNION) {error("Can't pass structures or unions");op.op_load &= ~LOADVALUE; chg to ptr refop.op_load |= LOADADDR;}rvalp(&op);symNULL)	calling addr on top of stkswapstk();	keep addr on top of stackcpush(PREG);		push addr or arg in preg++nargs;unreftype(type);	remove type table ref!matchc(','))	any more arguments?break;}needpunc(')');sym) {psym->st_name;	special case for "_printf"(pindex(p, 'p')) && astreq(p, "printf", 6)) {limmed(nargs, PREG); add argument countcpush(PREG);++nargs;	one more arg must be cleared}ccall(sym->st_name);	call named function}callstk();	 call address on top of stackpregflagTRUE;clearstk(2 * nargs);testflagTESTED;	return value is tested by function} Copy an argument into a */ argtoreg(p, regno) st *p; int regno;{operand arg; initop(&arg, p, p->st_type, LOADVALUE);pregflagFALSE;rvalp(&arg);			copy arg into pregp->st_scSC_REG;p->st_inforegno;arg.op_symp;store(&arg);unreftype(p->st_type);} Load operands in the proper registers  *	Return: CONSTANT if both operands are constant  *		TRUE	if operands are loaded in  *			reverse of normal order  *		FALSE	otherwise  loadops(lop, rop) operand *lop, *rop;{oprev;oprevFALSE;		record order operands are loadedisconstant(lop)) {LOP is CONSTANTisconstant(rop)) {unreftype(inttype);return CONSTANT;} {				ROP not CONSTANTrvalp(rop);rvals(lop);}} isloaded(lop)) {LOP is already LOADEDisloaded(rop))		ROP is LOADEDcpop(SREG);		retrieve lop in sreg isconstant(rop)) {		ROP is CONSTANTrvals(rop);		rop into sregoprevTRUE;		reverse order} isaddr(rop)) { 	ROP is ADDRESSrvalp(rop);		addr of rop in pregcpop(SREG);		retrieve lop} {				ROP is VARIABLEswap(); 		move lop into sregpregflagFALSE;	preg emptyrvalp(rop);		load rop into preg}} isaddr(lop)) {LOP ADDRESS is in PREGisloaded(rop)) {		ROP is LOADEDswap(); 		move rop into sregpregflagFALSE;	preg emptycpop(PREG);		retrieve lop addrrvalp(lop);		load lop in pregoprevTRUE;		reverse order} isaddr(rop)) { 	ROP is ADDRESSrvals(rop);		rop into sregcpop(PREG);		get addr of loprvalp(lop);		lop in pregoprevTRUE;		reverse order} {				ROP CONSTANT or VARrvals(lop);		lop indirect to sregrvalp(rop);		rop into preg}} {LOP is a VARIABLEisconstant(rop)) {		ROP is CONSTANTrvalp(lop);		lop in pregrvals(rop);		rop in sregoprevTRUE;		reverse order} isloaded(rop)) {	ROP is LOADEDswap(); 		rop into sregpregflagFALSE;	preg emptyrvalp(lop);		lop into pregoprevTRUE;		reverse order} isaddr(rop)) { 	ROP is ADDRESSrvals(rop);		rop indirect to sregrvalp(lop);		lop into pregoprevTRUE;		reverse order} {				ROP is VARIABLErvalp(lop);		lop in pregswap(); 		switch to sregpregflagFALSE;	preg emptyrvalp(rop);		rop in preg}}settype(lop, rop);	set type of expressionreturn oprev;} Get the value of op in preg rvalp(op) operand *op;{load_info;isloaded(op))return;isaddr(op)) {		addr of op already loadedindirect(op->op_type->t_size);op->op_loadEXPRESSION;pregflagTRUE;return;}savepreg();			save preg if it's in useload_infoop->op_load;load_info & (CONSTANT|ASGCONST)) is it a constant?limmed(op->op_val, PREG); load_info & LOADADDR)	do we want the address...getaddr(op); load_info & LOADVALUE) or the value of op?load(op);op->op_loadEXPRESSION;	record that op is loaded} Get the value of op in preg and save its address if it's not fixed. rvalpsav(op) operand *op;{op->op_symNULL) 	if addr of op already in pregcpush(PREG);		save it op->op_sym->st_scSC_AUTO) {savepreg();getaddr(op);		load address andcpush(PREG);		save it}rvalp(op);} Get the value of op in sreg rvals(op) operand *op;{isconstant(op))limmed(op->op_val, SREG); load value immediate op->op_symNULL) {	address is in pregsindirect(op->op_type->t_size);pregflagFALSE;	preg is now free}op->op_loadEXPRESSION;	record that op is loaded} Load operand into preg load(op) operand *op;{st *sym; symop->op_sym;peepflagPREGSYM   && astreq(sym->st_name, peepsym, strlen(peepsym))   && op->op_valpeepoffset)return; 	sym is already in pregsym->st_scSC_AUTO)autoload(op);getmem(op);} Store preg into operand op store(op) operand *op;{op->op_symNULL) 	store at address on stackputstk(op->op_type->t_size);putmem(op);		store in memoryop->op_loadEXPRESSION;	keep op from being loaded} Load specified object size indirect into preg indirect(size) int size;{peepflagADDRSFP) {clearpeep();		clear pattern buffercallib((size1) ? "gcf": "gf");}callib((size1) ? "gc": "g");} Load specified object size indirect thru preg into sreg sindirect(size) int size;{callib((size1) ? "gcs" : "gs");} Add constant amt to primary reg addconst(amt) int amt;{switch (amt) {case 3: cinc();case 2: cinc();case 1: cinc();case 0: return;case -3: cdec();case -2: cdec();case -1: cdec();return;default:limmed(amt, SREG);cadd();return;}} Subtract preg from sreg csub(){callib("s");testflagREGH;	remember that H is in A} Multiply preg by sreg cmult(){callib("mult");} Divide (signed) sreg by preg /*	(quotient in preg, remainder in sreg) cdiv(){callib("div");} Divide (unsigned) sreg by preg cudiv(){callib("udiv");} Inclusive 'or' preg and sreg cor(){callib("o");testflagREGH;	remember that H is in A} Exclusive 'or' preg and sreg cxor(){callib("x");testflagREGH;	remember that H is in A} 'and' preg and sreg cand(){callib("a");testflagREGH;	remember that H is in A} Arithmetic right shift sreg number of times in preg casr(oprev){callib(oprev? "asr1": "asr");} Arithmetic left shift sreg number of times in preg casl(oprev){callib(oprev? "asl1": "asl");} Logical right shift sreg number of times in preg clsr(oprev){callib(oprev? "lsr1": "lsr");} two's complement of preg cneg(){callib("neg");testflagREGL;       remember that L is in A} one's complement of preg ccom(){callib("com");testflagREGL;       remember that L is in A} Logical not of preg. Set HL and Z flag to indicate TRUE/FALSE cnot(){callib("n");testdoneTRUE;} /*  * The following are the conditional operators.  * They compare sreg to preg and set preg1 if  * the condition is true and 0 if not. The Z  * flag is reset if TRUE and set if FALSE.  Test for equal ceq(){callib("e");testdoneTRUE;} Test for not equal cne(){callib("ne");testdoneTRUE;} Test for less than (signed) clt(){callib("lt");testdoneTRUE;} Test for less than or equal (signed) cle(){callib("le");testdoneTRUE;} Test for greater than (signed) cgt(){callib("gt");testdoneTRUE;} Test for greater than or equal (signed) cge(){callib("ge");testdoneTRUE;} Test for less than (unsigned) cult(){callib("ult");testdoneTRUE;} Test for less than or equal (unsigned) cule(){callib("ule");testdoneTRUE;} Test for greater than (unsigned) cugt(){callib("ugt");testdoneTRUE;} Test for greater than or equal (unsigned) cuge(){callib("uge");testdoneTRUE;} Save preg if it's in use savepreg(){pregflag)cpush(PREG);pregflagTRUE;} Do an immediate load of n into reg limmed(n, reg) int n, reg;{regPREG)pimmed();simmed();outdec(n);nl();} Print a name so it won't upset the assembler outname(name) *name;{c;*s; sname;while (c*s++)outbyte((c=='_') ? ASMULINE: c);*name != ASMRTS)	don't change library function namesoutbyte(ASMRTS);} Print specified number as label printlabel(label) int label;{outbyte(ASMRTS);outdec(label);} Generate a compiler label in the peephole buffer peeplabel(label){static s[7]ASMRTS; itob(label, s+1, 10);loadpeep(s);loadpeep("\n");} Load pattern into peephole optimization buffer loadpeep(s) *s;{strcat(peepbuf, s);} Dump the contents of the peephole buffer dumpeep(){peepflagFALSE;outstr(peepbuf);clearpeep();} Clear the peephole pattern buffer clearpeep(){peepflagFALSE;*peepbuf'\0';} Generate trace message gentrace(inout, funcname) inout, *funcname;{int lab1;jump(lab1getlabel());	jump over trace messagelinelabel(getlabel());defbyte();			build trace messageoutdec(inout);			enter (>) or exit (<)do {				print function nameoutbyte(',');outdec(*funcname);} while (*funcname++);linelabel(lab1);		set up call to prt messagecpush(PREG);			save pregpimmed();			load address of messageprintlabel(lab1 + 1);nl();cpush(PREG);ccall("puts");			print messagecpop(PREG);			clear arg off stackcpop(PREG);			restore preg} end of CC6.Cint lab1;jump(lab1getlabel());	jump over trace messagelinelabel(getlabel());defbyte();			                                                                                                                                /********************************************************/ /*							*/ /*		Q/C Compiler Version 3.1		*/ /*		    (Part 7 for Z80)			*/ /*							*/     Copyright (c) 1983 Quality Computer Systems	*/ /*							*/ /*			07/24/83			*/ /********************************************************/  #include "qstdio.h" #include "cstddef.h" #include "cglbdecl.c"  This section contains all code generation routines  * which generate mnemonics for specific assemblers   Print assembler info before any code is generated header(){outstr(";Compiled by Q/C ");outstr(version);nl();ol(".Z80");} Generate code to be done before main() shell() {hex[8];codeseg();glblabel("_main", SC_GLOBAL); establish entry pointromflag && spaddr) {ot("LD\tSP,");	start stack at addr from -S switchoutdec(spaddr);nl();}ol("LD\tSP,(6)"); start stack just below CP/M BDOSccall(redirect ? "_rshell": "_shell");declext(redirect ? "_rshell": "_shell");} Print any assembler stuff needed after all code trailer(){static int n;static st *p;*regname(); libflag)			building a library?ol("END"); {				declare externalsfor (pSTARTGLB; p < glbptr; ++p) {p->st_scSC_EXTERN)declext(p->st_name);}for (n0; n < MAXREG; ) declare registersdeclext(regname(++n));ol("EXTRN\t?gcf,?gc,?sxt,?gcs,?g,?gf,?gs,?p,?o,?x,?a,?e,?ne");ol("EXTRN\t?gt,?lt,?le,?ge,?ugt,?ult,?ule,?uge,?asr,?asr1");ol("EXTRN\t?asl,?asl1,?lsr,?lsr1,?s,?neg,?com,?n,?mult,?div");ol("EXTRN\t?udiv,?sw,?enr,?en,?ensr,?ens,?exr,?exrs,?exs");ot("END");mainflag) {outbyte('\t');	define entry pointoutname("_main");}nl();}} Comment line for the assembler comment(){newline();			start new line if necessaryoutbyte(';');} Assign rop to lop doasgn(lop, rop, depth) operand *lop, *rop; int depth;{unsigned value;st *sym;offset;int size; symlop->op_sym;sym != NULL) {			not loaded?offsetsym->st_info + lop->op_val;(sym->st_scSC_AUTO	on stack &     && offset >= 127)		can't use xreg   || lop->op_load&LOADADDR) {	or is address?savepreg();getaddr(lop);}}heir2(rop);		same level for right-to-left evaldepth1		if assignments are not nested   &&  isconstant(rop)) { and we're assigning a constantsizelop->op_type->t_size;symNULL) { address of lop is in pregot("LD\t(HL),");valuelop->op_valrop->op_val;outdec(value & 0xFF);nl();size2) {cinc();ot("LD\t(HL),");outdec(value >> 8);nl();}lop->op_load(ASGCONST|LOADVALUE);pregflagFALSE; preg no longer in usereturn;} sym->st_scSC_AUTO && offset < 127) {ot("LD\t");xreg(offset);outbyte(',');valuelop->op_valrop->op_val;outdec(value & 0xFF);nl();size2) {ot("LD\t");xreg(offset+1);outbyte(',');outdec(value >> 8);nl();}lop->op_load(ASGCONST|LOADVALUE);return;}}rvalp(rop);			normal assignstore(lop);} Load an auto variable autoload(op) operand *op;{st *sym;offset, size; sizeop->op_type->t_size;symop->op_sym;offsetsym->st_info + op->op_val;offset > 0 && offset < 127) {size1) {ot("LD\tA,");xreg(offset);prtname(sym);	print name as commentcallib("sxt");} {ot("LD\tL,");xreg(offset);prtname(sym);ot("LD\tH,");xreg(offset+1);nl();}} {getaddr(op);indirect(size); 	load indirect}} Load the address of op in preg getaddr(op) operand *op;{st *sym;offset; symop->op_sym;symNULL)return; 		address already loadedoffsetop->op_val;		constant offset from symsym->st_scSC_AUTO) {offset += sym->st_info; offset of sym from stk frameoffset0) {dumpeep(); clear any pending patternloadpeep("\tLD\tL,C\n\tLD\tH,B\n");peepflagADDRSFP;} {limmed(offset, PREG);ot("ADD\tHL,BC");prtname(sym);}} {				address of global or staticpimmed();prtsymname(sym, offset);prtname(sym);}op->op_symNULL;		record that preg has addressop->op_load &= ~LOADADDR;pregflagTRUE;} Load global/static/variable into preg getmem(op) operand *op;{offset;st *sym; offsetop->op_val;symop->op_sym;op->op_type->t_size1) { load 1 byteot("LD\tA,(");prtsymname(sym, offset);outbyte(')');prtname(sym);callib("sxt");} {			all other types are 2 bytes in V3ot("LD\tHL,(");prtsymname(sym, offset);outbyte(')');prtname(sym);}} Store specified size from preg to address on top of stack putstk(size) int size;{cpop(SREG);size1) {ol("LD\tA,L");ol("LD\t(DE),A");testflagREGL;} {		all other types in Q/C V3 are 2 bytescallib("p");testflagREGH;}} Store preg in the specified memory location putmem(op) operand *op;{st *sym;offset, size; offsetop->op_val;		constant offset from symsizeop->op_type->t_size;symop->op_sym;sym->st_scSC_AUTO) {ot("LD\t");offset += sym->st_info; offset of sym from stk framexreg(offset);outstr(",L");prtname(sym);size2) {ot("LD\t");xreg(offset+1);outstr(",H\n");}} {size1) {ol("LD\tA,L");ot("LD\t(");prtsymname(sym, offset);outstr("),A");testflagREGL;} {ot("LD\t(");prtsymname(sym, offset);outstr("),HL");}prtname(sym);}peepflagPREGSYM;	remember the variable in pregstrcpy(peepsym, sym->st_name);peepoffsetop->op_val;} Print external or internal symbol name prtsymname(sym, offset) st *sym; int offset;{*regname(); switch (sym->st_sc) {case SC_GLOBAL:case SC_EXTERN:case SC_ST_GLB:outname(sym->st_name);break;case SC_REG:outname(regname(sym->st_info));break;case SC_STATIC:printlabel(sym->st_info);break;}offset) {offset > 0)outbyte('+');outdec(offset);}} Print symbol name as comment prtname(sym) *sym;{fullist) {ot(";");	prt extra .asm infooutstr(sym->st_name);}nl();} Print index plus offset as address xreg(offset) int offset;{outstr("(IX+");outdec(offset);outstr(")");} Get value of n in preg getreg(n) int n;{*regname(); ot("LD\tHL,(");outname(regname(n));outstr(")\n");} Put value in preg into n putreg(n) int n;{*regname(); ot("LD\t(");outname(regname(n));outstr(")\n");} Return the name of n * regname(n) int n;{static name[4]{'r', ASMRTS, 'n', '\0'};name[2]n + '0';return name;} Swap preg and sreg swap(){ol("EX\tDE,HL");} Load immediate into preg pimmed(){ot("LD\tHL,");} Load immediate into sreg simmed(){ot("LD\tDE,");} set1(){ol("LD\tHL,1");} Push reg onto stack cpush(reg) int reg;{static *regname[]{"HL", "DE", "BC", "IX"};peepflagADDRSFP) {	is addr stk frame ptr?clearpeep();ol("PUSH\tBC"); 	replacement patternpeepflagADDRSFP;} {ot("PUSH");ol(regname[reg - PREG]);}} Pop top of the stack into reg cpop(reg) int reg;{static *regname[]{"HL", "DE", "BC", "IX"};ot("POP");ol(regname[reg - PREG]);} Restore stack frame at end of function restsfp(){cpop(XREG);cpop(SFP);} Swap preg and top of the stack swapstk(){ol("EX\t(SP),HL");} Call the specified library routine callib(sname) *sname;{static libname[7]ASMRTS;strcpy(libname+1, sname);ot("CALL");ol(libname);libflag && !findloc(libname)) record this useaddloc(libname, functype, SC_EXTERN, ID_VAR, 0);} Call the specified subroutine name ccall(sname) *sname;{ot("CALL\t");outname(sname);nl();} Perform subroutine call to value on top of stack callstk(){pimmed();	load address for returnoutstr("$+5");nl();swapstk();	call addr in preg, ret addr on stkol("JP\t(HL)"); jump to call address} Jump to specified internal label number jump(label) int label;{switch (peepflag) {	check for peephole optimizationcase JUMP:		last line also JMP, do nothingbreak;case JUMPTRUE:		2nd part of	JNZ/JZ	jcondlabelcase JUMPFALSE: 	/*		JMP	jumplabeljcondlabel:			 jumplabel != 0)	if last line also a JMPbreak;		skip this oneloadpeep("\tJP\t");	save this part of patternpeeplabel(jumplabellabel);break;default:dumpeep();	dump some other pending patterncase FALSE:ot("JP\t");printlabel(label);nl();peepflagJUMP; remember this is start of pattern:break;		/*	JMP	label1		*/}		/*	JMP	label2		*/} Remember that this is start of a pattern consisting of  *		JP Z/NZ jcondlabel  *		JP	jumplabel  * jcondlabel:  jumpcond(type, label) int type, label;{dumpeep();		dump any pending patternif(!testdone)		did we just test (e.g. $eq)?dotest();	if not, generate a testtypeFALSE) {peepflagJUMPFALSE;loadpeep("\tJP\tZ,");} {peepflagJUMPTRUE;loadpeep("\tJP\tNZ,");}peeplabel(jcondlabellabel);jumplabel0;	will be set if 2nd part of pattern found} Generate a test of the preg dotest(){switch (testflag) {	see what we need to do testcase REGL:ol("OR\tH");	L already in Areturn;default:		need full testol("LD\tA,H");case REGH:		H already in Aol("OR\tL");case TESTED:		zero/non-zero test already donereturn;}} Print a line label linelabel(label) int label;{*jump;(peepflagJUMPTRUE || peepflagJUMPFALSE) 1st part?     && jumplabel != 0		2nd part of pattern found?     && labeljcondlabel) {	now check for final partjump(peepflagJUMPTRUE) ? "JP\tZ,": "JP\tNZ,";clearpeep();		clear pattern bufferot(jump);printlabel(jumplabel);nl();return;}newline();			start new line if necessaryprintlabel(label);outbyte(':');} Print a global label glblabel(name, sc) *name; int sc;{scSC_GLOBAL) {ot("PUBLIC\t");outname(name);nl();}outname(name);outbyte(':');} Data segment dataseg(){segtype != DATA) {newline();	start new line if necessaryol("DSEG");segtypeDATA;}} Code segment codeseg(){segtype != CODE) {newline();ol("CSEG");segtypeCODE;}} Declare external declext(name) *name;{ot("EXTRN\t");outname(name);nl();} pseudo-op to define a byte defbyte(){ot("DEFB\t");} pseudo-op to define storage defstorage(){ot("DEFS\t");} pseudo-op to define a word defword(){ot("DEFW\t");} clear amount requested off the stack clearstk(amt) int amt;{switch (amt) {case 8: cpop(WREG);	special case for 8 bytes or lesscase 6: cpop(WREG);case 4: cpop(WREG);case 2: cpop(WREG);case 0: return;default:swap(); 	save possible return valuelimmed(amt, PREG);ol("ADD\tHL,SP");ol("LD\tSP,HL");swap(); 	restore return valuereturn;}} Double the preg doublereg(){ol("ADD\tHL,HL");} Add preg and sreg cadd(){ol("ADD\tHL,DE");} Increment preg cinc(){ol("INC\tHL");} Decrement preg cdec(){ol("DEC\tHL");} Return from subroutine cret(){ol("RET");}  #ifndef PORTABLE  * findmac(){ #asmPUSH	BC		;save calling routine's stack frameLD	HL,4		;get name off stackADD	HL,SPLD	C,(HL)INC	HLLD	B,(HL)LD	HL,(pmacsym?)	;hold value of pmacsymEX	DE,HLLD	HL,(macpool?)	;initialize ptrmacpool ?fmc1:	LD	A,D		;ptr > pmacsym?CP	HJR	NZ,?fmc2LD	A,ECP	L ?fmc2:	JR	NC,?fmc9	;no we did't find itPUSH	DE		;save pmacsymPUSH	BC		;name is 1st arg to astreqPUSH	HL		;ptr is 2nd argLD	HL,8		;since HL is saved,PUSH	HL		; use it for NAMEMAXCALL	astreq?POP	HL		;clear args off stackPOP	HL		;which also restores their valuesPOP	BCJR	Z,?fmc3 	;didn't matchPOP	DE		;did match, clear final argPOP	BC		;restore stk frameRET ?fmc3:	LD	DE,-10ADD	HL,DE		;ptr -= MACSIZEPOP	DE		;restore pmacsymJR	?fmc1		;try again ?fmc9:	LD	HL,0		;no matchXOR	A		;set Z flag to indicate FALSEPOP	BC #endasm} st * findvar(){ #asmPUSH	BC		;save calling routine's stk frame ptrLD	HL,4		;get idset off stackADD	HL,SPLD	A,(HL)PUSH	AFINC	HLINC	HLLD	C,(HL)		;get nameINC	HLLD	B,(HL)INC	HLLD	E,(HL)		;last symbol table entryINC	HLLD	D,(HL)INC	HLLD	A,(HL)		;first symbol table entryINC	HLLD	H,(HL)LD	L,A ?fv1:	LD	A,H		;p < end?CP	DJR	NZ,?fv2LD	A,LCP	E ?fv2:	JR	NC,?fv9 	;no we did't find itPUSH	DE		;save endPUSH	BC		;sname is 1st arg to astreqLD	DE,5		;since DE is saved, use it toADD	HL,DE		; compute p->st_namePUSH	HL		; which is 2nd argLD	DE,8		;NAMEMAX is 3rd argPUSH	DECALL	astreq?POP	DE		;clear args off the stackPOP	HLPOP	BCLD	DE,9		;move to p->st_idsetADD	HL,DEPOP	DE		;restore endJR	Z,?fv3		;if it didn't match, try againPOP	AF		;retrieve idsetCP	(HL)		; if it matches also, we've found itJR	Z,?fv8PUSH	AF		;save idset for next time ?fv3:	INC	HL		;move p to next symbol table entryJR	?fv1		;loop ?fv8:	LD	DE,-14		;retrieve ptr toADD	HL,DE		; symbol table entryOR	H		;set Z flag to indicate TRUEPOP	BC		;restore calling routine stk frame ptrRET ?fv9:	POP	AF		;matched, finish clearing stackLD	HL,0		;no matchXOR	A		;set Z flag to indicate FALSEPOP	BC		;restore stk frame ptr #endasm} chks(){ #asmPUSH	BC	;save calling routine stk frame ptrLD	HL,4	;get arg off stackADD	HL,SPLD	E,(HL)INC	HLLD	D,(HL)	;string sLD	HL,(lptr?) ;parsing buffer ?chk1:	LD	A,(DE)	;current character in sOR	A	;end of string s?JR	Z,?asan ;parsing buffer matches to end of sCP	(HL)	;compare s to parsing bufferJR	NZ,?stne ;mismatchINC	DE	;next character in sINC	HL	;	and parsing bufferJR	?chk1	;loop #endasm} streq(){ #asmPUSH	BC	;save calling routine stk frame ptrLD	HL,4	;get args off stackADD	HL,SPLD	E,(HL)	;s1INC	HLLD	D,(HL)INC	HLLD	A,(HL)	;s2INC	HLLD	H,(HL)LD	L,ALD	C,0	;init match length counter ?stlp:	LD	A,(DE)	;current of s2OR	A	;is this end-of-string?JR	Z,?steq ;they match to end-to-stringCP	(HL)	;compare to current of s1JR	NZ,?stne ;they don't match hereINC	DE	;get to next of s2INC	HL	;same for s1INC	C	;count one more matchedJR	?stlp	;loop #endasm} astreq(){ #asmPUSH	BC	;save calling routine stk frame ptrLD	HL,4	;get args off stackADD	HL,SPLD	B,(HL)	;lenINC	HLINC	HLLD	E,(HL)	;s2INC	HLLD	D,(HL)INC	HLLD	A,(HL)	;s1INC	HLLD	H,(HL)LD	L,ALD	C,0	;init match length counter (max255) ?aslp:	LD	A,(DE)	;current of s2OR	A	;is this end-of-string (0)?JR	Z,?asan ;they match to end-to-stringCP	(HL)	;compare to current of s1JR	NZ,?stne ;they don't match hereINC	DE	;get to next of s2INC	HL	;same for s1INC	C	;count one more matchedDJNZ	?aslp	;loop if more to match ?asan:	LD	A,(HL)	;is next in s1 alphanumeric?CP	95	;'_'JR	Z,?stneCP	48	;'1'JR	C,?steq ;< 1CP	58	;'9' + 1JR	C,?stne ;numericOR	32	;convert upper case to lowerCP	97	;'a'JR	C,?steqCP	123	;'z' + 1JR	C,?stne ;lower case alpha ?steq:	LD	L,C	;set return value to matched lengthLD	H,0OR	1	;set Z flag to indicate TRUEPOP	BC	;restore calling routine stk frame ptrRET ?stne:	LD	HL,0	;set FALSEXOR	A	;set Z flag to indicate FALSEPOP	BC #endasm} isletnum(){ #asmLD	HL,2ADD	HL,SPLD	A,(HL)CP	48	;'1'JR	C,?lettCP	58	;'9'+1JR	NC,?lettOR	H	;set Z flag #endasm} isletter(){ #asmLD	HL,2ADD	HL,SPLD	A,(HL) ?lett:	CP	95	;'_'JR	Z,?isletOR	32	;upper to lower caseCP	97	;'a'JR	C,?notletCP	123	;'z'+1JR	C,?islet ?notlet: XOR	A	;set Z flagLD	H,A	;return FALSELD	L,ARET ?islet: OR     H #endasm} Skip over token in parse line skip(){ #asmLD	HL,(lptr?) ?skip1: LD	E,(HL)	;next character in parse linePUSH	DECALL	isletnum?POP	DERET	Z	;end of alphanumericsLD	HL,(lptr?)INC	HLLD	(lptr?),HLJR	?skip1 #endasm} #endif end of CC7.CttOR	H	;set Z flag #endasm} isletter(){ #asmLD	HL,2ADD	HL,SP                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                /********************************************************/ /*							*/ /*		Q/C Compiler Version 3.1		*/ /*			(Part 8)			*/ /*							*/     Copyright (c) 1983 Quality Computer Systems	*/ /*							*/ /*			08/06/83			*/ /********************************************************/  #include "qstdio.h" #include "cstddef.h" #include "cglbdecl.c"  static *mptr;  This section handles I/O and preprocessor commands  Get the next input file getinfil(){FILE *fopen();*strcpy();incldepth > 0) {inputholdinput[--incldepth]; back to interruptedstrcpy(infil, inclfil[incldepth]); input filelinenoholdlineno[incldepth];verbose)qprintf("*** resume  %s\n", infil);} ninfils--) {		any more input files?getfilename(*nextfil++, infil, "C");(inputfopen(infil,"r"))NULL)cantopen(infil);setbuf(input, inbuf);setbsize(input, iobufsize);lineno0;verbose)qprintf("*** read    %s\n", infil);}eofTRUE;} Open output file getoutfil(){FILE *fopen();outputstderr)		output to consolereturn;(outputfopen(outfil, "w"))NULL)cantopen(outfil);setbuf(output, outbuf);setbsize(output, iobufsize);header();} Close the output file closeout(){trailer();output != stderr && fclose(output)EOF)out_err();} out_err(){puts("Can't close output file");exit(1);} Get file name, optionally append extension getfilename(s, filname, ext) *s, *filname, *ext;{i;*ptr;ptrfilname;i0;while (*s && ++i <= FILNAMSIZE)*ptr++chupper(*s++);*ptr'\0';index(filname, '.')NULL && ++i < FILNAMSIZE) {*ptr++ '.';			no extension givenwhile (*ext && ++i <= FILNAMSIZE) use .EXT*ptr++chupper(*ext++);*ptr'\0';}} Open an include file doinclude(){*p, *buf;delimiter;*strcpy();FILE *fopen(); matchc('"'))delimiter'"'; matchc('<'))delimiter'>';delimiter0;delimiter) {(pindex(lptr, delimiter))NULL)delimerr(delimiter);*p'\0';}incldepthMAXINCL)error("#include nested too deeply"); {holdinput[incldepth]input;	save old FILE ptrstrcpy(inclfil[incldepth], infil); and nameholdlineno[incldepth]lineno; save old line numgetfilename(lptr, infil, "C");	get include filenamebufinclbuf[incldepth];	check for bufferbufNULL)bufinclbuf[incldepth]malloc(inclbsize);(inputfopen(infil, "r"))NULL || bufNULL) {qprintf("#include file -- ");cantopen(infil);}setbuf(input, buf);		provide small buffersetbsize(input, inclbsize);lineno0;++incldepth;verbose)qprintf("*** include %s\n", infil);}} Get the next line of input inline(){int c;chkabort();for (;;) {		find a non-empty line or EOFeof)return;kill(); 		clear the input line++lineno;while ((cgetc(input)) != EOF) {c'\n' || lptr-line >= LINEMAX)break;*lptr++c;}*lptr'\0';lptr != line) {	anything on this line?fullist && cmode) {textlineTRUE;comment(); print C textoutstr(line);nl();textlineFALSE;}lptrline;	reset line to beginningreturn;} cEOF) {fclose(input);getinfil();	get the next input file}}} Write a character to the requested output location outbyte(c) int c;{testflag =testdoneFALSE;	turn off when anything writtenpeepflag && !textline) is a peephole pattern pending?dumpeep();	dump it out, this is not part of itgenflag || textline) { #if Z80FALSEc'!' && codeflag'a')c'#'; #endifmidline(c != '\n');putc(c, output)EOF)out_err();}} Put a string out via outbyte outstr(ptr) *ptr;{chkabort();		did user type ^C?while (*ptr)outbyte(*ptr++);} Start a new line if we're not at the beginning newline(){midline)nl();} Print a string with a leading TAB ot(s) *s;{outbyte('\t');outstr(s);} Print a line with a leading TAB ol(s) *s;{ot(s);nl();} nl(){outbyte('\n');} Print an erroneous line with a pointer (^) to	*/ /*	the location where the error was discovered	*/ /*	and a message describing the error		*/ error(mesg) *mesg;{errpause();		time to pause for full screen?qprintf("%s\n", mesg);errptr();} errname(mesg,name) *mesg,*name;{errpause();qprintf("%s: %s\n", mesg, name);errptr();} If screen is full, pause for keyboard response errpause(){errcnt > 0 && errcnt % pausecnt0) {qprintf("Press any key to continue or ^C to abort:");while (chkabort()EOF);		wait for responseputchar('\n');}++errcnt;			print current file nameincldepth)			are we in a #include file?qprintf("<%s> @ %d: #include ", inclfil[0], holdlineno[0]);qprintf("<%s> @ %d: ", infil, lineno);} If a ^C was typed abort the run chkabort(){static mesg[]"\nCompilation aborted";int c;(cgetkey())0x3) {outstr(mesg);puts(mesg);exit(1);}return c;} Print the input line with a pointer (^) under the error errptr(){*ptr;qprintf("%s\n", line);		print erroneous lineptrline;while (ptr < lptr)		get to error locationputchar((*ptr++'\t') ? '\t': ' ');puts("^");			print error pointer ^} Short version of printf to save space qprintf(nargs) int nargs;{*fmt;c, *arg;s[7], *itob(); arg&nargs + nargs;fmt*arg;while (c*fmt++) {c != '%') {putchar(c);continue;}switch (c*fmt++) {case 'c':putchar(*--arg);continue;case 's':fputs(*--arg, stdout);continue;case 'd':fputs(itob(*--arg, s, -10), stdout);continue;default:putchar(c);continue;}}} /*	Common error messages		*/ matcherr(){error("Must match a #if command");} scerr(){error("Invalid storage class");} typerr(){error("Invalid type");} illname(){error("Illegal symbol name");junk();} notavail(feature) *feature;{errname("Not implemented", feature);} multidef(sname) *sname;{errname("Already defined", sname);} needpunc(c) c;{!matchc(c)) {errpause();qprintf("Missing punctuation -- assumed present: %c\n", c);errptr();}} delimerr(delimiter) *delimiter;{errname("Missing delimiter", delimiter);} keyerr(keyword) *keyword;{errname("Ilegal use of a keyword", keyword);} sizerr(){error("Need explicit array size");} initerr(){error("Initializer must be constant expression");} cexperr(){error("Must be constant expression");}  Test parse line to see if lit matches /*	the next sequence of characters /*	and skip over them if it does	*/ match(lit) *lit;{int k;blanks();	skip white spacekstreq(lptr, lit)) {lptr += k;return TRUE;}return FALSE;} Test parse line to see if c matches	*/ /*	the next character and skip it	*/ matchc(c) int c;{blanks();	skip white space*lptrc) {++lptr;return TRUE;}return FALSE;} Test parse line to see if 'c' is the next */ nextc(c) int c;{blanks();return (*lptrc);} Test parse line to see if lit matches /*	the next token and skip over it /*	if a match is found		*/ amatch(lit) *lit;{blanks();chks(lit)) {skip();return TRUE;}return FALSE;} Skip white space in parse line blanks(){int c;for (;;) {while ((cch())'\0') {	at eol?stopeol)		OK to pass eol?return; 	noinline();		get next lineeof)return;preprocess();}isspace(c))gch();return;}}  #ifdef PORTABLE  Match string against next token in parsing buffer chks(s) *s;{return (astreq(lptr, s, strlen(s)));} Test two strings for equality up to	*/ /*	the end of the second string	*/ streq(s1, s2) *s1, *s2;{len;len0;while (*s2) {*s1++ != *s2++)return 0;++len;}return len;} Test two strings for equality of	*/ /*	contents up to len (<256)	*/ astreq(s1, s2, len) *s1, *s2; int len;{cnt;for (cnt0; cnt < len; ++cnt) {*s2'\0')break;*s1++ != *s2++)return 0;}return (isletnum(*s1)) ? 0 : cnt;} Test for valid C symbol name characters isletnum(c) int c;{return (isletter(c) || isdigit(c));} isletter(c) int c;{return (isalpha(c) || c'_');} Skip token in input line skip(){while (isletnum(*lptr)) 	skip all a/n chars++lptr;} #endif  Throw away garbage in input line junk(){while (!isletnum(ch())) {gch();			flush non-a/n charactersendst())		/*	up to EOL or ';'break;}} Test for end of statement endst(){blanks();	skip white spacereturn (ch()';' || ch()'\0');} Look at current character in parsing buffer ch(){return *lptr;} Look at next character in parsing buffer nch(){return (*lptr ? *(lptr+1) : 0);} Get current character in parsing buffer gch(){return (*lptr ? *lptr++ : 0);} Put a character back in the parsing buffer putback(c) int c;{lptr > line)*--lptrc;} Clear current line from parsing buffer kill(){lptrline;*lptr'\0';} Get the next character from parsing buffer /*	refilling buffer first if at EOL      inbyte(){while(ch()0) {eof) return 0;inline();preprocess();	do any reqd preprocessing}return gch();} Check for #preprocessor commands preprocess(){int val;*isdef(), name[NAMESIZE];operand cexp; !matchc('#')) {		if it's not a #command...condifPROCESS) {check conditional compilationlptrline;	start at beginning of lineprocline();	preprocess the input line}kill(); 	skip this line} {				do a #preprocessor commandstopeolTRUE; 	look only on this line#if, # and #endif are only commands recognized/*	when C text is being skipped because of #ifamatch("ifdef"))dopreif(isdef()); amatch("ifndef"))dopreif(!isdef()); amatch("if")) {procline();	preprocess the const exprconstexp(&cexp) != CONSTANT) {cexperr();cexp.op_val0;}dopreif(cexp.op_val);} amatch("")) {ifdepth0)matcherr(); no matching #if... ifdepth > MAXIF);	nested too deep-can't check cond)error("Only one # allowed"); {condTRUE; # foundcondif != IGNORE) turn it around	condif(condif==SKIP)?			PROCESS: SKIP;}} amatch("endif")) {ifdepth0)matcherr(); no matching #if... {--ifdepth; back up one levelifdepth < MAXIF) { get status	condifholdif[ifdepth];	condhold[ifdepth];	}}} condif != PROCESS) chk #if condition;		skip this line amatch("define")) {symname(name)) { valid name?procline();  strip comments & applyaddmac(name);prev defs recursively}kill(); kill rest of line} amatch("undef"))delmac(); amatch("include"))doinclude();	get include file amatch("asm")) {stopeolFALSE; don't stop at end-of-linedoasm();return;} amatch("line")) {procline();	strip comments!decimal(&val))	new line number?error("#line number must be decimal"); {linenoval;!endst())	optional filename?	getfilename(lptr, infil, "C");}}error("Unknown #preprocessor command");stopeolFALSE;	don't stop at end-of-linekill();}} Common code for processing #if preprocessor commands dopreif(newstatus) int newstatus;	zero means SKIP; non-zero means PROCESS{ifdepth >= MAXIF)error("#if nested too deeply"); {holdif[ifdepth]condif; record previous statushold[ifdepth]cond;condifPROCESS)	currently processing?condif(newstatus) ? PROCESS: SKIP;condifIGNORE;condFALSE;	no # yet}++ifdepth;			keep track even if too deep} "#asm" preprocessor command doasm(){c;cmodeFALSE;		this is not Cnewline();		start a new line if necessaryfor (;;) {inline();	get next linech()';')continue; discard comment linestreq(line, "#endasm") || eof)break;ch()'#' && match("#include")) {doinclude();continue;}while (cgch()) {c';')break; strip commentsoutbyte(c);}nl();}kill(); 		clear #endasm linecmodeTRUE;		back in C mode} Preprocess input lines by removing  * comments and excess white space,  * checking strings and constants,  * & applying #define macros to the rest  procline(){*ptr, *savelptr;c;*chksym(), *findmac(), sname[NAMESIZE], *strcpy();mptrmline;savelptrlptr;	remember where we are on this linefor (ptrline; ptr < lptr; ++ptr)keepch(*ptr);	keep anything already processedwhile (cch()) {c' ' || c'\t') {	eliminate excesskeepch(' ');		white spacewhile((ch()==' ')|| (ch()=='\t'))gch();} chksym(sname)) {	is it a symbol?skip(); 		skip over itptr=findmac(sname)) if it's a macro, getptr=*(int *)(ptr+MACPTR); replacementptrsname;	just a namewhile(*ptr)keepch(*ptr++);} c'/' && *(lptr+1)'*') {gch();gch();		discard commentswhile(*lptr != '*' || *(lptr+1) != '/') {gch()==0)	if EOL get	inline(); next lineeof) {	error("Unclosed comment");	break;	}}gch();gch();		discard end of comment} c'"') {keepch(gch());		pass strings throughwhile(ch()!='"') {	unchangedch()==0) {	error("Missing quote");	break;	}ch()=='\\') { pass an escape */	nch())	not EOL		keepch(gch());	 {	continue long literal		inline();		continue;		}	}keepch(gch());}gch();keepch('"');} c'\'') {keepch(gch());	pass constantswhile(ch()!='\'') {	unchangedch()==0) {	error("Missing apostrophe");	break;	}ch()=='\\') pass an escape */	keepch(gch());keepch(gch());}gch();keepch('\'');} keepch(gch());	pass all  unchanged}*mptr'\0';mptr-mline>=LINEMAX)error("Line too long");strcpy(line, mline);		put processed line backlptrsavelptr;		restore original position} Put a in macro buffer keepch(c) c;{(mptr - mline) < LINEMAX)*mptr++c;} Output an integer in decimal outdec(number) int number;{*itob(), s[7];outstr(itob(number, s, -10));} end of CC8.Capostrophe");	break;	}ch()=='\\') pass an escape */	keepch(gch());keepch(gch());}gch(                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                /********************************************************/ /*							*/ /*		Q/C Compiler Version 3.1		*/ /*			(Part 9)			*/ /*							*/     Copyright (c) 1983 Quality Computer Systems	*/ /*							*/ /*			08/07/83			*/ /********************************************************/  NOTE: This module becomes part of the free space after it  *		is used if you link Q/C using PLINK-II  #include "qstdio.h" #include "cstddef.h" #include "cglbdecl.c"  Initialization code init(){*strcpy();extern _patch;	patch bdos() for non-CP/M systems_patch0x26;		see User's Manual Appendix F qprintf("%s%s%s\n", signon, version, copyright);moat(1500);		set free space to reserve for stackminsymnsym;lit_sym.st_scSC_STATIC; special "symbol" for literal poollit_sym.st_idsetID_VAR;strcpy(lit_sym.st_name, "$LITPOOL");lit_labelgetlabel();} Get options from command line getoptions(argc, argv) int argc; *argv[];{*p;*index(), *strcat(), *strcpy();static int renameFALSE; argc < 2)			must have at least "cc" +usagerr();		/*	one input file namenextfilargv + 1;while (--argc) {**++argv'-')break;		stop at options++ninfils;}ninfils0)usagerr();		must have an input filegetfilename(*nextfil, infil, "C");while (argc--) {		look for optionsp*argv++;*p'-') {    while (*++p) {switch (chlower(*p)) { #if Z80FALSEcase 'a':	generate code for RMACcodeflag'a';strcpy(defext, "ASM");continue; #endifcase 'c':	commented asm listingfullistTRUE;continue;case 'd':	output to console (debug)outputstderr;continue;case 'i':	toggle initialization ofinitflag!initflag; arrays>INITSIZEcontinue;case 'l':	generate a librarylibflagTRUE;continue; #if Z80FALSEcase 'm':	generate code for M80codeflag'm';strcpy(defext, "MAC");continue; #endifcase 'o':	rename output filerename1;continue;case 'r':	toggle redirection flagredirect!redirect;continue;case 's':	set SP for ROMable coderomflagTRUE;lptrp + 1;spaddrgethex();break;case 't':	generate trace messagestraceTRUE;continue;case 'v':	toggle verbose/terseverbose!verbose;continue;default:usagerr();}break;		break out of -S switch}    } rename1) { should be new output file name    p[1]':' && p[2]'\0') {strcpy(outfil, p); build drive:infil.defextstrcat(outfil, infil[1]==':' ? infil+2 : infil);*(index(outfil, '.') + 1)'\0';strcat(outfil, defext);}    getfilename(p, outfil, defext);    streq(infil, outfil)) {puts("Output file name same as input");exit(1);}    rename2; 	remember we did it    }usagerr();}!rename && output0) {	use infil.defext as outputstrcpy(outfil, infil);*(index(outfil, '.')+1)'\0'; end name after '.'strcat(outfil, defext); add default extension} rename1)		new file name not foundusagerr();} usagerr(){ #if Z80puts("Usage:cc infile ... -cdilortv -sxxxx outfile"); #puts("Usage:cc infile ... -acdilmortv -sxxxx outfile"); #endifexit(1);} end of CC9.Cfil)) {puts("Output file name same as input");exit(1);}    rename2; 	rem                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * щГf Copyright (c) 1983 Quality Computer Systems Q/C Compiler  V3.1a (Z80) – 2 
 2 и       m MAC н{ НmЉНЗўН‹ЈЭnЭf	еЭnЭfеНаЈССН­НаНњwНЉxНjЃННЁНУxН*еНЊСЭбБЙН!Јяя!  еН@›С"4i`"6*6л*4НЇЎКЫ*6+"66 ГВНrЈ !Ђ еН@›С"%!Ђ еН@›С"Љ!Ђ еН@›С"Ћ!Ђ еН@›С"x"z*T))еН@›С"†"€*R))еН@›С"‚"„*P	 НўеН@›С";*хеН@›С"б*уеН@›С"Ў*уеН@›С"І*N НўеН@›С"_*VеН@›С"Ђ*Vл*Ђця"~"|*ІНюЎВ§*_НюЎВ§*ЂНюЎКє!8еНkЊС! еНЊС*_"a*N+ Нўл*_"cН¤K*YеНКMС"hеН‡MС*!|µК!Oе*Uе! е! е! еНѕIл!
 9щлЙН!ЈьяНЌЂ*3|µВѓЕ! 	еНїССКsНlЎГIНЭ6 Э6 Г`Э6 Э6 Г`Н’ў  >  3 0 0`НlЎеЭnЭfеН™ССГЂ! е*[еН™ССГ*|µК“!TеНу|С*|µКЈ!fеНу|СНrЈ НЦў*zл*xН’ЎВ*%|µКЖНfrГЙНHr*vеНѓqС!  "2*x"Ј*Јл*zН°ЎВчГ*Ј#"ЈГЭ*ЈН`ЎеН&СГнНЇ|*x"zН/B"vН5ЈНщўщя!  еН@›С"Ј*Ј#"ЈН`ЎНюЎВ'!uе*eе! еНJ~ССС!”е*~л*ЂНлЎ
 е!  еН@›Сл*ЈлНлЎе! еНJ~СССС!Йе*НюЎК‹!ЪГљ*еЕ!цяеНfњСССе*+НюЎК«!ЭГ®!Юе! еНJ~ССССНPЈ НЦў!  "Ј"ѓЈНЎ="ЃЈ|µКл*ЈНюЎКи*ЃЈ"ЈГлН*ѓЈ|µК*7|µКН*=К! В=Н0<"…Ј|µК'*ѓЈНюЎК$*…Ј"ѓЈГ'Н'*ЃЈ|µВ7*…Ј|µК:! ВЛЭnЭf	е*ЈСНwЎ*Ј|µК_*ѓЈНюЎК_! КsЭnЭfе*[СНwЎГЃЭnЭfе*ѓЈСНwЎ*Ј|µВ‘*ѓЈ|µК”! |µН5ЈНщўхя!; еНЂСВKЕЭnЭfеЭnЭfе!	 	еНw
СССС"ЈН`Ў Н’ЎКЕ*ЈеЭnЭfеНTСССКу*ЈеН MСГKЭnЭf Н’ЎК! Г! "ѓЈГЭnЭf"ѓЈЕ*Је*ѓЈе! е! еНѕIл!
 9щл*ЈеН MС!, еНЂСВ©Н-НPЈ НщўхяЭnЭf"Ј!; еНЂСВa! 	еЭnЭfе*ЈеЕНw
СССС"ѓЈН`Ў Н’ЎКЎ!) еНjС! "ЃЈГј! 	еН.IСК¶! 	еНSС*Ј"ЃЈ*ЃЈГ! 	е*ѓЈе! е! е! еНѕIл!
 9щлГ,*ѓЈеНСЭu Эt|µВ,! "ЃЈ*Эu Эt*е*ѓЈ#НnЎС"Г,Н’ў  э д В,! 	е*ѓЈе*ЃЈе! еНlЎеНґJл!
 9щл*ѓЈеН MС!, еНЂСВiН-НPЈ Нщўщя!] еНЂСК|!яяГДЕНўDС Н™ЎК–НЭ! "ЈГ№ЭnЭf"Ј  НџЎК№!аеНу|С*ЈНтЎ"Ј!] еНjС*Ј|µНPЈ Нщўдя!  "ѓЈ!  "ЈЭ6 Э6 !{ еНLЂСНюЎКЕНВ@СНюЎКН0ГЕН^IС"ЈЭ6Э6 !{ еНЂСНюЎКYЭnЭfНюЎК8!ьеНу|СГV*ЈНюЎКL!еНу|СГV*Ј#НnЎ"ѓЈГL
Эn"Эf#е!  е!  еН MССС"ѓЈЭnЭfНюЎВШ*Ј  Н™ЎК‘ЕНSСГШ*7|µКєЕ*ѓЈе!	 е! е!  еНґJл!
 9щл"ЈГШЕ*ѓЈе!	 е! е! еНѕIл!
 9щл"Ј!  ЭuЭt"‡Ј! 	е! 	еНїССК8
ЭnЭf  Н™ЎК	!еНу|С!	 	еЭnЭfе! е! 	еНw
СССС"…Ј!	 	еН^IС"ЃЈ|µКm	*ЃЈ#НsЎ*…ЈН™ЎВ_	*ЃЈ###НsЎЭnЭfН™ЎКj	!>еНу|СГг	*…Јл*ѓЈН’ЎВ†	*…ЈН`Ў Н’ЎК”	!YеНу|СГ'
*7|µКБ	!	 	е*…Је! е! еЭnЭfеНґJл!
 9щлГг	!	 	е*…Је! е! еЭnЭfеНѕIл!
 9щлЭn"Эf# Н’ЎК
*‡Је*…Ј#НnЎС"‡ЈЭuЭtГ
*‡Је*…Ј#НnЎеН3ЎСС"‡Ј*…ЈеН MС!, еНЂСВ	Н-Гд!} еНjС*ѓЈ#е*‡ЈСНwЎ*ѓЈНюЎКm
Эn"Эf#е!  е!  еН MССС"ѓЈ*ѓЈ|µНPЈ Нщў¤яЭndЭfe"ЃЈЭnfЭfg"Ј! 	Эu ЭtЕЭnhЭfiеН„?СС*ЈеЕН>СС"Ј!  "2!  "ѓЈ*ЃЈ+НюЎВС
*ЃЈ Н’ЎКа
*ЈНfЎ! Н™ЎКя
НHrЭnhЭfiе*ЃЈеНrСС! "ѓЈГ'*ЃЈ Н’ЎК'НHrЭnbЭfcеН/BСНwЎеНѓqС! "ѓЈ*ЈеН‡MС!= еНЂСКp*ѓЈНюЎКN!sеНу|СГm*ЈН`Ў	 Н’ЎКe!ЈеНу|С*ЈеНVСГё*ѓЈ|µКё*Ј#НnЎ"…ЈЂ НЁЎВ’*Z+НюЎКЄ*ЈеНУСе*…ЈеНКССГёНЄr*…ЈеНB‡СНк|НЇ|*ЈН`Ў
 Н’ЎКп*Ј#НsЎ!  Н·ЎКп*ЃЈ Н™ЎКп*ЃЈ Н™ЎКюНЛ*Ј#6#6 *Ј|µНPЈ\ НЦўЭnЭfН`Ў"Ј Н™ЎК5*Ј Н™ЎК5*Ј Н™ЎВA* Н§ЎКJ!  ГQ*#"|µН5ЈНЦўЭnЭf"Ј#НnЎ"ЃЈ!{ еНЂСК€*Је*ЃЈ#НюЎеНѕССГ§НЃ" Н’ЎКџ*ЈеНГСГ§*ЈеНwС*ЈеНУСе*ЃЈл*2НлЎеНКССН5ЈНЦўЭnЭf"ЈН`Ў
 Н’ЎКм*Ј НnЎН`Ў+НюЎКl*Ј#НnЎ"ѓЈ!  "…ЈН&ЃН/H"ЃЈ*2л*ѓЈН’ЎК*…ЈНюЎК/!»еНу|С! "…ЈГG*ЃЈ#НюЎК?!  ГB*ЃЈеН&С*ЃЈяяН™ЎВ*ѓЈ#НюЎКi*Ј#е*2СНwЎГt*ЈеНwСН5ЈНЗўЭnЭfеНУС Н’ЎК”Н"Г—Нl!, еНLЂСНюЎКјНc:НюЎКјНЃеНetСКј! КП!, еНjС!, еНEЃСЭбБЙНЦўЭnЭf"Ј*ЈН`Ў
 Н’ЎВГ*Ј НnЎ"ЈГЯГс*Ј#НnЎ Н’ЎК! Г! |µН5ЈН!ЈщяЕНўDСГXЭnЭfеЭnЭfеНССГgНФ!  е!  еНССГgН’ў  / /EНrЈ НщўщяЕНўDСГў!ЧеНу|С!  "ЈГ±ЭnЭf"ЈГ±НФ!  "ЈГ±Н’ў  Љ y–*ЈеН&СНPЈ НщўьяЭnЭf"Ј!  "…Ј! "‡Ј*ЈеНУСЭuЭt+НюЎЭu Эt*2"ѓЈ*ЈН`Ў Н’ЎВ*Ј НnЎН`Ў Н’ЎК#!реНу|С!{ еНЂСК‡*Ј НnЎ"ЃЈНюЎВ\*ЃЈНfЎ! Н™ЎК\*ЃЈНfЎ!
 Н™ЎКw!еНу|С*Је!  еНѕССГ„*ЃЈе!  еНѕССГНlЎ|µК•НlГН"*2л*ѓЈНлЎе*Ј#НnЎСНЇЎКГЭn
ЭfНюЎКГ*…ЈНюЎКФ!<еНу|С! "…Ј!, еНЂСВ#НЃ} Н’ЎВэНЃ; Н’ЎВэНc:К ! ВoНЃеН СК!, еНjСГ#НЃеНetСКE!} еНjС!  "‡Ј!, еНjС!, еНEЃСГoНЃ, Н™ЎКcНкЂНюЎКcНЃ} Н™ЎКlН&ЃГEГo*‡Ј|µК!} еНjСЭn
Эf|µК *Ј#е*2л*ѓЈНлЎСНwЎГЕЭnЭfе*Ј#е*2л*ѓЈНлЎлбНnЎлНлЎеНКССНPЈ НЗўЭnЭf  Н ЎВшГ"! 	еНnЎлЭnЭf	НлЎСНwЎГНЭnЭf	 Н’ЎК!  е!  еНССГ!  еН&СГЯЭбБЙНЗў*2#"2
 лН)ўл+НюЎВE*+НюЎКNНЎrГV!, еН|СЭnЭfя Н‹ЎеНB‡С*2
 лН)ўлНюЎК{Нк|ЭбБЙНЗў*+НюЎВќ*2НюЎВќ*RF Н ЎК·*2|µК«НЇ|Ніr! "RГї!, еН|С*R "RЭnЭf	|µК*RеЭnЭf	 еН™ћСС"RЭnЭf	еЭnЭfеНnССГЭnЭfеНB‡С*2##"2ЭбБЙ                                                                                                                                                                                                                        Ђ                                                                 Not enough table space puts Unbalanced braces Missing #endif Symbol table entries left: %d
 Macro space left: %d bytes  Memory unused: %d bytes
 %s error%s found No  s Negative array size illegal No tag or template Undeclared tag Member can't have storage class Member has another meaning Can't be structure member Can only initialize global and static variables Can't initialize unions String is bigger than array Char cannot hold address Can't initialize structures yet Only aggregates can be initialized this way Too many initializers   НЦўЭn
Эf"Ј*N+ Нўл*_"c!  ""Н¤!{ еНLЂСНюЎК’*ОНюЎК›!  Гџ*\|µКµ!Ре*Је! еНJ~СССНЁ! "7*ЈеЭnЭf	еЭnЭfе! е! еНѕIл!
 9щл*|µКDНУx!Је!: еНЗ СС"ЃЈ|µК*ЃЈ#"ЃЈГ!Ј"ЃЈ*Је*ЃЈе!bеНyССС*ЃЈе!_ еНЗ СС"ЃЈ|µКA*ЃЈ61Г$НЉx*Је!Ъе! еНtСССКb! "Н’gНfr*ЈеЭnЭfеНrСС!{ еНjСН®Нfr*ЈеНиСНQ*ЈеН9С!  "7! |µН5ЈН!Јуя!  "О!) еНЂСНюЎКГНкЂНюЎК7! 	еНВ@СК! 	еН.IСКк! 	еНSСГ! 	е!  е! е! е!  еНґJл!
 9щл*О#"О!) еНLЂСНюЎК)!, еНЂСНюЎК4!ЯеНу|СГЇЕ! 	еНїССКЉНlЎ Н’ЎВZНlЎ Н’ЎКhНЭ6 Э6 НlЎНюЎКw! ГzНlЎеЭnЭfеНЏССГ7НrЈ НщўуяЭnЭf"Ј! 	еЭnЭfе! еЕНw
СССС"ѓЈН`Ў
 Н’ЎКт*ѓЈ НnЎеНКMСЭuЭtеН‡MС*ѓЈеН MСЭnЭf"ѓЈГ*ѓЈНfЎ! НџЎК!оеНу|СГ›*Ј Н’ЎК)*ѓЈеНСЭu ЭtНюЎК2! "Ј! 	еН.IС"ЃЈНюЎКO!
еНу|СГ›*ЃЈ#НsЎ!  Н™ЎКk! 	еНSСГ›*ЃЈ#е*ѓЈСНwЎ*ЃЈе*ЈС}*Ј Н’ЎК›*ЃЈ###еНlЎСНwЎ!, еНЂСВќН-НPЈ Н!ЈьяЕ! 	еНїССКгНlЎНюЎКР! ГУНlЎеЭnЭfеНPССГіНrЈ НЦў*!|µК!> еЭnЭfеНйeСС*НюЎК7*НюЎК,*О  Н™ЎК)!$еНрoСГ4!'еНрoСГd*НюЎКK!+еНрoСГS!/еНрoСНіr*НтЎеНB‡СНк|* "Ј*N+ Нўл*_ е*О НўСНлЎ"ѓЈ*N+ Нўл*_л*ѓЈНёЎВ»Г-*ѓЈ "ѓЈГ’*ѓЈ#НnЎНюЎКЩ*ѓЈ#е*[СНwЎеН‡MС*ѓЈН`Ў Н’ЎКф*ѓЈ###НnЎГч!  "ЃЈ*ѓЈ6*ѓЈ###е*ЈСНwЎ*ЃЈ|µК"*ѓЈе*ЃЈеНJ^СС*Ј##"ЈГ®!  ""/Н5ЈНЦў*|µКL*еНѓqС*!|µКd!< еЭnЭfеНйeСС*/|µКoНKq*НюЎКЎ*НюЎК–*О  Н™ЎКђНЦoНWsГћ!4еНрoСГЛ*НюЎКµ!8еНрoСГЅ!<еНрoСНіr*еНB‡СНк|*eе*cл*aНлЎл! Н)ўеНЎСС"eЭnЭfеН™ћС"ѓЈ*N+ Нўл*_"Ј*Јл*cНЇЎВ&ГЛ*Јся"ЈГ	*Ј#НnЎ"ЃЈН`Ў Н’ЎКE*ЈН`ЎНюЎКY!Aе*Ј еН}СС*ЃЈеН MС*|µКИ*ЈН`Ў Н’ЎК”*Ј еЭnЭfе*ѓЈеНtСССНюЎК¦*Ј еН„rСГИ*ЈН`Ў Н’ЎКИ*Ј###НnЎеН0oСеН„rСГН5Ј  === %s()
 main Expected comma Argument can't be that type Name not in argument list en enr ens ensr exr exs exrs Undefined label *#"!} еНЂСНюЎКt*3|µВ{Н|ГX*+"ЙНЃНюЎКђ*3|µКђ! В§НЁ!{ еНЂСК§НQГ§!y#еНgЂСКёНDГ§!|#еНgЂСКЙНњГ§!‚#еНgЂСКЪНсГ§!†#еНgЂСКлН… Г§!Ќ#еНgЂСКяНС Н-Г§!“#еНgЂСКН!Н-Г§!њ#еНgЂСК$Н9!Г§!Ј#еНgЂСК8Н Н-Г§!¦#еНgЂСКN!«#еНу|СГ§!Д#еНgЂСВd!Й#еНgЂСКg! К}!С#еНу|С!: еНЂСГ§!м#еНgЂСК‘Н?#Н-Г§!; еНЂСВ§!  еН‹$СН-ЙНщўчяЕНAС"ЈНюЎВЖ!с#еНбsСКЙ! КТ!  Г&*ЈН`ЎеН8 СКк*Ј#"ЈГТ*ЈНfЎ!: Н™ЎКя!  Г&Нc:К
ЕНґСЕ! еН‡AССеНѓqС*Ј#"ЊНЁ! |µНPЈ	 !; еНЂСНюЎКC!щ#еНу|СЙНЦўН/B"ЈН/BН`#!  е*ЈеНцpССН|!$еНgЂСНюЎК|*ЈеНѓqСГ™*Ј#еН€pС*ЈеНѓqСН|*Ј#еНѓqСН5ЈН!ЈьяН/BЭu ЭtН/BЭuЭtЕН9BСНlЎеНѓqСН`#!  еЭnЭfеНцpССН|НlЎеН€pСЭnЭfеНѓqСНЏBНrЈ Нщўья!( еНjСН/BЭuЭt!; еНЂСНюЎК !  еН‹$СН-!; еНЂСК4!  "ЈГJН/B"ЈеНѓqС! еН‹$СН-!) еНЂСКЉ*Ј|µКy!  еЭnЭfеНцpСС*ЈЭu ЭtГ‡Н/BЭu ЭtеНѓqСГсН/B"ЃЈ*Ј|µКі! е*ЃЈеНцpССЭnЭfеН€pСГ»*ЃЈеН€pСН/BЭu ЭtеНѓqС!  еН‹$С!) еНjС*Ј|µКй*ЈеН€pС*ЃЈеНѓqСЕН9BСН|НlЎеН€pСЭnЭfеНѓqСНЏBНPЈ Н!ЈъяН/BЭu ЭtН/BЭuЭtЕН9BСН/BЭuЭtеНѓqСН|!$еНжСНюЎКW !$еНу|СНlЎеНѓqСН`#! еЭnЭfеНцpССЭnЭfеНѓqСНЏBНrЈ НкЂНюЎКњ ! еН‹$С! "/Н-!} еНLЂСНюЎВ¶ * Н ЎКР *НюЎКИ Н/B"*еН€pСЙН!ЈюяН«BЭu Эt|µКф НlЎ##НnЎеН€pСГь !/$еНу|СНrЈ НЦўН«B"Ј|µК!*ЈНnЎ|µК!! К.!*ЈНnЎеН€pСГ6!!K$еНу|СН5ЈНщўшяН`#Н/BЭuЭtеН€pСН/BЭuЭtН«B"ЃЈ|µКl!*ЃЈНnЎГo!!  Эu ЭtЕН9BС!  "ЈЭuЭt!{ еНЂСКН!*#"!} еНЂСНюЎКГ!*3|µВЂ"*Је! 	еН…"СС"ЈГ!*+"ГЯ!*Је! 	еН…"СС"ЈЭnЭfеН€pСЭnЭfеНѓqС!d$еНрoСНіr*ЈеНB‡СНк|*Ј+"Ј#|µКM"НC"ЃЈНюЎВM"Ніr*ЃЈНnЎеНB‡С!, еН|С*ЃЈ##НnЎеНneСНк|Г"НіrЭnЭf|µКd"ЭnЭfГj"ЭnЭfеНneСНк|ЭnЭfеНѓqСНЏBНPЈ Нщўхя!  "Ј!g$еНgЂСКд"! 	еНўDС Н™ЎКі"НЭГЩ"*Ј#"ЈЭnЭfЭu ЭtН/BЭuЭtеНѓqСЕНИBС!: еНjСГ/#!l$еНgЂСК&#!: еНjСЭnЭfНnЎ|µК#!t$еНу|СГ##ЭnЭfеН/BСНwЎеНѓqСГ/#НЁВ/#Г2#Гђ"Н|*Ј|µНPЈ Н!ЈчяЕНВ@СК[#Е!  еН‡AССеН€pСНrЈ	 !( еНjС! еН‹$С!) еНjСЙif while for return break continue switch do else else not matched with if case default No active switch statement goto default Missing semicolon else while Missing while in dowhile No active switches or loops No active loop statement sw case default Multiple default cases Н!Јщя!  "-ЕН»$СЭnЭf|µК«$ЕНѓ`СЭnЭfеН MСНrЈ НЗўЭnЭfеНм$С!, еНЂСКи$!  "-ЭnЭfеНм$СГЙ$ЭбБЙНщўчяЭnЭf"Ј*9#"9*ЈеН&С!= еНЂСК<%*ЈеНЬ8СК9%*ЈеЕ*9еНЦhСССЭnЭfеН MСГ&НЃ"ЃЈ!	9еНжСВ°%!9еНжСВ°%!9еНжСВ°%!9еНжСВ°%!9еНжСВ°%!9еНжСВ°%!9еНжСВ°%!9еНжСВ°%!#9еНжСВ°%!&9еНжСКі%! КД%*ЈеНЬ8СКД%! К&*ЈеН$aС*Ј НnЎЭuЭt*Је*ЃЈеЕ!м$еН)UСССС*ЈеЭnЭfеНrQСС*ЈеНHbС*9+"9НPЈ	 НщўмяЭnЭf"ЈеН|(С!? еНЂСНюЎВw(!  "…Ј"ѓЈ"ЃЈ*#Эu Эt*ЈеНdRСКu&*Ј###НnЎ|µКl&! Гo&! "ЃЈГђ&*ЈеНѓ`С!  еН/B"‡ЈеНцpССН/B!  "-НlЎ|µК­&*ЃЈ Н™ЎК­&! "#! 	еН&С!: еНjС! 	еНdRСКд&ЭnЭf|µКЮ&! Гб&! "ѓЈ*ЃЈНюЎК'! 	еНѓ`С*‡Ј#еН€pС*‡ЈеНѓqС!  "-НlЎ|µК$'*ЃЈ Н™ЎК$'! "#!	 	еН&СНlЎ"#!	 	еНdRСКY'ЭnЭf|µКS'! ГV'! "…Ј*ЃЈ|µКt'*ѓЈ|µКt'*…Ј|µКt'! К '*Ј###е*ЃЈ Н’ЎК“'ЭnЭfГ™'ЭnЭfСНwЎГw(! 	еНяQСЭuЭt!	 	еНяQСЭuЭtЭnЭf|µВФ'ЭnЭf|µКЧ'! К(ЭnЭfлЭnЭfН™ЎК(*ѓЈ Н™ЎК(*…Ј Н™ЎК(!)9еНу|С*ЃЈ Н’ЎК+(!  "-! 	еНѓ`СГ4(!	 	еНѓ`С*ЃЈ|µКD(*Ј6 ГM(*‡Ј#еНѓqС! 	е!	 	еНкPСС*ЈеЭnЭfеНrQССЭnЭfеН MСНPЈ НщўщяЭnЭf"ЈеНL)С*1"ЃЈНЌЂ*Ње!`9еНшsССНюЎВG)Н/B"ѓЈН/B*ЈеНѓ`С!c9еНжСКя(! е*ѓЈеНцpСС!  "-ЕНL)СЕНѓ`СЭnЭfеН MС*ЃЈл*1Н‹Ў"ЃЈГј(*ЃЈ|µК)*ѓЈеНѓqСГ4)!  е*ѓЈ#еНцpСС*ѓЈеНѓqСНeo*ѓЈ#еНѓqС! "1*Је*[еНrQССНPЈ НщўщяЭnЭf"ЈеН*С*1"ЃЈНЌЂ*Ње!f9еНшsССНюЎВ *Н/B"ѓЈ*ЈеНѓ`С!i9еНжСКМ)!  е*ѓЈеНцpСС!  "-ЕН*СЕНѓ`СЭnЭfеН MС*ЃЈл*1Н‹Ў"ЃЈГ‰)*ЃЈНюЎКе)!  е*ѓЈеНцpССНeo*ѓЈеНѓqС! "1*Је*[еНrQССНPЈ НщўщяЭnЭf"ЈеН‡*СНЌЂНЃ| Н™ЎКA*НЃ= Н™ЎКA*!| еНЂСКA*! К|**Је!| еЕ!‡*еН)UСССС Н’ЎКy**Ј###еНnЎлЭnЭfН}ЎСНwЎГ*Г‚*Г*НPЈ НщўщяЭnЭf"ЈеНэ*СНЌЂНЃ= Н™ЎК·*!^ еНЂСК·*! Кт**Је!^ еЕ!э*еН)UСССС Н’ЎКп**Ј###еНnЎлЭnЭfН„ЎСНwЎГх*Гш*Гќ*НPЈ НщўщяЭnЭf"ЈеН+СНЌЂНЃ& Н™ЎК9+НЃ= Н™ЎК9+!& еНЂСК9+! Кt+*Је!& еЕ!+еН)UСССС Н’ЎКq+*Ј###еНnЎлЭnЭfН‹ЎСНwЎГw+Гz+Г+НPЈ НщўщяЭnЭf"ЈеН:,С!l9еНжСКЪ+*Је! еЕ!:,еН)UСССС Н’ЎКЧ+*Ј###е*Ј###НsЎЭnЭfН’ЎСНwЎГ%,!o9еНжСК",*Је! еЕ!:,еН)UСССС Н’ЎК,*Ј###е*Ј###НsЎЭnЭfН™ЎСНwЎГ%,Г5,*Је*[еНrQССГ’+НPЈ НщўщяЭnЭf"ЈеН©-С!r9еНжСК•,*Је! еЕ!©-еН)UСССС Н’ЎК’,*Ј###е*Ј###НsЎЭnЭfН§ЎСНwЎГ”-!u9еНжСКЭ,*Је! еЕ!©-еН)UСССС Н’ЎКЪ,*Ј###е*Ј###НsЎЭnЭfНЁЎСНwЎГ”-НЃ< Н™ЎКч,!< еНЂСКч,! К7-*Је! еЕ!©-еН)UСССС Н’ЎК4-*Ј###е*Ј###НsЎЭnЭfН ЎСНwЎГ”-НЃ> Н™ЎКQ-!> еНЂСКQ-! К‘-*Је! еЕ!©-еН)UСССС Н’ЎКЋ-*Ј###е*Ј###НsЎЭnЭfНџЎСНwЎГ”-Г¤-*Је*[еНrQССГM,НPЈ НщўщяЭnЭf"ЈеН‚.СНЌЂ*Ње!x9еНшsССНюЎКа-!|9еНжСКа-! К.*Је!> еЕ!‚.еН)UСССС Н’ЎК.*Ј###еНnЎлЭnЭfНУЎСНwЎГz.*Ње!9еНшsССНюЎК<.!ѓ9еНжСК<.! Кw.*Је!< еЕ!‚.еН)UСССС Н’ЎКt.*Ј###еНnЎлЭnЭfНЬЎСНwЎГz.Г}.Гї-НPЈ НщўщяЭnЭf"ЈеНй.СНЌЂНЃ= Н™ЎКд.!+ еНЂСКБ.ЕНй.С*ЈеЕНXССГб.!- еНЂСКЮ.ЕНй.С*ЈеЕНЄZССГб.Гд.Г.НPЈ НщўщяЭnЭf"ЈеНє/СНЌЂНЃ= Н™ЎКµ/!* еНЂСК(/ЕНє/С*ЈеЕН±[ССГІ/!/ еНЂСКk/*Је!/ еЕ!є/еН)UСССС Н’ЎКh/*Ј###еНnЎлЭnЭfН)ўСНwЎГІ/!% еНЂСКЇ/*Је!% еЕ!є/еН)UСССС Н’ЎК¬/*Ј###еНnЎлЭnЭfН)ўлСНwЎГІ/Гµ/Гя.НPЈ НщўюяЭnЭf	"Ј!†9еНжСКц/*ЈеНє/С*ЈеНЬ8СКу/*Је! еН=ZССГ23!‰9еНжСК$0*ЈеНє/С*ЈеНЬ8СК!0*Је!яяеН=ZССГ23!- еНLЂСКS0*ЈеНэDСВ23Н&Ѓ*ЈеНє/С*ЈеНѓ`СНdГ23!* еНЂСК 0*ЈеНє/С*ЈеНяQСНюЎК0!Њ9еНу|СГќ0*ЈеНѓ`С*Ј#6 #6 *Ј6*ЈеНВPСГ23!! еНЂСКО0*ЈеНє/С*ЈеНѓ`СН+d*Је*[еНrQССГ23!~ еНЂСК1*ЈеНє/С*ЈеНdRСК1*Ј###е*Ј###НnЎНчЎСНwЎГ1*ЈеНѓ`СНdГ23!& еНЂСК№1*ЈеНє/С*Ј#НnЎ"ЃЈ*ЈеНMRСНюЎВW1*ЃЈ  Н™ЎКW1*ЃЈН`Ў Н’ЎКe1!љ9еНу|СГ23*Је*Ј НnЎеНКMСеНrQСС*ЈеН`ЎъяН‹ЎС}*Ј#НsЎ!  Н™ЎК¶1*ЈеН`Ў Н}ЎС}*ЈеНй7СГ23!Є9еНgЂСК†2!( еНЂС"…ЈНБ="ѓЈ|µК2*Ј е*[СНwЎеН‡MС*Ј###е*ѓЈ#НnЎСНwЎ*…Ј|µК2!) еНjСГu2*…Ј|µК#2!( еНEЃС*#"‡Ј*-Эu Эt!  "#"-*ЈеНє/С*‡Ј"#НlЎ"-*Ј###е*Ј НnЎ#НnЎСНwЎ*Је*[еНrQСС*Ј#6 #6 *Ј6	Г23!( еНЂСКД2НБ="ѓЈ|µКј2!) еНjС*ЈеНє/С*Је*ѓЈеНrQССГ23!( еНEЃС*ЈеН73С!±9еНжСКя2*ЈеНЬ8СКп2*Је! еН=ZСС*Је!яяеНmZССГ23!ґ9еНжСК23*ЈеНЬ8СК"3*Је!яяеН=ZСС*Је! еНmZССГ23НPЈ НщўщяЭnЭf"ЈеНJ5С!( еНЂСКЏ3*Ј НnЎНfЎ! Н™ЎКs3!·9еНу|С*Ј#НnЎеНв\С*ЈеНВPС*Ј6 Гб4!. еНЂС"ЃЈ|µВЄ3!Ж9еНжСК­3! К[4*ЃЈНюЎКК3*ЈеНѓ`С*Ј#6 #6 ЕНж4СНюЎКе3!Й9еНу|С*Ј6 ГX4ЭnЭf###НnЎ"ѓЈ*ЃЈ|µК4*Ј#НsЎ!  Н™ЎК4! К(4*Ј###еНnЎл*ѓЈСНwЎГ04*ѓЈеНхbС*Ј6*ЈеЭnЭfеНrQСС*ЈеНй7СЭnЭfеН MСГЮ4![ еНЂСКЫ4ЕН»$С*ЈеЕНXСС*ЈН`ЎНюЎКЌ4*Ј#6 #6 Гќ4*ЈеН`ЎэяН‹ЎС}*ЈеН`Ў Н}ЎС}*ЈеНяQСКГ4*ЈеНВPСГР4!а9еНу|С*Ј6 !] еНjСГЮ4Гб4ГЏ3НPЈ НщўчяЕНВ@СНюЎКь4!  ГC5ЕН^IС"ЈНюЎВ5*ЈН`Ў	 Н’ЎК5!  ГC5ЭnЭfе*Је*Ј#НnЎе! еНl8СССС! ГC5|µНPЈ	 НщўчяЭnЭf"Ј!( еНЂСКv5*ЈеН»$С!) еНjСГљ7ЕНAСК@7Н~tЕН.IС"ЃЈНюЎКм5ЕНIС"ЃЈ|µКм5*ЃЈ###НnЎ Н’ЎК·5!  "ЃЈГм5*|µКК5*7|µКК5! Км5Е*ЃЈ#НnЎе! е! е!  еНґJл!
 9щл*ЃЈ|µК„6*ЃЈ#НnЎ"ѓЈ*Је*ЃЈе*ѓЈе!  еНl8СССС*ѓЈН`ЎГf6!р9е*ЃЈеН}ССГy6!( еНLЂСНюЎКS6*Је*ѓЈеНКMСеНrQСС*Ј6Гy6*Ј6Гy6*Ј6Гy6Н’ў 
 V6 .6 6^6*ЈеНй7СГљ7!( еНLЂСКв6Е*Uе! е! е! еНѕIл!
 9щлЕ*Uе! е! е!  еНґJл!
 9щл"ЃЈ*Је*ЃЈе*Uе!  еНl8ССССГ=7!:еЕН}СС![ еНLЂСК7*[еНКMСГ7*["ѓЈЕ*ѓЈе! е! е!  еНґJл!
 9щл"ЃЈ*Је*ЃЈе*ѓЈе! еНl8ССССГљ7*ЈеНэDСНюЎКY7*ЈеНTGСНюЎКљ7НРd!  е! еНкdСС!:еНу|СНЃ; Н™ЎКѓ7НПЂ*Је!  е*[е!  еНl8ССССНPЈ	 НЦўЭnЭf"Ј#НsЎ!  Н™ЎКГ7*ЈеН°RСНюЎКЦ7*ЈеН`Ў Н}ЎС}*ЈеН`ЎъяН‹ЎС}Н5ЈНЦўЭnЭf"ЈНfЎ! Н‹ЎµКi8*Ј#НnЎН`Ў"ЃЈ+НюЎВ78*ЃЈ Н’ЎВ78*ЃЈ Н’ЎВ78*ЃЈ Н’ЎКM8*ЈеН`Ў Н}ЎС}Гi8*ЃЈ Н’ЎКi8*ЈеН`Ў  Н}ЎС}Н5ЈНЦўЭnЭf"Ј! 	л*‰ЈН·ЎК›8!+:е! еНJ~СС! еНЊС*Ј#еЭn
ЭfСНwЎ*Ј еЭnЭf	СНwЎеН‡MС*Ј###6 #6 *ЈеЭnЭfС}Н5ЈНЗўЭnЭfеНMRСКу8! Г9!T:еНу|С!  Г9|µЭбБЙ  += |= ^= &= *= -= >>= <<= /= %= Inconsistent use of pointers in conditional expression || || && && == != <= >= >>= >> <<= << ++ -- Not a pointer Illegal address sizeof ++ -- Not a function -> Not a structure member Can't subscript Illegal use of label Undefined variable Invalid expression 
Out of memory - compilation terminated
 Must be lvalue !хRеНбsСВ:;!ыRеНбsСВ:;! SеНбsСВ:;!	SеНбsСВ:;!SеНбsСВ:;!SеНбsСВ:;!SеНбsСВ:;! SеНбsСВ:;!&SеНбsСВ:;!+SеНбsСВ:;!1SеНбsСВ:;!5SеНбsСВ:;!:SеНбsСВ:;!=SеНбsСВ:;!DSеНбsСВ:;!KSеНбsСВ:;!RSеНбsСВ:;!YSеНбsСВ:;!_SеНбsСВ:;Н@;К=;! |µЙНR;ВL;НТ;КO;! |µЙНЌЂ!eSеНбsСКf;! ГП;!iSеНбsСКw;! ГП;!nSеНбsСК€;! ГП;!wSеНбsСК™;! ГП;!~SеНбsСКЄ;!	 ГП;!„SеНбsСК»;! ГП;!ЉSеНбsСКМ;! ГП;!  |µЙНЌЂ!ЏSеНбsСКж;! Г-<!SеНбsСКч;! Г-<!џSеНбsСК<! Г-<!¦SеНбsСК<!	 Г-<!®SеНбsСК*<! Г-<!  |µЙНщўюя!  "ЈНR;"ЃЈГъ<!іSеН<С*ЈНюЎК^<! "ЈГa<Н'Г=*ЈНюЎКv<*ЃЈ"ЈГy<Н'Г=*Ј+НюЎКЊ<Н'Г›<*ЈНюЎК›<! "ЈГ=*ЈГШ<*ЈеНЛСГ#=*]Г#=*YГ#=*[Г#=Н*=Эu Эt|µКТ<Н~tНlЎГ#=Н’ў   Б< »< µ< Ї<	 ¤< ¤<ч<Г=Н’ў  |< d< d< d<	 d< L< D<ћ<Н~tГ;<|µНPЈ НщўчяЕНAСНюЎК@=!  Гљ=*7|µКX=ЕН.IС"Ј|µКX=! В{=ЕНIС"Ј|µК{=*Ј###НnЎ+НюЎК{=! К—=*ЈН`Ў	 Н’ЎК—=*Ј#НnЎГљ=!  |µНPЈ	 Н!ЈюяНТ;Эu Эt|µК·=Н~tНlЎ|µНrЈ Нщў¤яН0<"Ј|µК>! 	Эu ЭtЕ!  еН„?СС*ЈеЕН>СС"ЈН`Ў
 Н’ЎК	>*Ј#НnЎ#НюЎК>НЛ*ЈГ>!  |µНPЈ\ НЦўЭnЭf##"ЃЈЭnЭfНnЎ"Ј*Ј+++"Јл*ЃЈНёЎКy?*ЈН`ЎГc?ЭnЭf	еНКMСЭuЭt	Гv?ЭnЭf	НfЎ!  Н§ЎВЉ>ЭnЭf	НfЎ! НџЎКћ>!БSеНу|С*[ЭuЭt	! еЭnЭf	е!  еНУLСССЭuЭt	Гv?ЭnЭf	Н`Ў Н’ЎКз>!бSеНу|СЭnЭf	еНКMСЭuЭt	*Ј#НnЎ#НюЎКя>*Јл*ЃЈН™ЎК?НЛЭnЭf	#НnЎ"ѓЈГE?*Ј#НnЎ#НюЎК,?!яя"ѓЈГE?*Ј#еЭnЭf	#НsЎбНnЎНў"ѓЈ!
 еЭnЭf	е*ѓЈеНУLСССЭuЭt	Гv?Н’ў 
 ј> i> U>v?Г9>ЭnЭf	|µН5ЈНЦўЭnЭf"ЃЈЭnЭf	"Ј!* еНЂСКЖ?*Је*ЃЈеН„?СС*Је! е! еНe@СССГb@!( еНЂСКй?*Је*ЃЈеН„?СС!) еНjСГэ?*ЃЈ  Н™ЎКэ?*ЃЈеНВ@С!( еНЂСКB@*ЃЈНюЎВ"@*Је*Ј##лбНnЎН°ЎК-@!) еНjС*Је! е! еНe@СССГb@![ еНЂСКb@*Је!
 еНfеНe@СССГB@Н5ЈНЦўЭn
Эf"ЈНnЎ"ЃЈ*Ј##Z л*ЃЈНЇЎК·@*ЃЈеЭnЭf	С}*ЃЈ#еЭnЭfСНwЎ*ЈеНnЎ###СНwЎГї@!шSеНу|СН5ЈНЗўЭnЭfеНAСНюЎКв@Н~tН0!  ГAНc:Кь@Н~tЭnЭfеНґС!  ГAН~t! ГA|µЭбБЙНЦўЭnЭf"ЈНЌЂНЃеНetСНюЎК3A*Ј6 !  Г‚A!  "ЃЈ*Њ"ѓЈ*ѓЈН`ЎеНVtСКzA*ЃЈ#"ЃЈ+ НџЎКpA*Ј#"Ј+е*ѓЈН`ЎС}*ѓЈ#"ѓЈГ?A*Ј6 *ѓЈ|µН5ЈНЦўЭnЭf"ЃЈЭnЭf	"ЈеН.IС"ѓЈ|µКB*ѓЈ#НnЎНfЎ! Н™ЎККA*ЈеНSС!  Г*B*ѓЈН`Ў Н’ЎКрA*ЃЈ Н’ЎКнA*ЈеНSСГъA*ѓЈе*ЃЈС}*ѓЈ###НnЎГ*B*Је*Wе*ЃЈе! еН/B"…ЈеНґJл!
 9щл*…Ј|µН5Ј*T#"T|µЙНЗў*R))л*‚л*„Н·ЎК[B!TеНу|СГ‹B*„еЭnЭfНnЎСНwЎ*„##еЭnЭf##НnЎСНwЎ*„ "„ЭбБЙН«BКўB*„ья"„ГЄB!4TеНу|СЙ*„л*‚Н’ЎКѕB!  ГЕB*„ья|µЙНЗў*T))л*†л*€Н·ЎКкB!ZTеНу|СГC*€еЭnЭfНnЎСНwЎ*€##еЭnЭf##НnЎСНwЎ*€ "€ЭбБЙ*€л*†НЇЎК8C*€ья"€ГFC!pTеНу|С!  ГFC|µЙНщўяяЭnЭf"ЈНЃ  Н’ЎВlCНЃ	 Н’ЎКuCН&ЃГWC*ЈеН`sС"ЃЈ|µКЬC*ЃЈ "ЃЈН&ЃЭu |µКіC*ЃЈНfЎН^ЎН™ЎВіC*ЃЈ#"ЃЈГЏCН^Ў  Н™ЎВЛC*ЃЈНfЎ!  Н™ЎКЩC*ЈеНSСНjЃГMD*~л*ЂН·ЎКтCНRDНjЃГMD*~е*ЈеНaћСС*~ е*ЂСНwЎ*Ђ#"Ђ+еН&ЃС}ґКCD*Ђл*~НёЎК@DНRDНjЃ*Ђ+"Ђ6 ГCDГD*~ця"~НPЈ !‘TеНу|СЙН!ЈюяНѓDЭu Эt|µКvDНlЎ6 Г~D!®TеНу|СНrЈ Н!ЈчяЕНВ@СКDЕН`sСГ›D!  |µНrЈ	 НЦўЭnЭf"Ј!  "#*ЈеНм$С! "#*Ј НnЎеН MС*Ј#НnЎ|µКмD*ЈНfЎ! Н‹ЎГшD*ЈНfЎ! Н‹Ў|µН5ЈНщўюяЭnЭf	"ЈЕНwEСВ+EЕН!FСВ+EЕНuFСВ+EЕНЩFСК.E! КgE*Ј#6 #6 *Ј е*[СНwЎеН‡MС*Ј6	*Ј###еНlЎСНwЎ! ГpE!  ГpE! |µНPЈ НЗў!ЙTеНжСВђE!МTеНжСК“E! КЄEЭnЭfеНіEСНwЎ! Г­E!  |µЭбБЙНЦў!  "ЈНЃеН-џС"ЃЈеН СКЬE*ЃЈРя"ЃЈГF*ЃЈA Н§ЎКсE*ЃЈF НЁЎКF*ЃЈЙя"ЃЈГFГF*Ј))))л*ЃЈ"ЈН&ЃГјE*Ј|µН5ЈНЦў!0 еНЂСНюЎК8F!  ГpF!  "ЈНЃеН СК_F*Ј)))еН&ЃСРя"ЈГ>FЭnЭfе*ЈСНwЎ! |µН5ЈНЦўНЌЂНЃ"Ј+ Н’ЎВ“F*Ј- Н’ЎКњFНЃ"Ј*ЈеН СНюЎК°F!  ГФFЭnЭfе*ЊеНyќССНwЎН&ЃНЃеН СВГF! |µН5ЈНЦў!' еНЂСНюЎКрF!  ГOG!  "ЃЈН&Ѓ"Ј' Н™ЎКG*Ј  Н™ЎК>G*Ј\ Н’ЎК#GНhH"Ј*ЃЈ НЭЎе*Јя Н‹ЎС"ЃЈГцFЭnЭfе*ЃЈСНwЎ! |µН5ЈНЦў!" еНЂСНюЎКkG!  Г*H*v"jЭnЭfе!gе*hе! еНl8ССССЭnЭf###е*zл*xНлЎСНwЎН/H"Ј*zл*xНлЎЂ Н§ЎКШG*%|µКПGН/B"ЃЈеН€pСНЁ! "ПT*z#"z+е*Ј#НюЎКсG!  ГфG*ЈС}*ЈяяН™ЎВЈG*ПT|µК'HНЁ!  "ПTНfr*%|µК'H*ЃЈеНѓqС! |µН5ЈН!ЈюяН&ЃЭu ЭtГRH!яяГaHНhHГaHНlЎГaHН’ў \ FH" @HLH|µНrЈ НЦўН&Ѓ"ЈГ’H! ГI! ГI! ГI!	 ГI!
 ГIН’ў n ЊHt †Hb ЂHr zHf tH­H*ЈеН СКI!  "ЃЈ*ЈРя"ѓЈНЃеН СКжH*ЃЈ#"ЃЈ НџЎКжH! КяH*ѓЈ)))еН&ЃСРя"ѓЈГИH*ѓЈГI*Ј|µН5ЈНЗў*_е*aеЭnЭfе! еН–sССССЭбБЙНЗў*c е*N Нўл*_еЭnЭfе! еН–sССССЭбБЙН!Јюя*c е*N Нўл*_еЭnЭf	е! еН–sССССЭu Эt|µКќIНlЎГ·I*_е*aеЭnЭf	е! еН–sСССС|µНrЈ НЦўЭnЭf"ЃЈЭnЭf"ЈЭnЭf	 Н™ЎКхI*ЈеНIС"ѓЈ|µКхI! КoJЭn
Эf Н™ЎКOJ*ѓЈН`Ў+НюЎВ J*ѓЈН`Ў Н’ЎК1J*ЈеНSС!  ГЇJ*ѓЈеЭn
ЭfС}*ѓЈ###еЭnЭfСНwЎ*ѓЈ#НsЎ*ЃЈН™ЎКlJ!СTе*ЈеН}ССГ¬J*aе*Је*ЃЈеЭn
ЭfеЭnЭf	еЭnЭfеН	Kл! 9щл"ѓЈ|µК¬J*a "a*ѓЈ|µН5ЈН!Јюя*cеЭnЭfеЭnЭfеЭnЭfеЭn
ЭfеЭnЭf	еН	Kл! 9щлЭu Эt|µКяJ*cся"cНlЎ|µНrЈ НЦўЭnЭf"ЃЈЭnЭf"Ј*aл*cНёЎК9K!кTеНу|С!  ГџK*ЃЈ  Н™ЎКMK*ЃЈеН‡MС*Ј еЭnЭfеНaћСС*Ј#е*ЃЈСНwЎ*ЈеЭn
ЭfС}*Ј еЭnЭf	С}*Ј###еЭnЭfСНwЎ*Ј|µН5ЈНЦў!  "Ј*Јл*PН ЎВЗKГ L*Ј#"ЈГ­K*Ј	 Нўл*;6 *Ј	 Нўл*; е*Ј#	 Нўл*;СНwЎГЅK*P+	 Нўл*; 6 #6 !  "Ј*Ј НџЎВ7LГHL*Ј#"ЈГL*Ј)л!=6 #6 Г-L*;"=! е!  е! еНУLССС"YеН‡MС! е!  е! еНУLССС"[еН‡MС! е!  е! еНУLССС"]еН‡MС! е!  е!  еНУLССС"WеН‡MС! е*[е!  еНУLССС"UеН‡MСН5ЈНЦўЭn
ЭfеЭnЭf	еЭnЭfеНжMССС"ЈНюЎКMЭn
ЭfеЭnЭf	еЭnЭfеН MССС"Ј*Ј|µН5ЈНЦўЭn
ЭfеЭnЭf	еЭnЭfеНTNССС"ЈНюЎКMM*[Г‚M*Ј еЭn
Эf)л!=НnЎСНwЎЭn
Эf)л!=е*ЈСНwЎ*ЈГ‚M|µН5ЈНЗўЭnЭf###еНnЎ#СНwЎЭбБЙНЗўЭnЭf###еНnЎ+СНwЎНюЎКЖMЭnЭfеНOСЭбБЙНЗў! еЭnЭfе! еНУLСССЭбБЙНЦўЭn
Эf)л!=НnЎ"Ј*Ј  Н™ЎКLN*Ј НnЎ"ЃЈ*Ј#НsЎЭnЭfН’ЎК:N*Ј НsЎЭnЭf	Н’ЎКCN*ЈГON*ЃЈ"ЈГыM!  |µН5ЈНЦўЭnЭf	"Ј  Н™ЎКqN*ЈеН‡MС*=НюЎКЂNНщOНюЎКҐN!ьTеНу|С*Ј  Н™ЎКџN*ЈеН MС!  ГэN*="ЃЈ НnЎ"=*ЃЈеЭn
ЭfС}*ЃЈ#еЭnЭfСНwЎ*ЃЈ###6 #6 *ЃЈ 6 #6 *ЃЈ е*ЈСНwЎ*ЃЈГэN|µН5ЈНЦўЭnЭf"Ј НsЎ!  Н™ЎК-O*Ј НnЎеН MС!  "ѓЈ*ЈН`Ў)л!=НnЎ"ЃЈ*ЃЈ  Н™ЎВdOГЉO*ЃЈ НnЎ"ЃЈГEO*ЃЈл*ЈН’ЎКЃO*ѓЈе*ЈеНЌOССГЉO*ЃЈ"ѓЈГTOН5ЈНЦўЭnЭf"ЈЭnЭf	НюЎКГO*ЈН`Ў)л!=е*Ј НnЎСНwЎГЬOЭnЭf	 е*Ј НnЎСНwЎ*Ј е*=СНwЎ*Ј"=*Ј6 Н5ЈНЦў!  "ЃЈ! "Ј*Ј НџЎВ!PГєP*Ј#"ЈГP!  "…Ј*Ј)л!=НnЎ"ѓЈ*ѓЈ  Н™ЎВNPГ·P*‡Ј"ѓЈГ6P*ѓЈ НnЎ"‡Ј*ѓЈ###НsЎ!  НЇЎКvP*ѓЈ"…ЈГґP*ѓЈ НsЎ!  Н™ЎК P*ѓЈ НnЎ###еНnЎ+СНwЎ#*…Је*ѓЈеНЌOСС*ЃЈ#"ЃЈГEPГP*ЃЈ|µН5ЈНЗўЭnЭfеЭnЭf НnЎ НnЎеНrQССЭбБЙНЦўЭnЭf НnЎ"ЈеЭnЭf	 НnЎНfЎбН`ЎН ЎК(QЭnЭf	е*ЈеНrQСС*ЈеН MСЭnЭf	 НnЎН`Ў
 Н’ЎКoQЭnЭf	еЭnЭf	 НnЎ НnЎеНКMСеНrQССН5ЈНЦўЭnЭf"ЃЈЭnЭf	"Ј*ЃЈеН‡MС*Ј НnЎеН MС*Ј е*ЃЈСНwЎ*ЃЈН`Ў
 Н’ЎКДQ*ЈеНџ7СН5ЈНЦўЭnЭf НnЎ НnЎ"Ј#НnЎНюЎКуQ!UеНу|С*Ј#НnЎ|µН5ЈНЦўЭnЭf НnЎ"ЈН`Ў Н’ЎК$R*ЈГHR*ЈН`Ў
 Н’ЎКER*Ј НnЎеНКMСГHR!  |µН5ЈНЗўЭnЭfНfЎ! Н‹ЎµЭбБЙНЗўЭnЭfНfЎ! Н‹ЎµЭбБЙНЗўЭnЭf НnЎНfЎ! Н ЎК§RЭnЭf НnЎГЄR!  |µЭбБЙНЗўЭnЭfНfЎ! Н‹ЎНюЎ|µЭбБЙНЗўЭnЭfеНMRСКпRЭnЭf#НnЎНюЎКпR! |µЭбБЙbreak case continue default do double else entry enum float for goto if return sizeof struct switch union while int char unsigned struct union short long register static extern typedef auto long integers Function can't return aggregate No arrays of functions This type is too ornate   Too many active switches or loops No active switches or loops to delete Too many switch cases No entry in case table to delete Macro (#define) pool is full Can't #undef - not defined 0x 0X   Inconsistent declaration Symbol table full Too many different types in use Size unknown НЦўЭnЭf	"ЃЈЭn
Эf"ѓЈЭnЭf"ЈЭnЭfе*ЃЈге!XUгйС*Је*ѓЈе*ЃЈеН8WСССКtU!  Г3W*Је*ЃЈеН°^СС"…Ј Н’ЎК“U! Г3W*ЈеНяQСВґU*Ј НnЎН`Ў Н’ЎК·U! "‡Ј*ѓЈГхVНЂcГ0WНЏcГ0WНћcГ0WН:dГ0WНIdГ0W*‡Ј|µКъU*…Ј|µКфUНБdГчUНЈdГV*…Ј|µКVН…dГVНgdГ0W*‡Ј|µК*V*…Ј|µК$VНЈdГ'VНБdГ;V*…Ј|µК8VНgdГ;VН…dГ0W*‡Ј|µКZV*…Ј|µКTVНІdГWVН”dГkV*…Ј|µКhVНvdГkVНXdГ0W*‡Ј|µКЉV*…Ј|µК„VН”dГ‡VНІdГ›V*…Ј|µКVНXdГ›VНvdГ0W*‡Ј|µК±V*…ЈеНнcСГ№V*…ЈеН­cСГ0W*…ЈеННcСГ0W*…Ј|µКТVНJo*‡Ј|µКаVНwcГгVНnc*ѓЈ% Н’ЎКтVНJoГ0WН’ў / ЗV% ЗV< јV> ћV nV >V V ЮU ШU ТU& МU^ ЖU| АU0W!  |µН5ЈНЦўЭnЭf"ЃЈЭn
Эf"ЈЭnЭf	ГъW*Је*ЃЈеН±[ССГX*Је*ЃЈеНЄZССГX*Је*ЃЈеНXССГX*ЈеНdRСНюЎКўW*ЃЈеНdRСКўW! КфW*ЈеНѓ`С*ЃЈ###НnЎГЦWНEsГВWНNsН+dГйW*ЃЈеНvaСН:dГйWН’ў   ВW їWяя№WИW*[еН MСГX!  ГXН’ў  †W+ vW- fW* VWфW! |µН5ЈНЦўЭnЭf"ЃЈЭnЭf	"ЈеНdRСКDX*ЃЈеНdRСКDX! КlX*Ј###еНnЎе*ЃЈ###НnЎССНwЎ*[еН MСГ:Z*ЈеНяQС"ѓЈ*ЃЈеНяQС"…Ј*ЃЈеНdRСКY*ѓЈ|µКІX*ЃЈ###е*ЈеНЗQСлбНnЎНў"‡ЈГѕX*ЃЈ###НnЎ"‡Ј*ЈНfЎ! Н‹ЎµКбX*ЈНfЎ!0 Н‹ЎµКбX! КъX*Ј###еНnЎл*‡ЈСНwЎГ
Y*ЈеНѓ`С*‡ЈеНхbС*ЃЈ НnЎеН MСГ:Z*ЈеНdRСКЙY*…Ј|µКJY*Ј###еНnЎе*ЃЈеНЗQССНўСНwЎ*ЃЈНfЎ! Н‹ЎµКmY*ЃЈНfЎ!0 Н‹ЎµКmY! В†Y*ЃЈеНѓ`С*Ј###НnЎеНхbС*Је*ЃЈ НnЎеНrQСС*Је*ЃЈН`ЎС}*Ј#е*ЃЈ#НnЎСНwЎ*ЃЈ НnЎеН MСГ:Z*ѓЈ|µКщY*…Ј|µКбY!{fеНу|С*ЃЈеНѓ`С*ЈеНЗQСеН„\СГ*Z*…Ј|µК*Z*ЈеНѓ`С*ЃЈеНЗQСеН„\С*Је*ЃЈ НnЎеНrQСС*Је*ЃЈеН°^ССН<sН5ЈНЗўЭnЭf	еН$aСЭnЭf	еЭnЭfеНmZССЭnЭf	еНHbСЭбБЙНЗўЭnЭf	еНяQСК›ZЭnЭf	еНЗQСлЭnЭfНўеНхbСГ¦ZЭnЭfеНхbСЭбБЙНЦўЭnЭf"ЃЈЭnЭf	"Ј*ЃЈеНdRСКсZ*ЃЈ###е*ЃЈ###НnЎНтЎСНwЎ*Је*ЃЈеНXССГ®[*ЃЈеНяQС"…Ј*ЈеНяQС"ѓЈ|µК[*…ЈНюЎК[! К0[*ЃЈеНѓ`С*ЈеНЗQСеН„\С*Је*ЃЈеН°^ССКC[НJoНVc*…Ј|µК®[*ѓЈНюЎКb[!ЋfеНу|СГ®[*ѓЈл*…ЈН™ЎКz[!±fеНу|СГ®[*ЈеНЗQС"‡Ј Н ЎКЎ[НJo*‡Је! еНкdССНnc*Је*[еНrQССН5ЈНЦўЭnЭf"ЃЈЭnЭf	"ЈеНdRСКЬ[*ЃЈеНdRСКЬ[! Кю[*Ј###еНnЎе*ЃЈ###НnЎСНўСНwЎГr\*ЃЈеНdRСК"\*ЈеНѓ`С*ЃЈ###НnЎеН„\СГr\*ЈеНdRСК_\*ЃЈеНѓ`С*Ј###НnЎеН„\С*Је*ЃЈ НnЎеНrQСС*Ј6 Гr\*Је*ЃЈеН°^ССНecГЃ\*ЃЈ НnЎеН MСН5ЈНЗўЭnЭfГ»\Н3sН3sН3sН3sН3sН3sГЮ\ЭnЭfе! еНкdССНecГЮ\Н’ў  ў\ џ\ њ\ ™\ –\  “\@ ђ\Ґ\ЭбБЙНщўщяЭnЭf"Ј!  "ЃЈНЌЂ*ЈНюЎВ
]*-|µК]! К]! еНnoС*Ње!РfеНшsССНюЎК»]НкЂВ»]!  "-ЕНм$СЭnЭf"ѓЈН`Ў Н’ЎВ]]*ѓЈН`Ў	 Н’ЎК‚]!ТfеНу|СЕН^ЎюяН‹ЎС}ЕН^Ў Н}ЎС}ЕНѓ`С*ЈНюЎК“]Нзo! еНnoС*ЃЈ#"ЃЈ*ѓЈеН MС!, еНЂСНюЎВ»]Г]!) еНjС*Ј|µК-^*Ј "…Је!p еНЗ СС"…Ј|µКя]*…Је!тfе! еНtСССКя]! К^*ЃЈе! еНкdСС! еНnoС*ЃЈ#"ЃЈ*Ј еНQpСГ0^Нnp! "-*ЃЈ)еНјrС! "НPЈ НщўщяЭnЭf"ЈЕ*Је*Ј#НnЎе! еНl8СССС!  "-ЕНѓ`С*Ј6*Ј###еЭnЭfСНwЎ*ЈЭuЭtЕНHbС*Ј#НnЎеН MСНPЈ НЦўЭnЭf"ЃЈЭnЭf	"Ј!  "ѓЈ*ЈеНdRСК_*ЃЈеНdRСКп^*[еН MС! Г~`*ЃЈеНѓ`С*ЈеНvaСГn`*ЈеН°RСКq_*ЃЈеН°RСК#_! еНІoСГn_*ЃЈеНdRСК?_*ЃЈеНvaС! "ѓЈГn_*ЃЈеНЛRСК]_*ЃЈеНѓ`С! еНІoСГn_НJo!  "-*ЃЈеНѓ`СГn`*ЈеНЛRСКи_*ЃЈеН°RСК©_НJo!  "-! еНІoС*ЈеНѓ`С! "ѓЈГе_*ЃЈеНЛRСКХ_*ЃЈеНvaС! еНІoС*ЈеНѓ`С! "ѓЈГе_*ЈеНvaС*ЃЈеНѓ`СГn`*ЃЈеНdRСК`*ЈеНѓ`С*ЃЈеНvaС! "ѓЈГn`*ЃЈеН°RСК1`НJo!  "-*ЈеНѓ`С! "ѓЈГn`*ЃЈеНЛRСКU`*ЃЈеНvaС*ЈеНѓ`С! "ѓЈГn`*ЈеНѓ`СНJo!  "-*ЃЈеНѓ`С*Је*ЃЈеНкPСС*ѓЈ|µН5ЈНЦўЭnЭf"ЈеН°RСВ!a*ЈеНЛRСКГ`*Ј НnЎ#НnЎеН„bС*Ј6 ! "-Г!aНРd*ЈН`Ў"ЃЈH Н‹ЎµКп`*Ј###НnЎе! еНкdССГa*ЃЈ Н‹ЎµКa*ЈеНekСГa*ЃЈ Н‹ЎµКa*ЈеНОaС*Ј6 Н5ЈНЦўЭnЭf"Ј#НnЎНюЎКEa! еНnoСГka*Ј#НnЎН`Ў Н’ЎКkaНРd*ЈеНekС! еНnoС*ЈеНѓ`СН5ЈНЦўЭnЭf"ЈеНdRСК a*Ј###НnЎе! еНкdССГЖa*Ј#НnЎНюЎКЖa*Ј НnЎ#НnЎеНУbС!  "-*Ј6 Н5ЈНЦўЭnЭf"Ј#НnЎ"ЃЈ* Н’ЎК b*ЃЈ е!'е!'еН™ћСеНtСССК b*Ј###НsЎ*0Н’ЎК b! ВEb*ЃЈН`Ў Н’ЎК=b*ЈеНўjСГEb*ЈеНlСН5ЈНЦўЭnЭf"Ј#НnЎНюЎКtb*Ј НnЎ#НnЎеН«lСГ|b*ЈеНоlС*Ј6 Н5ЈНЗў* Н’ЎКґbНЭeЭnЭf+НюЎК©b!щfГ¬b!эfеНрoСГПbЭnЭf+НюЎКЗb! gГКb!gеНрoСЭбБЙНЗўЭnЭf+НюЎКйb!gГмb!	gеНрoСЭбБЙНЗўЭnЭfГ/cНEsНEsНEsГRcНNsНNsНNsГRcЭnЭfе! еНкdССН<sГRcН’ў яяcюяcэяc  
c c c ccЭбБЙ!gеНрoС! "Й!gеНрoСЙ!gеНрoСЙ!gеНрoСЙ!gеНрoС! "Й!gеНрoС! "Й! gеНрoС! "ЙНЗўЭnЭf|µКБc!"gГДc!'gеНрoСЭбБЙНЗўЭnЭf|µКбc!+gГдc!0gеНрoСЭбБЙНЗўЭnЭf|µКd!4gГd!9gеНрoСЭбБЙ!=gеНрoС! "Й!AgеНрoС! "Й!EgеНрoС! "1Й!GgеНрoС! "1Й!IgеНрoС! "1Й!LgеНрoС! "1Й!OgеНрoС! "1Й!RgеНрoС! "1Й!UgеНрoС! "1Й!XgеНрoС! "1Й!\gеНрoС! "1Й!`gеНрoС! "1Й!dgеНрoС! "1Й*-|µКгd! еНnoСГйd! "-ЙНЗўЭnЭf+НюЎК eНSoГeН\oЭnЭf	еНB‡СНк|ЭбБЙНЦўЭnЭf"ЃЈ*ЃЈ#"ЃЈ+Н`Ў"Ј|µКQe*Ј_ Н’ЎКFe!@ ГIe*ЈеН|СГ!eЭnЭfНfЎ!? Н™ЎКke!? еН|СН5ЈНЗў!? еН|СЭnЭfеНB‡СЭбБЙНЗўЭnЭfе!igе!
 еНfњССС!hgеНґeС!ogеНґeСЭбБЙНЗў*%еЭnЭfеН%ћССЭбБЙ!  "*%еН~|СНЭeЙ!  "*%6 ЙНЦўН/B"ЈеН€pСН/BеНѓqСНЎrЭ~НaЎеНB‡С!, еН|СЭnЭfН`ЎеНB‡С! 	еНnЎ#СНwЎ+Н`Ў|µВf*ЈеНѓqС! еНnoСНSo*Ј#еНneСНк|! еНnoС!qgеНQpС! еНІoС! еНІoСН5ЈCan't add pointers Can't subtract pointer from scalar Can't subtract unlike pointers ) Can't pass structures or unions printf gcf gf gc g gcs gs s mult div udiv o x a asr1 asr asl1 asl lsr1 lsr neg com n e ne lt le gt ge ult ule ugt uge ?      
 puts !’tеН~|С!BеН~|СНк|!¤tеНХ|СЙН!ЈшяНfr!©tе! еНrСС*%|µКєg*'|µКєg! КУg!ЇtеН»|С*'еНB‡СНк|ГЫg!¶tеНХ|С*^|µКйg!АtГмg!ИtеНQpС*^|µКяg!ПtГh!ЧtеН„rСНrЈ *|µКh!вtеНХ|СГЙh*_"аt*аtл*aН°ЎВBhГ`h*аt "аtГ%h*аtН`Ў Н’ЎК]h*аt еН„rСГ5h!  "Юt*Юt НџЎК†h*Юt#"ЮtеН0oСеН„rСГfh!жtеНХ|С!uеНХ|С!RuеНХ|С!‰uеНХ|С!ЅuеН»|С*|µКЖh!	 еН|С!БuеНeСНк|ЙНЇ|!; еН|СЙНщўюяЭn
Эf"ЃЈЭnЭf"Ј#НnЎ"…Ј  Н™ЎКQi*…Ј###е*Ј###НsЎбНnЎ"‡Ј*…ЈН`Ў Н’ЎК-i*‡Ј Н§ЎВ@i*ЈНfЎ! Н‹ЎµКCi! КQiНРd*ЈеНekС*ЃЈеНм$СЭnЭf	+НюЎКti*ЃЈеНdRСКti! КЌj*Ј НnЎ#НnЎЭu Эt*…ЈНюЎКчi!ЗuеН»|С*Ј###е*ЃЈ###НnЎСНwЎ"ѓЈя Н‹ЎеНB‡СНк|НlЎ Н’ЎКйiНEs!РuеН»|С*ѓЈ НгЎеНB‡СНк|*Ј6A!  "-Гќj*…ЈН`Ў Н’ЎКj*‡Ј НџЎКЌj!ЩuеН»|С*‡ЈеНАnС!, еН|С*Ј###е*ЃЈ###НnЎСНwЎ"ѓЈя Н‹ЎеНB‡СНк|НlЎ Н’ЎК…j!ЭuеН»|С*‡Ј#еНАnС!, еН|С*ѓЈ НгЎеНB‡СНк|*Ј6AГќj*ЃЈеНѓ`С*ЈеНHbСНPЈ НЦўЭnЭf НnЎ#НnЎ"ѓЈЭnЭf#НnЎ"Ј###еЭnЭf###НsЎбНnЎ"ЃЈ  Н ЎКрj*ЃЈ НџЎКOk*ѓЈ+НюЎК k!бuеН»|С*ЃЈеНАnС*ЈеН—nС!зuеНрoСГLk!лuеН»|С*ЃЈеНАnС*ЈеН—nС!сuеН»|С*ЃЈ#еНАnСНк|ГbkЭnЭfеНekС*ѓЈеН„bСН5ЈНЦўЭnЭf"Ј#НnЎ"ЃЈНюЎВl*Ј###НnЎ"ѓЈ*ЃЈН`Ў Н’ЎКеk*ѓЈе*ЃЈ###НnЎС"ѓЈНюЎКЕkНЛe!чuеНґeС! "Гвk*ѓЈе! еНкdСС!vеН»|С*ЃЈеН—nСГэkНSo*ЃЈе*ѓЈеНnСС*ЃЈеН—nС*Ј#6 #6 *ЈеН`ЎэяН‹ЎС}! "-Н5ЈНЦўЭnЭf"Ј###НnЎ"ЃЈ*Ј#НnЎ"ѓЈ*Ј НnЎ#НnЎ+НюЎКѓl!vеН»|С*ѓЈе*ЃЈеНnСС!) еН|С*ѓЈеН—nС!vеНрoСГЁl!vеН»|С*ѓЈе*ЃЈеНnСС!) еН|С*ѓЈеН—nСН5ЈНЗў! еНІoСЭnЭf+НюЎКЬl!%vеНХ|С!,vеНХ|С! "Гкl!6vеНрoС! "ЭбБЙНЦўЭnЭf"Ј###НnЎ"ѓЈ*Ј НnЎ#НnЎ"…Ј*Ј#НnЎ"ЃЈН`Ў Н’ЎКЃm!8vеН»|С*ѓЈе*ЃЈ###НnЎС"ѓЈеНАnС!<vеН~|С*ЃЈеН—nС*…Ј Н’ЎК~m!?vеН»|С*ѓЈ#еНАnС!CvеН~|СГЮm*…Ј+НюЎК№m!GvеНХ|С!NvеН»|С*ЃЈе*ѓЈеНnСС!SvеН~|С! "ГЦm!WvеН»|С*ЃЈе*ѓЈеНnСС!\vеН~|С*ЃЈеН—nС! "!'е*ЃЈ еНaћСС*Ј###НnЎ"0Н5ЈНЦўЭnЭf	"ЈН`ЎГLn*Ј еНeСГgn*Ј###НnЎеН0oСеНeСГgn*Ј###НnЎеНneСГgnН’ў  ;n %n n n ngnЭnЭf|µК”nЭnЭf  Н ЎК‰n!+ еН|СЭnЭfеНB‡СН5ЈНЗў*|µК№n!avеН»|СЭnЭf еН~|СНк|ЭбБЙНЗў!cvеН~|СЭnЭfеНB‡С!hvеН~|СЭбБЙНЗў!jvеН»|СЭnЭfеН0oСеНeС!rvеН~|СЭбБЙНЗў!uvеН»|СЭnЭfеН0oСеНeС!zvеН~|СЭбБЙНЗўЭnЭf0 }2v!}v|µЭбБЙ!ЃvеНХ|СЙ!ЉvеН»|СЙ!‘vеН»|СЙ!vеНХ|СЙНЗў* Н’ЎК‘oНЭe!ґvеНХ|С! "Г®o!јvеН»|СЭnЭf+)л! vНnЎеНХ|СЭбБЙНЗў!ХvеН»|СЭnЭf+)л!БvНnЎеНХ|СЭбБЙ! еНІoС! еНІoСЙ!ЩvеНХ|СЙНЗў!еvеЭnЭfеНaћСС!лvеН»|С!дvеНХ|С*|µК,p!дvеН.IСНюЎК,p! КMp!дvе*Uе! е! е!  еНґJл!
 9щлЭбБЙНЗў!рvеН»|СЭnЭfеНeСНк|ЭбБЙНSo!цvеН~|СНк|Нзo!ъvеНХ|СЙНЗў*ГЫpГтp*#  Н™ЎВтp!wеНґeСЭnЭf"#еН€eСГтpНЛe!wеН»|СЭnЭfеНneСНк|! "ГтpН’ў   јp ”p ”p ‘p№pЭбБЙНЗўНЛe*1НюЎКqНKqЭnЭf	НюЎК%q! "!wеНґeСГ3q! "!wеНґeСЭnЭf"!еН€eС!  "#ЭбБЙ*Гoq!wеНХ|СГ‚q!wеНХ|С!&wеНХ|СГ‚qН’ў  lq dq Qq\qЙН!Јюя* Н’ЎВќq* Н’ЎК№q*#  Н™ЎК№qЭnЭf	л*!Н’ЎКрq* Н’ЎКОq!+wГСq!1wЭu ЭtНЭeНlЎеН»|С*#еНneСНк|ГrНЇ|ЭnЭf	еНneС!: еН|СНrЈ НЗўЭnЭf+НюЎК1r!8wеН»|СЭnЭf	еНeСНк|ЭnЭf	еНeС!: еН|СЭбБЙ* Н™ЎКerНЇ|!@wеНХ|С! "Й* Н™ЎКѓrНЇ|!EwеНХ|С! "ЙНЗў!JwеН»|СЭnЭfеНeСНк|ЭбБЙ!QwеН»|СЙ!WwеН»|СЙ!]wеН»|СЙНЗўЭnЭfГs! еНІoС! еНІoС! еНІoС! еНІoСГ/sНJoЭnЭfе! еНкdСС!cwеНХ|С!mwеНХ|СНJoГ/sН’ў   иr аr Шr Рr ИrлrЭбБЙ!vwеНХ|СЙ!ЂwеНХ|СЙ!ЉwеНХ|СЙ!‘wеНХ|СЙ!wеНХ|СЙЕ! 9N#F*~л*|zј {Ѕ0ХЕе! еНtббБ(СБЙцяСЯ!  ЇБЙЕ! 9~х##N#F#^#V#~#fo|є }»0'ХЕ е ХНtСбБ	 С(сѕ(х#ШтяґБЙс!  ЇБЙЕ! 9^#V*Њ·(Bѕ ]#хЙЕ! 9^#V#~#fo ·(>ѕ B#фЙЕ! 9F##^#V#~#fo ·(ѕ ##ф~ю_(ю08ю:8ц юa8ю{8i& цБЙ!  ЇБЙ! 9~ю08ю:0ґЙ! 9~ю_(ц юa8ю{8ЇgoЙґЙ*Њ^ХНVtСИ*Њ#"ЊрЙ;Compiled by Q/C  .Z80 _main LD	SP, LD	SP,(6) _rshell _shell _rshell _shell     END EXTRN	?gcf,?gc,?sxt,?gcs,?g,?gf,?gs,?p,?o,?x,?a,?e,?ne EXTRN	?gt,?lt,?le,?ge,?ugt,?ult,?ule,?uge,?asr,?asr1 EXTRN	?asl,?asl1,?lsr,?lsr1,?s,?neg,?com,?n,?mult,?div EXTRN	?udiv,?sw,?enr,?en,?ensr,?ens,?exr,?exrs,?exs END _main LD	(HL), LD	(HL), LD	 LD	 LD	A, sxt LD	L, LD	H, 	LD	L,C
	LD	H,B
 ADD	HL,BC LD	A,( sxt LD	HL,( LD	A,L LD	(DE),A p LD	 ,L LD	 ,H
 LD	A,L LD	( ),A LD	( ),HL ; (IX+ ) LD	HL,( )
 LD	( )
 r?n EX	DE,HL LD	HL, LD	DE, LD	HL,1 Ёv«v®v±vHL DE BC IX PUSH	BC PUSH ЙvМvПvТvHL DE BC IX POP EX	(SP),HL ?      CALL CALL	 $+5 JP	(HL) 	JP	 JP	 	JP	Z, 	JP	NZ, OR	H LD	A,H OR	L JP	Z, JP	NZ, PUBLIC	 DSEG CSEG EXTRN	 DEFB	 DEFS	 DEFW	 ADD	HL,SP LD	SP,HL ADD	HL,HL ADD	HL,DE INC	HL DEC	HL RET *щ  Н ЎКяw*щ+"щ)л!лНnЎ"з!ђе*щ Нўл!ґеНaћСС*щ)л!ыНnЎ"ч*\|µКьw!e‡е!ђе! еНJ~СССГ‰x*с+"с#|µКѓx*џ##"џ++НnЎе!ђе!u‡еНyССС!ђе!w‡еНёЊСС"зНюЎКFx!ђеНТ‹С*зе*ЎеН`“СС*зе*уеНА“СС!  "ч*\|µКЂx!y‡е!ђе! еНJ~СССГ‰x! "3Й*йл*ь›Н’ЎВТx!Је!‰‡еНёЊСС"йНюЎКµx!ЈеНТ‹С*йе*ІеН`“СС*йе*уеНА“ССНvgЙНh*йл*ь›Н™ЎКпx*йеНЋС#НюЎКхxНцxЙ!‹‡еНkЊС! еНЊСЙНЦўЭnЭf	"ЃЈ!  "ЈЭn
ЭfН`Ў|µК:y*Ј#"Ј НЁЎК:y! Кby*ЃЈ#"ЃЈ+е!
 	еНnЎ#СНwЎ+Н`ЎеН-џСС}Гy*ЃЈ6 ЭnЭf	е!. еНЗ ССНюЎКЉy*Ј#"Ј НџЎКеy*ЃЈ#"ЃЈ+6.ЭnЭfН`Ў|µКёy*Ј#"Ј НЁЎКёy! Каy*ЃЈ#"ЃЈ+е! 	еНnЎ#СНwЎ+Н`ЎеН-џСС}Г—y*ЃЈ6 Н5ЈНЦў!" еНЂСКяy!" "ѓЈГz!< еНЂСКz!> "ѓЈГz!  "ѓЈ*ѓЈ|µКGz*Ње*ѓЈеНЗ СС"ЈНюЎКBz*ѓЈеНќСГGz*Ј6 *щ Н’ЎК^z!Ј‡еНу|СГM{*щ)л!ле*зСНwЎ*щ Нўл!ґе!ђеНaћСС*щ)л!ые*чСНwЎ*Ње!ђе!ѕ‡еНyССС*щ)л!бНnЎ"ЃЈНюЎКШz*щ)л!бе*хеН@›ССНwЎ"ЃЈ!ђе!А‡еНёЊСС"зНюЎВфz*ЃЈНюЎК{!В‡е! еНJ~СС!ђеНТ‹С*зе*ЃЈеН`“СС*зе*хеНА“СС!  "ч*щ#"щ*\|µКM{!Ф‡е!ђе! еНJ~СССН5ЈНЦўН№}*3|µВ|НjЃ*ч#"ч*зеНЬЋС"ЈяяН™ЎК­{*Ј
 Н’ЎВ{*Њл*ЉНлЎ Н§ЎВ­{*Њ#"Њ+е*ЈС}Гh{*Њ6 *Њл*ЉН™ЎКш{*|µКТ{*)|µКТ{! Кп{! "9НКh*ЉеН~|СНк|!  "9*Љ"ЊГ|*Ј#НюЎК|*зеНЋСНњwГV{Н5ЈНЦўЭnЭf"Ј!  "1"*|µК<|*9НюЎК<|! КB|НЛe*#|µВR|*9|µКU|! К{|*Ј
 Н™Ў"+*Је*йеН ‘СС#НюЎК{|НцxН5ЈНЗўН№}ЭnЭfН`Ў|µК«|! 	еНnЎ#СНwЎ+Н`ЎеН|СГ„|ЭбБЙ*+|µКє|Нк|ЙНЗў!	 еН|СЭnЭfеН~|СЭбБЙНЗўЭnЭfеН»|СНк|ЭбБЙ!
 еН|СЙНЗўН?}!д‡еЭnЭfе! еНJ~СССНт}ЭбБЙНЗўН?}!и‡еЭnЭf	еЭnЭfе! еНJ~ССССНт}ЭбБЙ*  Н ЎКY}*л*XН)ўлНюЎК{}!р‡е! еНJ~ССН№}#НюЎВi}!
 еНЎЊС*#"*щ|µКЎ}!€е!ґе*ые! еНJ~СССС!/€е!ђе*че! еНJ~ССССЙН!ЈюяН·›Эu Эt Н’ЎКи}!;€еН~|С!;€еНkЊС! еНЊСНlЎ|µНrЈ НЦў!P€е*Ље! еНJ~ССС*Љ"Ј*Јл*ЊН°ЎК?~*Ј#"Ј+Н`Ў	 Н’ЎК4~!	 Г7~!  еНЎЊСГ~!T€еНkЊСН5ЈНщўщяЭnЭf)л! 	"ѓЈНnЎ"Ј*Ј#"Ј+Н`Ў"ЃЈ|µК*ЃЈ% Н™ЎКЏ~*ЃЈеНЎЊСГe~*Ј#"Ј+Н`Ў"ЃЈГъ~*ѓЈ++"ѓЈНnЎеНЎЊСГe~*ѓЈ++"ѓЈНnЎе*ъ›еНЄЋССГe~*ѓЈ++"ѓЈНnЎеЕ!цяеНfњСССе*ъ›еНЄЋССГe~*ЃЈеНЎЊСГe~Н’ў d Л~s і~c  ~п~Гe~НPЈ !V€еНу|СЙ!o€еНу|СЙ!…€еНу|СЙ!’€еНу|СНПЂЙНЗў!¦€еЭnЭfеН}ССЭбБЙНЗў!¶€еЭnЭfеН}ССЭбБЙНЗўЭ~НaЎеНЂСНюЎК™Н?}!Ж€еЭ~НaЎе! еНJ~СССНт}ЭбБЙНЗў!т€еЭnЭfеН}ССЭбБЙНЗў!‰еЭnЭfеН}ССЭбБЙ!‰еНу|СЙ!5‰еНу|СЙ!]‰еНу|СЙНЦўНЌЂ*ЊеЭnЭfеНшsСС"Ј|µКЂ*Ње*ЈС"Њ! ГЂ!  |µН5ЈНЗўНЌЂ*ЊНfЎЭnЭfН’ЎКCЂ*Њ#"Њ! ГFЂ!  |µЭбБЙНЗўНЌЂ*ЊНfЎЭnЭfН’Ў|µЭбБЙНЗўНЌЂЭnЭfеНбsСК„ЂН~t! Г‡Ђ!  |µЭбБЙНЦўНЃ"ЈНюЎКµЂ*5|µВМЂНP{*3|µВМЂН™ЃГђЂ*ЈеН8 СКЖЂН&ЃГЙЂГМЂГђЂН5ЈНЃеНVtСНюЎКйЂН&ЃНкЂВйЂГПЂЙНЌЂНЃ; Н’ЎВяЂНЃНюЎ|µЙ*ЊН`Ў|µЙ*ЊН`Ў|µК Ѓ*Њ#Н`ЎГ#Ѓ!  |µЙ*ЊН`Ў|µК?Ѓ*Њ#"Њ+Н`ЎГBЃ!  |µЙНЗў*Њл*ЉНЇЎКfЃ*Њ+"ЊеЭnЭfС}ЭбБЙ*Љ"Њ6 ЙНЃНюЎК“Ѓ*3|µКЉЃ!  Г–ЃНP{Н™ЃГsЃН&Ѓ|µЙН!Јоя!# еНЂСНюЎКИЃ*+НюЎКВЃ*Љ"ЊНЅ„ГЕЃНjЃГ±ѓ! "5!y‰еНgЂСКдЃНѓDеН¶ѓСГЁѓ!‰еНgЂСКэЃНѓDНюЎеН¶ѓСГЁѓ!†‰еНgЂСК6‚НЅ„! 	еНўDС Н™ЎК(‚НЭЭ6 Э6 ЭnЭfеН¶ѓСГЁѓ!‰‰еНgЂСКњ‚*НюЎКP‚НГ™‚* Н ЎВ™‚*|µКo‚!Ћ‰еНу|СГ™‚! "*  Н™ЎК™‚* Н’ЎК“‚! Г–‚! "ГЁѓ!Ґ‰еНgЂСКз‚*НюЎК¶‚НГд‚*+" НџЎКд‚*)л!НnЎ"*)л!	НnЎ"ГЁѓ* Н™ЎВЁѓ!«‰еНgЂСКѓ! 	еНВ@СКѓНЅ„! 	еНICСГѓНjЃГЁѓ!І‰еНgЂСК0ѓН[DГЁѓ!ё‰еНgЂСКAѓНиyГЁѓ!А‰еНgЂСКXѓ!  "5Н-„Г±ѓ!Д‰еНgЂСК ѓНЅ„ЕНuFСНюЎК|ѓ!Й‰еНу|СГќѓНlЎ"чНкЂНюЎКќѓ*Ње!ђе!ж‰еНyСССГЁѓ!и‰еНу|С!  "5НjЃНrЈ НЗў* Н§ЎКРѓ!ЉеНу|СГ"„*)л!е*СНwЎ*)л!	е*СНwЎ*+НюЎК„ЭnЭf|µК„! Г„! "Г„!  "!  "*#"ЭбБЙНЦў!  ")НЇ|НP{НЃ; Н’ЎВ9„*Ље!ЉеНшsССВ`„*3|µКc„! В±„НЃ# Н’ЎКЂ„!$ЉеНжСКЂ„! К‰„НиyГ9„Н&Ѓ"Ј|µК«„*Ј; Н’ЎВ«„*ЈеН|СГ‰„Нк|Г9„НjЃ! ")Н5ЈНщўчя*Ћ"c‡*Њ"ЃЈ*Љ"Ј*Јл*ЊН°ЎВо„Гь„*Ј#"ЈГФ„*ЈН`ЎеН‡СГд„НЃ"ѓЈ|µКЮ†*ѓЈ  Н’ЎВ…*ѓЈ	 Н’ЎКH…!  еН‡СНЃ  Н’ЎВ<…НЃ	 Н’ЎКE…Н&ЃГ'…ГЫ†ЕНAСК–…Н~tЕН`sС"Ј|µКp…*Ј НnЎ"ЈГu…i`"Ј*ЈН`Ў|µК“…*Ј#"Ј+Н`ЎеН‡СГu…ГЫ†*ѓЈ/ Н’ЎКЇ…*Њ#Н`Ў* Н’ЎК†Н&ЃН&Ѓ*ЊНfЎ!* Н™ЎВФ…*Њ#НfЎ!/ Н™ЎКщ…Н&ЃНюЎКг…НP{*3|µКц…!-ЉеНу|СГщ…Гё…Н&ЃН&ЃГЫ†*ѓЈ" Н’ЎКr†Н&ЃеН‡СНЃ" Н™ЎКd†НЃНюЎК6†!>ЉеНу|СГd†НЃ\ Н’ЎКY†НЃКS†Н&ЃеН‡СГY†НP{Г†Н&ЃеН‡СГ†Н&Ѓ!" еН‡СГЫ†*ѓЈ' Н’ЎКУ†Н&ЃеН‡СНЃ' Н™ЎКЕ†НЃНюЎК¦†!LЉеНу|СГЕ†НЃ\ Н’ЎКє†Н&ЃеН‡СН&ЃеН‡СГ††Н&Ѓ!' еН‡СГЫ†Н&ЃеН‡СГь„*c‡6 *c‡л*ЋНлЎ Н§ЎКю†!_ЉеНу|С*Ље*ЋеНaћСС*ЃЈ"ЊНPЈ	 НЗў*c‡л*ЋНлЎ НџЎК>‡*c‡#"c‡+еЭ~НaЎС}ЭбБЙН!ЈщяЭnЭfеЕ!цяеНfњСССеН~|СНrЈ   *** resume  %s
 C r *** read    %s
 w Can't close output file #include nested too deeply C r #include file --  *** include %s
 %s
 %s: %s
 Press any key to continue or ^C to abort: <%s> @ %d: #include  <%s> @ %d:  
Compilation aborted %s
 ^ Must match a #if command Invalid storage class Invalid type Illegal symbol name Not implemented Already defined Missing punctuation -- assumed present: %c
 Missing delimiter Ilegal use of a keyword Need explicit array size Initializer must be constant expression Must be constant expression ifdef ifndef if else Only one #else allowed endif define undef include asm line #line number must be decimal C Unknown #preprocessor command #if nested too deeply #endasm #include Unclosed comment Missing quote Missing apostrophe Line too long Н!ЈЂя*®‹#"®‹+Н`Ў"Є‹i`"°‹6 *~‹#"~‹+)л!Ђ‹е*°‹СНwЎ*Є‹+"Є‹#|µК`‹*®‹#"®‹+Н`Ў"¬‹*Ё‹Г@‹*¬‹еН8 СВќЉ*~‹ Н’ЎКеЉ!	 е!ґ‹еН°ўССНЉ*¬‹"Ё‹*~‹#"~‹+)л!Ђ‹е*°‹#СНwЎ*¬‹" Н™ЎВO‹ГќЉ*¬‹" Н’ЎК&‹!  "Ё‹"¬‹ГO‹*¬‹еН8 СК=‹!  "Ё‹"¬‹ГO‹Н’ў " ‹  ѕЉ)‹*°‹#"°‹е*¬‹С}ГќЉ*°‹#"°‹6 *~‹е!Ђ‹еНmССНЉНrЈЂ                                                 Ђ     Too many command line args
$ НЗў!ю‹е*ь›еНЄЋССЭnЭfе*ь›еНЄЋСС! еНЊСЭбБЙCan't open:  НЦў!ю›"Ј!  "ЃЈ*ЃЈ
 НџЎВ=ЊГHЊ*Ј
 "Ј*ЃЈ#"ЃЈГЊ*ЈеНЋСГ)ЊЭnЭf|µК[Њ!aЊеНЊ—СНЉН5ЈA:$$$.SUB НЗўЭnЭfН`Ў|µК•Њ! 	еНnЎ#СНwЎ+Н`ЎеНЎЊСГnЊ!
 еНЎЊСЭбБЙНЗўЭnЭfе*ъ›еН ‘ССЭбБЙНЦў!ю›"Ј!  "ЃЈ*ЃЈ
 НџЎВкЊГяЊ*Ј
 "Ј*ЃЈ#"ЃЈГЗЊ*ЈНfЎ! Н‹ЎНюЎВяЊГЦЊ*ЃЈ
 Н§ЎКЌ!  ГЋЭnЭfН`ЎеН-џСГ„Ќ! "…ЈЭnЭf	е!  еН"”СС"ѓЈГ“Ќ! "…ЈЭnЭf	еН	›Се!ЋеНКћССНюЎКhЌ! "ѓЈГ{ЌЭnЭf	е!¤еНЁ”СС"ѓЈГ“Ќ!  ГЋН’ў W >ЌR "Ќ~Ќ*ѓЈ#НюЎКЈЌ!  ГЋЭnЭf#Н`ЎеН-џСB Н’ЎКЗЌ*…Ј Н}Ў"…Ј*Ј#е*Ј НnЎСНwЎ*ЈеН`Ўл*…ЈН}ЎС}*Ј###6 #6 *Ј 6 #6*Ј	 е*ѓЈС}*Ј|µН5ЈLST: НЦўЭnЭf"Ј	 Н`Ў Н’ЎКOЋ*ЈеН`Ў Н‹ЎС}!  ГҐЋ*ЈНfЎ! Н‹ЎµК†Ћ*ЈНfЎ! Н‹ЎНюЎК~Ћ! е*ЈеН ‘СС*ЈеН—’С*ЈеН`Ў Н‹ЎС}*Ј	 Н`ЎеН—С|µН5ЈНЦў! 	еНnЎ#СНwЎ+Н`Ў"Ј|µКЩЋ*ЈеЭnЭfеН ‘ССГ­ЋН5ЈНЦўЭnЭf"Ј+НюЎКHЏ*bњ"ЃЈяяН™ЎКЏ!яя"bњГ0Џ! е!  еН°ўСС"ЃЈ Н’ЎК0Џ! е!
 "ЃЈеН°ўСС*ЃЈ Н’ЎКBЏ!яяГEЏ*ЃЈГђ*ЈНfЎ! Н‹ЎНюЎВjЏ*ЈНfЎ!` Н‹ЎµКmЏ! КvЏ!яяГђ*Ј###еНnЎ+СНwЎ  Н§ЎКЁЏ*Ј#еНnЎ#СНwЎ+НfЎ!я Н‹ЎГ°Џ*ЈеНђС"ЃЈ*ЈНfЎ! Н‹ЎµКЙЏ*ЃЈГђ*ЃЈ Н’ЎКаЏ*ЈеНЬЋС"ЃЈ*ЃЈ Н’ЎВуЏ*ЃЈ#НюЎКђ*ЈеН`Ў  Н}ЎС}!яяГђ*ЃЈ Н‹Ў|µН5ЈНЦўЭnЭf"ЈНfЎ! Н‹ЎНюЎКuђ*Ј е! еН@›ССНwЎНюЎКeђ*ЈеН`Ў@ Н}ЎС}!яяГ‘*ЈеН`Ў Н}ЎС}*Ј	 Н`Ўе*Ј НnЎе*Ј НnЎеН•ССС"ЃЈ  НЁЎКеђ*ЃЈНюЎКДђ*ЈеН`Ў  Н}ЎС}ГФђ*ЈеН`Ў@ Н}ЎС}*Ј###6 #6 !яяГ‘*Ј###е*ЃЈ+СНwЎ*Ј#е*Ј НnЎ#СНwЎ*Ј НnЎНfЎ!я Н‹Ў|µН5ЈНЦўЭnЭf"ЃЈЭnЭf	"Ј*ЃЈ Н’ЎКm‘*Ј
 Н’ЎКZ‘! е*ЃЈеН ‘СС! е*ЈеН°ўСС*ЈГ’’*ЃЈНfЎ! Н‹ЎНюЎК…‘!яяГ’’*Ј
 Н’ЎК ‘*ЃЈНfЎ! Н‹ЎНюЎКЅ‘! е*ЃЈеН ‘СС#НюЎКЅ‘!яяГ’’*ЃЈ	 Н`Ў Н’ЎКг‘! е*ЈеН°ўСС*ЈГ’’*ЃЈНfЎ! Н‹ЎНюЎК>’*ЃЈ#е*ЃЈ е! еН@›ССНwЎСНwЎНюЎК.’*ЃЈеН`Ў@ Н}ЎС}!яяГ’’*ЃЈеН`Ў Н}ЎС}*ЃЈ###е*ЃЈ НsЎбНnЎН§ЎКn’*ЃЈеН—’С#НюЎКn’!яяГ’’*ЃЈ###еНnЎ#СНwЎ*ЃЈ#еНnЎ#СНwЎ+е*ЈС}|µН5ЈНЦўЭnЭf"Ј	 Н`Ў Н’ЎК№’!  Г[“*ЈНfЎ! Н‹ЎНюЎВЫ’*ЈНfЎ!@ Н‹ЎµКЮ’! Кз’!яяГ[“*Ј###НnЎ Ђ лН)ўЂ Нў"ЃЈ*Ј###6 #6 *Ј	 Н`Ўе*Ј#е*Ј НnЎСНwЎе*ЃЈеН –СССл*ЃЈН ЎКX“*ЈеН`Ў@ Н}ЎС}!яяГ[“!  |µН5ЈНЗўЭnЭf	НfЎ! Н‹ЎµВ‚“ЭnЭfНюЎК…“! Вј“ЭnЭf	#еЭnЭf	 еЭnЭfСНwЎСНwЎЭnЭf	еН`Ў Н}ЎС}ЭбБЙНЗўЭnЭf	НfЎ! Н‹ЎµВ”! 	еНnЎЂ лН)ўСНwЎµК”ЭnЭf	 еЭnЭfЂ НўСНwЎГ”ЭnЭf	еН`ЎпяН‹ЎС}ЭбБЙНЦўЭnЭf"Ј  НџЎВL”*Ј Н ЎВL”НР—"ѓЈНюЎКU”!яяГЈ”*ѓЈеНС"ЃЈЭnЭf	е*ЃЈ#еНСС#НюЎВЊ”! е*ЃЈ#еН°ўССя Н’ЎК•”!яяГЈ”*ЃЈе*Ј#С}*ѓЈ|µН5ЈНЦўНР—"ЃЈНюЎКЅ”!яяГ•*ЃЈеНС"ЈЭnЭf	е*Ј#еНСС#НюЎКж”!яяГ•! е*Ј#еН°ўСС! е*Ј#еН°ўССя Н’ЎК•!яяГ•*Ј6*ЃЈ|µН5ЈНЦўЭnЭf"ЈН·› Н’ЎК9•НЉЭn
ЭfеНС"ѓЈНюЎВo•*ѓЈНfЎ! Н‹ЎНюЎВo•*ЈЂ лН)ўл|µКr•! К{•!яяГ–*ѓЈНfЎ!  Н‹ЎµК‘•!  Г–*ЈЂ лН)ў"Ј!  "ЃЈ*ЃЈл*ЈН ЎВѕ•Г–*ЃЈ#"ЃЈГ¤•! еЭnЭf	еН°ўСС! е*ѓЈ#еН°ўССКт•*ѓЈеН`Ў  Н}ЎС}Г–! 	еНnЎЂ СНwЎГґ•! е!Ђ еН°ўСС*ЃЈЂ Нў|µН5ЈНЦўЭnЭf"ЈН·› Н’ЎК;–НЉЭn
ЭfеНС"ѓЈНюЎВЃ–*ѓЈНfЎ! Н‹ЎНюЎВЃ–*ЈЂ лН)ўл|µВЃ–*ѓЈНfЎ!@ Н‹ЎµК„–! КЌ–!яяГ—*ЈЂ лН)ў"Ј!  "ЃЈ*ЃЈл*ЈН ЎВє–Г—*ЃЈ#"ЃЈГ –! еЭnЭf	еН°ўСС! е*ѓЈ#еН°ўССКо–*ѓЈеН`Ў@ Н}ЎС}Г—! 	еНnЎЂ СНwЎГ°–! е!Ђ еН°ўСС*ЃЈЂ Нў|µН5ЈНЦўЭnЭfеНС"ЈНюЎК9—!яяГ‡—*ЈН`Ў"ЃЈ*Ј6 *ЃЈ@ Н‹ЎµКZ—!яяГ‡—*ЃЈ Н‹ЎµК„—! е*Ј#еН°ўССя Н’ЎК„—!яяГ‡—!  |µН5ЈН!ЈЬяЭn*Эf+еЕНССяяН™ЎКЖ—! еЕН°ўССя Н’ЎКА—!яяГГ—!  ГЙ—!яя|µНrЈ$ Нщўюя! "Ј*ЈеНСЭu Эt  Н™ЎКНlЎН`ЎНюЎК*ЈГ*Ј#"ЈГЫ—!яя|µНPЈ НЦўЭnЭf"Јъя"Ј  Н§ЎК=*Ј
 НџЎК‚*Ј)л!д›НnЎ"ЃЈНюЎК|*Ј)л!д›е!% еН@›ССНwЎ"ЃЈ  Н™ЎК|*ЃЈ6 *ЃЈГ…!  |µН5Ј!  е!  еН°ўССЙНЦўЭnЭf"ЃЈЭnЭf	"ЈеН	›С"Ј#НfЎ!: Н™ЎКП*ЃЈ#"ЃЈ+6 Г™*ЈН`ЎеН¤џСНюЎКж!яяГ›*ЃЈ#"ЃЈ+е*ЈН`ЎАяС}*Ј##"Ј!  "‡Ј! "ѓЈ*ѓЈ НЁЎВ)™ГЃ™*ѓЈ#"ѓЈГ™*Ј#"Ј+Н`Ў"…ЈНюЎВF™*…Ј. Н’ЎВЃ™*…ЈеНyџСКZ™!яяГ›*…Ј* Н’ЎКo™!? "‡ЈГЃ™*ЃЈ#"ЃЈ+е*…ЈС}Г™*ѓЈ НЁЎВљ™Г¬™*ѓЈ#"ѓЈГЃ™*ЃЈ#"ЃЈ+е*‡ЈС}Гђ™*…Ј  Н™ЎКБ™*…Ј. Н™ЎКн™*Ј#"Ј+Н`Ў"…Ј  Н™ЎКд™*…Ј. Н™ЎКн™!яяГ›*…Ј|µКљ*Ј#"Ј+Н`Ў"…Ј!  "‡Ј*ѓЈ НЁЎВ"љГqљ*ѓЈ#"ѓЈГ	љ*…ЈНюЎВqљ*…ЈеНyџСК<љ!яяГ›*…Ј* Н’ЎКQљ!? "‡ЈГqљ*ЃЈ#"ЃЈ+е*…ЈС}*Ј#"Ј+Н`Ў"…ЈГљ*…Ј  Н™ЎК†љ*ѓЈ Н’ЎВ’љ*…Ј* Н’ЎКћљ*ЈН`Ў"…Ј*…Ј  Н™ЎК°љ!яяГ›*ѓЈ НЁЎВЙљГЫљ*ѓЈ#"ѓЈГ°љ*ЃЈ#"ЃЈ+е*‡ЈС}Гїљ*ѓЈ$ НџЎВфљГ›*ѓЈ#"ѓЈГЫљ*ЃЈ#"ЃЈ+6 Гкљ!  |µН5ЈНЦўЭnЭf"Ј*Је*ЈН`ЎеН-џСС}ґК5›*Ј#"ЈГ›ЭnЭf|µН5ЈНЦўЭnЭf"ЈН{›л*ЈН°ЎК_›!  Гv›*‰Је*ЈС"‰Ј*Јл*‰ЈлНлЎ|µН5ЈН!Јяяi`л*‰ЈНлЎл*dњНлЎµНrЈ Н!Јюя*dњЭu ЭtЭnЭf	"dњНlЎ|µНrЈ ! е!  еН°ўСС Н‹ЎµКЮ›! е!  еН°ўССГб›!яя|µЙ                                                                                                                           яяиНЦўЭn
Эf  НџЎК„њЭnЭfцяН’ЎКњњ! "…ЈЭn
ЭfНтЎ"ЈГ«њ!  "…ЈЭn
Эf"ЈЭnЭfцяН’ЎКВњЭ6
Э6 ЭnЭf	"ѓЈ"ЃЈ*ЃЈе*ЈлЭnЭfНZўл0 С}9 Н ЎКюњ*ЃЈеН`Ў С}*ЃЈ#"ЃЈ*ЈлЭnЭfНZў"Ј  Н°ЎВОњ*…Ј|µК0ќ*ЃЈ#"ЃЈ+6-*ЃЈ6 *ЃЈ+"ЃЈл*ѓЈНЇЎКnќ*ѓЈН`Ў"‡Ј*ѓЈ#"ѓЈ+е*ЃЈН`ЎС}*ЃЈе*‡ЈС}Г5ќЭnЭf	|µН5ЈНЦўЭnЭf"Ј*ЈН`ЎеН8 СКќќ*Ј#"ЈГ…ќ! "ѓЈ*ЈН`Ў- Н’ЎВѕќ*ЈН`Ў+ Н’ЎКбќ*Ј#"Ј+Н`Ў+ Н’ЎКЫќ! ГЮќ!яя"ѓЈ!  "ЃЈ*ЈН`ЎеН СКћ*ЃЈ
 Нўе*Ј#"Ј+Н`ЎСРя"ЃЈГзќ*ѓЈл*ЃЈНў|µН5ЈНЦўЭnЭf	"Ј*ЈН`Ў|µКFћ*Ј#"ЈГ1ћ*ЈеЭnЭfеНaћССЭnЭf	|µН5ЈНЦўЭnЭf	"Ј*Ј#"Ј+е! 	еНnЎ#СНwЎ+Н`ЎС}ґВmћЭnЭf	|µН5ЈНЦў!  "Ј! 	еНnЎ#СНwЎ+Н`Ў|µКВћ*Ј#"ЈГўћ*Ј|µН5ЈНЦўЭnЭf"ЃЈЭnЭf	"Ј*Је*ЃЈНfЎбН`ЎН’ЎКџ*ЈН`ЎНюЎКџ!  Г(џ*Ј#"Ј*ЃЈ#"ЃЈГЯћ*Је*ЃЈНfЎбН`ЎлНлЎ|µН5ЈНЦўЭnЭf"ЈеНрџСКKџ*ЈаяГNџ*Ј|µН5ЈНЦўЭnЭf"ЈеНМџСКqџ*Ј  Гtџ*Ј|µН5ЈНЗўЭnЭfеН СКћџЭnЭfеНЈ СНюЎКћџ! |µЭбБЙНЗўЭnЭfеНМџСВГџЭnЭfеНрџСКЖџ! |µЭбБЙНЗўЭnЭfA Н§ЎКкџЭnЭfZ НЁЎ|µЭбБЙНЗўЭnЭfa Н§ЎК ЭnЭfz НЁЎ|µЭбБЙНЗўЭnЭf0 Н§ЎК2 ЭnЭf9 НЁЎ|µЭбБЙНЦўЭnЭf"Ј  Н’ЎВz *Ј	 Н’ЎВz *Ј
 Н’ЎВz *Ј Н’ЎВz *Ј Н’Ў|µН5ЈНЗўЭnЭf  Н§ЎКќ ЭnЭf НЁЎ|µЭбБЙНЗўЭnЭf  Н§ЎКБ ЭnЭf~ НЁЎ|µЭбБЙНЦўЭnЭf	"Ј*ЈН`Ў|µК Ў*ЈНfЎЭnЭfН’ЎКц *ЈГЎ*Ј#"ЈГУ !  |µН5ЈНЗўЭnЭf	лЭnЭfН ЎК'ЎЭnЭf	Г-ЎЭnЭf|µЭбБЙНЗўЭnЭf	лЭnЭfНџЎКRЎЭnЭf	ГXЎЭnЭf|µЭбБЙi`~oџgЙ~_џWЙi`~#foЙ^#VЙ}|Й}іo|ІgЙ}«o|ЄgЙ}Јo|ўgЙНЙЎ (µЙНЙЎА-ЙлНБЎ0µЙлНБЎ8µЙлНЙЎ0
µЙлНЙЎ8µЙ-ЙzоЂW|оЂgzј {Ѕ! ЙлшЛ,Лшлш)ылшЛ<Лш{•ozњgЙНчЎ#Й|/g}/oЙ|µ(ЇgoЙ,ЙЕDM!  y0ЇxGyO°(
Ї{_zWі зБЙ|µ ]TЙЕ|Єх|·т<ўНтЎz·хтGўлНтЎлНaўстSўлНтЎлсБрНтЎЙ|µ ]TЙЕDM>хл  ){_zWі(zё8 {№8
}цo{‘_zWс=(хЫБЙлбЕN#ъ©ў#~»# ~є(##о#~#foБйЕЭе! 9^#V#NН o` ЭбБґЙСЕЭе!  9DMЕЭблйСЕЭе!  9DMЕЭб*Је*ЃЈе*ѓЈе*…Је*‡ЈелйбЕЭе~#T]fo9щDMЕЭб*Је*ЃЈе*ѓЈе*…Је*‡ЈелйбЕЭе~#T]fo9щDMЕЭблйлбб"‡Јб"…Јб"ѓЈб"ЃЈб"ЈлЭбБЙлБб"‡Јб"…Јб"ѓЈб"ЃЈб"Ј
o
g9щлЭбБЙлб~#fo9щлЭбБЙ          ‹Ј!& }2Аў!a¦е!4е!Bе!е! еНJ~л!
 9щл!ЬеН–›С*N"e! }2g! }2u!lе!i¦еНaћССН/B"vЙНЦўЭnЭf	 НџЎКхЈНP¦ЭnЭf##"џ! 	еНnЎ+СНwЎµК8¤! 	еНnЎ##СНwЎНnЎН`Ў- Н’ЎВ8¤*с#"сГ ¤*сНюЎКD¤НP¦*џНnЎе!ђе!t¦еНyССС! 	еНnЎ+СНwЎ#|µК¦! 	еНnЎ##СНwЎ++НnЎ"ЈН`Ў- Н’ЎКIҐ*Ј#"ЈН`Ў|µКFҐ*ЈН`ЎеНSџСГҐ! "ГЋ¤*ь›"йГЋ¤*ZНюЎ"ZГЋ¤! "ГЋ¤! "r¦ГЋ¤*^НюЎ"^ГЋ¤! "%*Ј#"ЊНіE"'ГCҐ! "!ГЋ¤*\НюЎ"\ГЋ¤НP¦ГCҐН’ў	 v Ґt э¤s з¤r Ы¤o Т¤l Й¤i Ѕ¤d ґ¤c «¤ҐГFҐГюҐ*r¦+НюЎКыҐ*Ј#Н`Ў: Н’ЎКnҐ*Ј##Н`ЎНюЎКАҐ!Је*ЈеНaћСС!Је:‘НaЎ: Н’ЎК—Ґ!’ГљҐ!ђеН%ћСС!Је!. еНЗ СС#6 !Је!bеН%ћССГТҐ*Је!Је!bеНyССС!ђе!ЈеНшsССКтҐ!v¦еНkЊС! еНЊС! "r¦ГюҐНP¦ГY¤*r¦НюЎК¦*йНюЎК@¦!Је!ђеНaћСС!Је!. еНЗ СС#6 !Је!bеН%ћССГM¦*r¦+НюЎКM¦НP¦Н5Ј!•¦еНkЊС! еНЊСЙ%s%s%s
 $LITPOOL   C Output file name same as input Usage:cc infile ... -cdilortv -sxxxx outfile                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               /************************************************/ /*						*/ /*	   Q/C V3.1 Disk I/O Library		*/ Copyright (c) 1983 Quality Computer Systems	*/ /*						*/ /*		   07/21/83			*/ /************************************************/  #include "qstdio.h"  Library parameters  #define MAXARG	20	max no. of command line arguments #define MAXLINE 81	maximum size of console input line #define NFILES	10	max no. of files that can be open #define NSECTS	4	no. of CP/M records to buffer #define SECSIZE 128	size of CP/M record #define BUFSIZE (NSECTS * SECSIZE) buffer size for buffered I/O  Miscellaneous CP/M constants  #define CPMFCBSIZE 36 #define DBUFF	0x80 #define CPMERR	0xFF #define CPMEOF	0x1A #define CTLC	0x3	^C  CP/M function numbers  #define CONIN	1 #define CONOUT	2 #define LSTOUT	5 #define PRINTS	9 #define CONBUF	10 #define OPENF	15 #define CLOSEF	16 #define DELETEF 19 #define READF	20 #define WRITEF	21 #define MAKEF	22 #define SETDMA	26  I/O control blocks (iob's) for buffered files  * _iob {  *	char	_flag;		status flag  *	char	*_pch;		ptr to curr in buffer  *	int	_cnt;		no. of chars remaining in buffer  *	char	*_buf;		address of buffer  *	int	_bufsize;	size of buffer  *	char	_fd;		file descriptor (fd) for low-level I/O  *	};   I/O flag masks  #define READ	01 #define WRITE	02 #define BINARY	04 #define BUF	010 #define USERBUF 020 #define FEOF	040 #define FERR	0100  File control block for low-level I/O  #define FCBSIZE (CPMFCBSIZE + 1) size of a Q/C file control block fcb {char	flag;char	cpmfcb[CPMFCBSIZE];} *_fcb[NFILES];	file control block pointers  FILE	*stdinCONIN, 	default to console*stdoutCONOUT,*stderrCONOUT,_iob[NFILES];		I/O blocks (iob) for buffered I/O int	_ungchEOF;		hold unget character for stdin extern *_free;		free space address unsigned _moat1000;		moat between free space and stack  Parse command line and set standard files (does redirection) _rshell(){static	argc,argv[MAXARG],argflag0,	not in an argumentcmdcnt,c;static char*cmdline0x80, CP/M command line at 80H*pargs,*ptr;args[128], infile[15], outfile[15];FILE *fopen(); cmdcnt*cmdline++;	first byte is lengthpargsargs;		point to args*pargs =		set commandnull stringinfile[0] =		no redirection of standard filesoutfile[0]'\0';argv[argc++]pargs;	record pointer to 1st argwhile (cmdcnt--) {c*cmdline++;switch (argflag) {case 0: 		not in an argisspace(c))continue; still not in an argargcMAXARG) {fputs("Too many command line args\n", stderr);exit(1);}argflagc;	set type of argc'<')	redirect stdinptrinfile; c'>') redirect stdoutptroutfile; {		just an argargv[argc++]pargs + 1;c != '"')	if not a string	break;	record */}continue;	skip this charactercase '<':		record redirectioncase '>':		file nameisspace(c))cargflag0; end of name*ptr++c;continue;case '"':		in a stringc'"')cargflag0; end of stringbreak;default:isspace(c))cargflag0; end of argbreak;}*++pargsc;}argflag'<' || argflag'>') end last arg*ptr'\0';		a redirected filename*++pargs'\0';	a normal arginfile[0] != '\0') {	check for redirection(stdinfopen(infile, "r"))NULL)cantopen(infile);}outfile[0] != '\0') {(stdoutfopen(outfile, "w"))NULL)cantopen(outfile);}main(argc, argv);exit(0);} Parse command line but don't do redirection _shell(){static	argc,argv[MAXARG],argflag0,	not in an argumentcmdcnt,c;static char*cmdline0x80, CP/M command line at 80H*pargs,*ptr;args[128]; cmdcnt*cmdline++;	first byte is lengthpargsargs;		point to args*pargs'\0';		set commandnull stringargv[argc++]pargs;	record pointer to 1st argwhile (cmdcnt--) {c*cmdline++;switch (argflag) {case 0: 		not in an argisspace(c))continue; still not in an argargcMAXARG) {bdos(PRINTS,"Too many command line args\r\n$");_exit();}argflagc;	set type of argargv[argc++]pargs + 1;c != '"')	if not a stringbreak;	record */continue;	skip this charactercase '"':		in a stringc'"')cargflag0; end of stringbreak;default:isspace(c))cargflag0; end of argbreak;}*++pargsc;}*++pargs'\0';		end last argmain(argc, argv);_exit();} cantopen(filename) *filename;{fputs("Can't open: ", stderr);fputs(filename, stderr);exit(1);} Cleanup routine - close files, etc. exit(error) int error;{FILE *fp;n; for (fp_iob, n0; n < NFILES; ++fp, ++n)fclose(fp);		close any output fileserror)unlink("A:$$$.SUB");	era submit file, if any_exit();			reboot CP/M} Immediate exit to CP/M with no cleanup _exit(){bdos(0, 0);} Get a string from stdin *gets(s) *s;{*fgets(), *index(), *p; fgets(s, MAXLINE, stdin)NULL)return NULL;pindex(s, '\n')) strip newline if present*p'\0';return s;} Put a string to stdout puts(s) *s;{while(*s)putchar(*s++);putchar('\n');		always append newline} Formatted print routine printf(nargs) int nargs;{int putc();		function _fmt will use as output_fmt(putc, stdout, &nargs + nargs);} Write formatted output to a file fprintf(nargs) int nargs;{int putc();		function _fmt will use as output*p; p&nargs + nargs;	address of first arg (file ptr)_fmt(putc, *p, p - 1);	_fmt does the formatting} Get character from standard input file getchar(){return getc(stdin);} Put character to standard output file putchar(c) int c;{return putc(c, stdout);} Open buffered file FILE *fopen(filename, mode) *filename, *mode;{FILE *fp;n, fd, rwmode;*_upper(); for (fp_iob, n0; n < NFILES; ++fp, ++n)!(fp->_flag & (READ | WRITE)))break;		found empty iobn >= NFILES)return NULL;		no empty iob'sswitch(chupper(*mode)) {case 'R':rwmodeREAD;fdopen(filename, 0);break;case 'W':rwmodeWRITE;strcmp(_upper(filename), "LST:")0)fdLSTOUT;fdcreat(filename, 0644); 0644UNIX modebreak;default:			bad modereturn NULL;}fdERROR)return NULL;chupper(*(mode + 1))'B') binary I/O?rwmode |= BINARY;fp->_pchfp->_buf;fp->_flag |= rwmode;fp->_cnt0;fp->_bufsizeBUFSIZE;fp->_fdfd;return fp;} Close buffered file fclose(fp) FILE *fp;{fp->_fdLSTOUT) {	close the printerfp->_flag &= BUF;	remember if buffer allocatedreturn 0;}fp->_flag & WRITE) {	if it's an output file...!(fp->_flag & BINARY)) not binary I/O?putc(CPMEOF, fp); write a ^Zfflush(fp);		write last buffer}fp->_flag &= BUF;		remember if buffer allocatedreturn close(fp->_fd);		free file descriptor} Get string from buffered file *fgets(s, maxsize, fp) *s; int maxsize; FILE *fp;{int c, size;*ps, *q; pss;fpCONIN) {		use CP/M func #10 for console*psmaxsize;		set buffer size for CP/Mbdos(CONBUF, ps);	get the line from consolebdos(CONOUT, '\n');	echo LF after CRqps + 2;		beginning of linesizeps[1];		find out how long line iswhile (size--)		move line to start of buffer*ps++*q++;*ps'\n';		append newline*(ps + 1)'\0';	terminate linereturn (*sCPMEOF) ? NULL: s;}while (--maxsize > 0 && (cgetc(fp)) != EOF)(*ps++c)'\n')break;*ps'\0';return ((cEOF && pss) ? NULL : s);} Put string to buffered file fputs(s, fp) *s; FILE *fp;{int c; while (c*s++)putc(c, fp);} Get character from buffered file getc(fp) FILE *fp;{int c; fpCONIN) {		input from console?(c_ungch) != EOF) unget ready?_ungchEOF;	use it and clear(cbdos(CONIN, 0))'\r') chg CRbdos(CONOUT, c'\n'); to newlinereturn (cCPMEOF) ? EOF: c;}!(fp->_flag & READ) 	open for READ?   || (fp->_flag & (FEOF|FERR))) EOF or error?return EOF;c(--fp->_cnt >= 0) ? (*fp->_pch++ & 0xFF) : _fill(fp);fp->_flag & BINARY) 	no tampering if binary I/Oreturn c;c'\r')			throw away CRcgetc(fp);cCPMEOF || cEOF) {fp->_flag |= FEOF;return EOF;}return (c & 0x7F);		make c positive} Internal routine to load the buffer for getc _fill(fp) FILE *fp;	 pointer to iob for file{cnt;*malloc(); !(fp->_flag & (BUF|USERBUF))) { buffer allocated?(fp->_buf=malloc(BUFSIZE))NULL) {fp->_flag |= FERR;return EOF;}fp->_flag |= BUF;}cntread(fp->_fd, fp->_buf, fp->_bufsize);cnt <= 0) { 		did we read anything?cnt0)		read 0 means EOFfp->_flag |= FEOF;			read -1 means errorfp->_flag |= FERR;fp->_cnt0;return EOF;}fp->_cntcnt - 1;		# chars remainingfp->_pchfp->_buf + 1;	point to 2nd in bufferreturn (*fp->_buf & 0xFF);	return 1st in buffer} Push character back onto buffered file ungetc(c, fp) int c; FILE *fp;{fpCONIN) {		stdin_ungch != EOF)return EOF;	only one pushbackreturn (_ungchc);}(fp->_flag & READ)		must be input   && fp->_pch > fp->_buf) {	with room to unget++fp->_cnt;return (*--fp->_pchc);}return EOF;} Put character to buffered file putc(c, fp) int c; FILE *fp;{*malloc(); fpCONOUT) {		to console?c'\n')putc('\r', fp); chg newline to CR/LFbdos(CONOUT, c);return c;}!(fp->_flag & WRITE))	open for output?return EOF;c'\n' && !(fp->_flag & BINARY)) normal I/O onlyputc('\r', fp)EOF)return EOF;fp->_fdLSTOUT) {	to printer?bdos(LSTOUT, c);return c;}!(fp->_flag & (BUF|USERBUF))) { buffer allocated?(fp->_pch=fp->_buf=malloc(BUFSIZE))NULL) {fp->_flag |= FERR;return EOF;}fp->_flag |= BUF;}fp->_cnt >= fp->_bufsize) { buffer full?fflush(fp)EOF)return EOF;}++fp->_cnt;return (*fp->_pch++c);} Write file buffer fflush(fp) FILE *fp;{nwrite; fp->_fdLSTOUT)		to printer?return 0;!(fp->_flag & WRITE) || fp->_flag & FERR)return EOF;nwrite((fp->_cnt + (SECSIZE-1)) / SECSIZE) * SECSIZE;fp->_cnt0;			buffer is emptywrite(fp->_fd, fp->_pch=fp->_buf, nwrite) < nwrite) {fp->_flag |= FERR;return EOF;}return 0;} User-provided file buffer setbuf(fp, buffer) FILE *fp; *buffer;{(fp->_flag & (BUF|USERBUF)) buffer already allocated?    || bufferNULL)		no buffer supplied?return;fp->_pchfp->_bufbuffer;fp->_flag |= USERBUF;} Set size of user-provided buffer setbsize(fp, size) FILE *fp; int size;{fp->_flag & BUF)	system buffer already allocated?return; size /= SECSIZE)fp->_bufsizesize * SECSIZE;			can't use less than one sectorfp->_flag &= ~USERBUF;} Check for end-of-file feof(fp) FILE *fp;{return (fp->_flag & FEOF);} Check file error status ferror(fp) FILE *fp;{return (fp->_flag & FERR);} Clear file error status clearerr(fp) FILE *fp;{fp->_flag &= ~FERR;} Get file descriptor number fileno(fp) FILE *fp;{return (fp->_fd);} Delete CP/M file unlink(filename) *filename;{cpmfcb[CPMFCBSIZE]; makfcb(filename, cpmfcb) != -1)return (bdos(DELETEF, cpmfcb)CPMERR) ? -1: 0;return -1;} Open CP/M file open(filename, rwmode) *filename; rwmode;{fcb *fcb;fcb *_gfcb();int fd; rwmode < 0 || rwmode > 1	check mode   || (fd_gfd())NULL)	get next available fdreturn -1;		bad mode or max files openfcb_gfcb(fd);		get fcb for file descriptor fdmakfcb(filename, fcb->cpmfcb)-1   || bdos(OPENF, fcb->cpmfcb)CPMERR)return -1;		bad name or CP/M can't openfcb->flagrwmode + 1;      flag: R=01, W=02return fd;} Create CP/M file creat(filename, pmode) *filename; int pmode;		protection mode - ignored by CP/M{fcb *fcb;fcb *_gfcb();int fd; (fd_gfd())NULL)	get next available fdreturn -1;		max # of files open alreadyfcb_gfcb(fd);		get fcb for file descriptor fdmakfcb(filename, fcb->cpmfcb)-1)return -1;		bad filenamebdos(DELETEF, fcb->cpmfcb);	delete any existing filebdos(MAKEF, fcb->cpmfcb)CPMERR)return -1;		CP/M can't create filenamefcb->flagWRITE;return fd;} Read CP/M logical records read(fd, buf, n) int fd; n; *buf;{int nread;fcb *fcb;fcb *_gfcb(); getkey()CTLC)		abort run if ^C was typed_exit();(fcb_gfcb(fd))NULL	fd OK?   || (!(fcb->flag & READ))	open for input?   || (n % SECSIZE))		multiple of CP/M sector?return -1;fcb->flag & FEOF)return 0;		nothing read - at EOFn /= SECSIZE;			convert to CP/M sectorsfor (nread0; nread < n; ++nread) {bdos(SETDMA, buf);	set DMA to our bufferbdos(READF, fcb->cpmfcb)) { EOF if != zerofcb->flag |= FEOF;break;}buf += SECSIZE; 	next sector in our buffer}bdos(SETDMA, DBUFF);		reset CP/M default bufferreturn (nread * SECSIZE);	convert to bytes} Write CP/M logical records write(fd, buf, n) int fd; n; *buf;{int nwritten;fcb *fcb;fcb *_gfcb(); getkey()CTLC)		abort run if ^C was typed_exit();(fcb_gfcb(fd))NULL	fd OK?   || (!(fcb->flag & WRITE))	open for output?   || n % SECSIZE		multiple of CP/M sector?   || fcb->flag & FERR) 	previous error?return -1;n /= SECSIZE;			convert to CP/M sectorsfor (nwritten0; nwritten < n; ++nwritten) {bdos(SETDMA, buf);	set DMA to our bufferbdos(WRITEF, fcb->cpmfcb)) { check for errorfcb->flag |= FERR;break;}buf += SECSIZE; 	next sector in our buffer}bdos(SETDMA, DBUFF);		reset CP/M default bufferreturn (nwritten * SECSIZE);	convert to bytes} Close CP/M file close(fd) int fd;{fcb *fcb;fcb *_gfcb();fcbflag; (fcb_gfcb(fd))NULL)	fd OK?return -1;fcbflagfcb->flag;		save fcb flagfcb->flag0;			mark fcb closedfcbflag & FERR)		has error occurred?return -1;fcbflag & WRITE)		was file open for write?bdos(CLOSEF, fcb->cpmfcb)CPMERR)return -1;	CP/M can't closereturn 0;} Internal routine to get next available file descriptor _gfd(){fd;fcb *_gfcb(), *fcb; fd6; 	skip stdin, stdout, stderr, CP/M LST:while ((fcb_gfcb(fd)) != NULL) {fcb->flag0)return fd;	fcb not in use++fd;}return -1;			all fcb's in use} Internal routine - get file control block for file descriptor fd fcb *_gfcb(fd) int fd;{*malloc();fcb *fcb; fd -= 6;	skip stdin, stdout, stderr, CP/M LST:fd >= 0 && fd < NFILES) {(fcb_fcb[fd])NULL) { need space?fcb_fcb[fd](fcb *) malloc(FCBSIZE);fcb != NULL)fcb->flag0;}return fcb;}return NULL;} Build a CP/M file control block (fcb) makfcb(filename, fcb) *filename, *fcb;{int i, c, padchar;*_upper(); filename_upper(filename);	convert to upper casefilename[1] != ':') 	check for drive designator*fcb++0;		default drive {!isalpha(*filename)) drive must be alphareturn -1;*fcb++*filename - ('A' - 1);filename += 2;		skip drive and ':'}pad= ' ';		pad character for short namesfor (i=1; i<=8; ++i) {		copy file name to fcb(c*filename++)'\0' || c'.')break;		end of file nameiscntrl(c)) 	no control charsreturn -1;c'*') { 	wild card character?pad= '?';	fill rest of name with ?break;}*fcb++c;}for (; i<=8; ++i)		pad short name*fcb++padchar;c != 0 && c != '.') 	if not end of file name...(c*filename++) != 0 && c != '.')return -1;	next must be endc)				if more chars, get 1stc*filename++;	of file extensionpad= ' ';			reset pad characterfor (; i<=11; ++i) {		copy file extension to fcbc'\0')break;iscntrl(c))return -1;c'*') {pad= '?';break;}*fcb++c;c*filename++;}(c != 0 && i11) 	if full 11 filename...|| c'*')		or ended with wild card */c*filename;		see what next isc != 0)return -1;		file name too longfor (; i<=11; ++i)		pad short extension*fcb++padchar;for (; i<CPMFCBSIZE; ++i)*fcb++0;		fill rest of fcb with zeroreturn 0;} Internal routine to convert a string to upper case *_upper(s) *s;{*p; ps;while (*pchupper(*p))++p;return s;} If a key was pressed, get the character getkey(){return (bdos(11, 0) & 01) ? bdos(1, 0): EOF;} Return a pointer to requested size of memory *malloc(size) unsigned size;{unsigned maxsbrk(); maxsbrk() < size)return NULL;	can't go into moat_free += size;		move free space ptrreturn (_free - size);	beginning of allocated space} Change the size of the moat between free space and stack unsigned moat(size) unsigned size;{unsigned oldsize; oldsize_moat;_moatsize;return oldsize;} See how much memory is left that can be allocated unsigned maxsbrk(){auto sp[1];	sp is on the stack , so spSPreturn (sp - _free - _moat);} end of CDISKLIB.Csigned size;{unsigned maxsbrk(); maxsb                                                                                                                                /* Q/C Compiler Version 3.1
 *	Global Declarations
 *	Copyright (c) 1983 Quality Computer Systems
 *	08/06/83
 */
extern
int	segtype,
	fullist,
	mainflag,
	libflag,
	trace,
	genflag,
	romflag,
	spaddr,
	cmode,
	midline,
	pregflag,
	retvalue,
	testdone,
	eof,
	stopeol,
	infunc,
	textline;
extern
struct typeinfo
	*typelist,
	*basetypes[],
	*functype,
	*labeltype,
	*chartype,
	*inttype,
	*unsgntype;
extern
struct st
	*symtab,
	*glbptr,
	*locptr;
extern
unsigned
	minsym;
extern
struct st
	lit_sym;
extern
int	lit_label;
extern
char	*litpool,
	*plitpool;
extern
char	*macpool,
	*pmacsym,
	*pmacdef;
extern
struct swq
	*swq,
	*pswq;
extern
struct case_table
	*casetab,
	*pcasetab;
extern
char	*line,
	*lptr,
	*mline;
extern
char	infil[],
	**nextfil,
	*inbuf,
	outfil[],
	*outbuf,
	inclfil[][FILNAMSIZE+1],
	*inclbuf[];
extern
FILE	*input,
	*output,
	*holdinput[];
extern
int	ninfils,
	iobufsize,
	inclbsize,
	lineno,
	incldepth,
	holdlineno[],
	ifdepth,
	holdif[],
	holdelse[],
	condif,
	condelse,
	locspace,
	retlab,
	nregvar,
	ncmp,
	errcnt;
extern
int	peepflag,
	testflag,
	jcondlabel,
	jumplabel;
extern
char	*peepbuf,
	peepsym[];
extern
int	peepoffset;
extern
char	copyright[],
	signon[],
	version[];
extern
int	nsym,
	n_types,
	nswq,
	ncases,
	macpsize,
	pausecnt,
	initflag,
	verbose,
	redirect,
	codeflag;
extern
char	defext[];
/* end of CGLBDECL.C */
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                /********************************************************/
/*							*/
/*		Q/C Compiler Version 3.1		*/
/*		   Global Definitions			*/
/*							*/
/*     Copyright (c) 1983 Quality Computer Systems	*/
/*							*/
/*			08/06/83			*/
/********************************************************/

int	segtype = CODE, 	/* record whether code or data segment */
	fullist = FALSE,	/* commented listing? */
	mainflag = FALSE,	/* has main() been defined? */
	libflag = FALSE,	/* is library being generated? */
	trace = FALSE,		/* print trace messages? */
	genflag = TRUE, 	/* FALSE to suppress code generation */
	romflag = FALSE,	/* generating ROMable code? */
	spaddr, 		/* if romflag==TRUE, addr to init SP */
	cmode = TRUE,		/* parsing C or passing asm thru? */
	midline = FALSE,	/* at beginning of output line? */
	pregflag = FALSE,	/* does preg contain curr val of expr? */
	retvalue = FALSE,	/* is return value in preg? */
	testdone = FALSE,	/* was a test (e.g. ==) just done? */
	eof = FALSE,		/* reached end-of-file? */
	stopeol = FALSE,	/* TRUE if parser must stop at end of */
				/*	line when skipping white space */
	infunc = FALSE, 	/* compiling a function? */
	textline = FALSE;	/* printing a C text line? */
/*
 *	Compiler tables & pointers
 */
struct typeinfo
	*typelist,		/* the type table */
	*basetypes[T_MAX],	/* heads of each base-type list */
	*functype,		/* constant 'function returning int' */
	*labeltype,		/* constant 'statement label' */
	*chartype,		/* constant 'char'	*/
	*inttype,		/* constant 'int'	*/
	*unsgntype;		/* constant 'unsigned'	*/
/*
 *	Symbol table
 */
struct st
	*symtab,	/* beginning of symbol table */
	*glbptr,	/* next global sym table entry */
	*locptr;	/* next local sym table entry */
unsigned
	minsym; 	/* record minimum symbol table space */
/*
 *	Literal pool
 */
struct st
	lit_sym;	/* special "symbol" for literal pool */
int	lit_label;	/* label for current literal pool */
char	*litpool,	/* beginning of literal pool */
	*plitpool;	/* next char in literal pool */
/*
 *	Macro pool
 */
char	*macpool,	/* beginning of macro pool */
	*pmacsym,	/* next macro pool sym entry */
	*pmacdef;	/* next macro pool def entry */
/*
 *	Switch/loop queue
 */
struct swq
	*swq,		/* start of switch/loop queue */
	*pswq;		/* next switch/loop entry */
/*
 *	Switch/case table
 */
struct case_table
	*casetab,	/* start of switch case table */
	*pcasetab;	/* next switch case entry */

char	*line,		/* parsing buffer */
	*lptr,		/* parsing line buffer */
	*mline; 	/* temp macro buffer */
/*
 *	Misc variables
 */
char	infil[FILNAMSIZE+1],	/* current input file name */
	**nextfil,		/* name of next input file */
	*inbuf, 		/* pointer to input buffer */
	outfil[FILNAMSIZE+1],	/* output file name */
	*outbuf,		/* pointer to input buffer */
	inclfil[MAXINCL][FILNAMSIZE+1], /* include file names */
	*inclbuf[MAXINCL];	/* pointers to include buffers */

FILE	*input, 	/* iob for current input file */
	*output,	/* iob for output file (if any) */
	*holdinput[MAXINCL]; /* hold input file iob during #include */

int	ninfils,	/* # of input files */
	iobufsize = 512,/* size of input/output buffers */
	inclbsize = 128,/* size of include buffers */
	lineno, 	/* line number in current input file */
	incldepth,	/* current depth of #include nesting */
	holdlineno[MAXINCL], /* hold input file line no during #include */
	ifdepth = 0,	/* current depth of #if nesting */
	holdif[MAXIF],	/* hold process status of nested #if */
	holdelse[MAXIF],/* record presence of #else for nested #if */
	condif=PROCESS, /* records whether #if says to PROCESS or SKIP */
	condelse=FALSE, /* records whether matching #else was found */
	locspace,	/* local space needed in current function */
	retlab, 	/* label # of return for current function */
	nregvar,	/* # of register variables in current function */
	ncmp,		/* # open compound statements */
	errcnt; 	/* # errors in compilation */
/*
 *	Peephole optimization variables
 */
int	peepflag,	/* type of pattern (if any) */
	testflag,	/* = TESTED, REGH, or REGL */
	jcondlabel,	/* label on last conditional jump */
	jumplabel;	/* label on following unconditional jump */
char	*peepbuf,	/* buffer for patterns */
	peepsym[NAMESIZE]; /* name of symbol currently in preg */
int	peepoffset;	/* offset from symbol currently in preg */

/********************************************************/
/*	Global variables referenced by QRESET		*/
/*							*/
/* If you change the compiler and you still want QRESET */
/* to work, this code must remain unchanged.		*/
/********************************************************/

#asm
	CSEG
#endasm
char	copyright[] = " Copyright (c) 1983 Quality Computer Systems";
char	signon[] = "Q/C Compiler ";

#if Z80
char	version[] = "V3.1a (Z80)";
#else
char	version[] = "V3.1a (8080)";
#endif

int	nsym = 150,		/* size of symbol table */
	n_types = 50,		/* size of type table */
	nswq = 10,		/* max entries in switch/loop queue */
	ncases = 50,		/* max entries in switch case table */
	macpsize = 1000,	/* size of macro (#define) pool */
	pausecnt = 6,		/* pause after this many errors on screen */
	initflag = FALSE,	/* TRUE if all arrays get initialized */
				/* FALSE: don't do default init */
				/*	of arrays > INITSIZE */
	verbose = FALSE,	/* TRUE to chat during compile */
	redirect = FALSE,	/* TRUE if redirection requested */
	codeflag = DEFASM;	/* default assembler: 'm'-M80, 'a'-RMAC */
#if DEFASM == 'm'
char	defext[] = "MAC";
#else
char	defext[] = "ASM";
#endif
#asm
	DSEG
#endasm

/********************************************************/
/*	End of global variables referenced by QRESET	*/
/********************************************************/

/* end of CGLBDEF.C */
                                                                                                                                                                                                                                                                /********************************************************/
/* COMPARE.C - compare two files			*/
/*	adapted from "Software Tools" page 73		*/
/*	06/06/82: change to allow multiple mismatches	*/
/********************************************************/

#include <qstdio.h>

#define MAXLINE 132
main(argc,argv)
int argc, argv[];
	{
	register int lineno, m1, m2;
	register FILE *fp1, *fp2;
	static	diffcnt = 0,	/* difference count */
		diffmax = 1;	/* max number of differences */

	char line1[MAXLINE], line2[MAXLINE];
	if (argc < 3) {
		puts("usage: compare file1 file2 [+diffmax]");
		exit(1);
		}
	if (argc > 3)
		diffmax = atoi(argv[3]);
	if ((fp1 = fopen(argv[1], "r")) == NULL) {
		printf("can't open:%s\n", argv[1]);
		exit(1);
		}
	if ((fp2 = fopen(argv[2], "r")) == NULL) {
		printf("can't open:%s\n", argv[2]);
		exit(1);
		}
	lineno = 0;
	for (;;) {
		m1 = fgets(line1, MAXLINE, fp1);
		m2 = fgets(line2, MAXLINE, fp2);
		if (m1 == NULL || m2 == NULL)
			break;
		++lineno;
		if (strcmp(line1, line2)) {
			printf("%d:\n%s%s", lineno, line1, line2);
			if (++diffcnt >= diffmax)
				exit(0);
			}
		}
	if (m1 == NULL && m2 != NULL)
		printf("eof on %s\n", argv[1]);
	else if (m1 != NULL && m2 == NULL)
		printf("eof on %s\n", argv[2]);
	/* else they match */
	}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                …ЊT”ТS d%4„TЙB°Ф(
Z .                                                        @     Z  Н  OсV0 €±Ђ ­љ  ±`¤А"Ж@Q
  	r€Qа K”B  4OЎ&‰ф$С>„…X  F"А ±K¬CЂЂ.QV2 hі@ V, €±` ЊшµeVpV0 €±Ђ ­›CЂXё UЉЂtьU‹Ђ¬Р ўВЁ ¬  
   *Й q°”T  9Y  Eў! Ђ¬Р ў*ЕА,T *ЕАа›^ Vё BЂ DXР‡yАXё "> 3lш*в Qа H‹ 0п8 «  ДX  V)u€p eК*Ж@6‹6ЎЂ
±p DD fЂ *¬ГЁ ¬\ еfЦ°‹*я @ * bаV4 €±  ­К*ЕАиI‡Q@Xё "" 3mЁ*’Ђ€@ * bаVbа+6чЂ4YTрB  ±P ‹ 0к°4   @
 > ^ ах   ” Љ±ђ ЊEЊЂў¬\ С>„u UЉЂ#А6‹Ђ°«а« GАmneXpV4  v@UЊЂb,d 6 P  K6­Ђ@ mв e\ 
  	r€rђ•љ  4Z"  љ  2® …  №Y  DBЏ Y¶T"  3lШ*ш €Qа K”C• ¬ЫTСh€Ђ mІe_ 
< 	rіmиDUЂ ў еfЂ €„  rіlxEљ  'Ђг`ЎјЮ 6MЗ‘ЊЮm6MЖA°Тn2€'#9М 9 аЛР
?EЊЂЂCфTе8И0?EXSЊвЂіфt8П
?NЊеЂіфдXОИ?PЊ  іх5xи @RSHELЊцЂд4еDхИEXIT?Њн дdхTгшМ0FPUTS?Њ–Ђд•558ПИMAIN?ЊБ e5DDU%(НxSTDIN?ЊпЂе5DDхUIА  …ЊTТS d4„TДЙB ФDZ .                                                        @     Z  Н  сV0 €±Ђ ­љ  ±`¤А"Ж@` «  ДX  V)u€p eК*Ж@h  *ЕЂ±, џ¬«ж *Ж 10 іhp ‹ 
±PйЂ
±p•љ  4XTА UЂ !@4  eWЂ$ ег`+4  hґY   « ±P «  ДX  V)u€p eК*Ж@6‹6— 
±p DD fЂ +Д Г¦ ¬\  µЊ•n@   ‹ ±pс 
±p•›UЂ,«  !  XЁ E‹Ђw€љ   Ђ ¤   *€ј c ‹ 9EXёў}	0йЂ « ДXИ l ` (‡ 9Y  EўН®АР   — жсґВn<€fуiґВn2†“q”@a9О`РPђ« Gи±ђ~Љњ§‡и«
q”`~Ћ‡њ gйИ±™0~ЎФ gкjсђ ЂЉ°’Ё  И
i©‰‘—
„€ћ¦Б Й*jj(qђPљ‚’њ8  …ђРS•Ф d4еDх	@hФ°Z  Н  8 К*  ¬Р ўСn›ЂНУ0К*Ў Vm hґD •љ  4[®&\  C0›„зAјаe7„ И?ENЋЂ d4еDхЙ(EXIT?ЊЋ deUE3шИАSTDERRњ   …VU TU„•Cщ@PХXZ  Н     €  Ђ    UC@  4  aS = Pp €( QрU €©H‡Ђ
©0•љ  4Xtxєn7LАsвХ•T 8 КН  ,Р љ  KЂ #Ў ђH.)•H@И?ENRЊЄ CфU…(И°?GTЊЁЂdU„•CшИ @IOB?ЋЂ TU„•CшЙёFCLOSEЊ™ЂE#ушЙhR?2?Њ¦ЂeTдД”д№А  …СUаTtUE3щ@ ХLљ  ?џнУp!єf№D%”T  9Y  EўСfЂ ЄL !  u0єn7LА—(„ rі@ ‹Eєu 7NЂвХ•QЂ   Ш Э7¦`IсjН   @И?ENSЊ§ЂCфU…8К?GFЊЌЂ#фиИЁFGETS?ЋЂ TtUE3шЙђINDEX?Њ€Ђe5DD”гщА  …UаUUE3щ@ ФШљ  7MАfйН  ‹VU* ЃЂ —+4  ґY   ­›BЂ¬Р ўГ `PКН¤Ђл…‚ЙЊЂЂ3фTиИё?GЊђ 3фt8Иа?PЊ—ЂeUD4„и PUTS?њ   …”’S• e$”еDi@ ФЊљ  @ (Ё  r·MАfй)u€@А HeКН  -‹uВБdЖ@@ъ*tdh #&ЄЗ@ 2‚’Jrў4dЁ*Є!џЖB 2љў"zЄ¤а  …‘”’S• de$”еI@ Фґљ  7MАfй)u€@А HdD  @ (Є€Ђ3@ (ЄЊ 
ЕnVh  СhґY  dў§)FJА!ъ*В”dlЈЖI@*2jЎьt #()$§*FE *‚Єўьd|)џО   …‘СUТ`dtUD4„@ Ф$ T  9Y  E“ ЁиЄ€gсР ЋЉЁ†ђѓ Кj€‰)ЗуЂ  …”UТ`eUD4„@ Ф\љ  7MАfйе  Vh  Сh·\,Ldџў§FCА*‚Єўьt (*Є!¤ ЖBА2љў"zЄ¤а  …Q“ФS ddхTгщ@(ХЂљ  @   !  @  Є†ЂA@h  В¦@:Ћ * аP 2"ЈаЄ  #Rђ R`h  !Ђ  4  aTp RР €( Н  Ud B  0кШtЬn™ЂмР КН  ,; ! Ђ@ tЬn™Ѓ.Q  еfЂ €€  aЭ° "­АУp!єf№Y  EК!А Vh  Сhіiш*Ш @ Ѓ aЬ0йёЭ3\ў КН  -« aЭ°  Г«`,Р   +Ђ,0HZЂ.0 ЄаЂЩ¶€•zА  ­Ђ·MАfй#fЦ +6І 4B$ 4  ePрUЉ Ѓ Р  EA ETМ FеQ € fЂ h  *ў .Vmу uЉЁh6… ґOЎ!U#€Дc` Њl S@€  c`ЄџЂ„A  Л”Uw 'РђЄҐЂџ¬Р \  L)•@Йа?AЊя #фXИ?ENRЊЇ ГфU…(Иа
?GЊ“Ђіфt8Й°?GCSЊ‹ 3фuHКp?LEЊр #фиЙp
?OЊђ ЈхОh?SWЊ‚ T”ф#шМ @UPPERЊыЂd4…UXНаCREAT?ЋЂ ddхTгшЛаOPEN?Њ¬ЂЕ#ушК@R?2?Њ©ЂЕ#у3шЙXR?4?ЊОЂe5E$4Х	А  …‘ђУФС`dd4Дх4Y@ Ц4Z  Н  ¦а3tМ  H 2Н   P4  eS U
 rіh€ D fЂ иHB  0м@ ЄЋЂ3@  Н¤аVUi S0m6 Ѓ Ъx Н  U„ B 9EUКН  -UY rі@ €Є± 9Yґ„ " 3j`DъV  €$ fЦа+4  hџ¬Р 2и ЏРc"аэ2СS”Ј1`эaJ3 ПСРг(АэN2ћ ЏУЈ0 1=Mю: ‘ђУФСc,А1UM"2єTUПг/@HьДюp  …Q‘СUаddtUE3щ@ Фtљ  7MА¦й"  ¦а3tМі@ UҐ P +tЬn™Ѓ-иHB
 9EThКН  - е‚ЂVm/ hґET¬ F#  Є‚ #fЂ    UT b*¦ #>-YUд UR@b*А +rЉЄ0 ЊEZ@lЪљ С>„uH UY АЎUz ЌЂУp)єfіk€ D4 fЂ «8 !  v€єn7LА¶‚  —+4  ґY   D  fЂ «ћ Э7›¦`;•љ  4D@  EюяfЂ «Ъ *Їа1У №EWў}	A@m‘ a^РҐ ]p° Uw lЪ( КЎ "«Ь лn›ЃMУ0-›y@THB  0иАtЬ
n™ЃgЕ«4  ЊѓЂЈфXИ?ENRЊЌЂГфU…(НX?GЊЕЂ3фt8Н°?LTЊыЂ#фиОh?NEЊШ #хЙаBDOS?ЋЂ ddtUE3шОGETC?ЊщЂE#ушКёR?2?ЊюЂE#у3шЛhR?4?њ   …Q”UаdeUE3щ@ ФИљ  A  K•љ  Ъ,Р  VН  @ сjКҐаЄ* еn›ЂНУ0КН  - fЂ ђ~ЉњҐ0 ‡и«
Qђђ~Џ gииqђа~Ў  ИК
ЄЉgс’Ђ
 ЄЁ† ЉGж'уЂ  …СUаTtUD3щ@ Фшљ  7MАfй"  lР •[ @  €  їЯмР •JА/чшЉЉ 0к  „ r€@ +4  hґDT\ " 3@ UT ЂЂQ( "§ Vm4 hґEU0 " 3iш*і _пцi UP9P h  ! Ђ  6‡ 0¬p Є¶Ђ3kЂ „А fЧ`«*ИЂ@ Uљ їЯм:r*Їа1ЌКН  mh      *ж 
¬Ш ЌКНґ@6‹6УЂ
Щ¶ Bя 3l@к 
­•љ  4DUњ Us@· B 3n8Х•{@WT‡N@EW  " 3jШ*‚ Љ®А•›@ "+Ь * @!Р›} T\UA@DlЪт К¦ "«ф еfЂ  љ  4OЎ!эюГ§ "Є"?Ђ·„ шµfЂ “p~ѓGи±ђ~ЉњҐ<‡и«
Q›Ђ~Џgииqќ°~Ћ†§­ gй€±‘P~ќ gйИ±’P~џЅ GкќЂЊ’& И
©Ииi• 
„€ћ¦  ЁиЄ€gс‘°¤~b1ЉGжGуЂ  …LQ’S dd”ДГщ@ Фљ  7MАfй"     „0 fЂ Р •VАT( " \ў 	КН  -h  НўАЄ– *ЈЂVh      DъїЯм:*¦АVm: ‚ ЪЂ С>„…U0 "	 Yµ@К*«Ђ( 2Н  ўЄО Ђ,ЪЬ еfЂ ‹DD  @ h  К№`« Н¦ «T *®@Vmc € Ъ¬ С>„vи Uf ¬Ы8   ¶€ў}	
­X ЊF# c` …юяaРU» €ДnQUЏ ґYґґ Us nQUЫ Ѓ@–my ґY·` Ux  P e›yАґ4 Bя 3hсjН  #?аэ2СS”Ј Ђ0эaJ3м ЏСг5аэ3тСРФг1 э3$ ЏУЈ6 э>3Ш ЏФ#  %10ю2P“PSРг=аHьДю3¦ЏМЏг/ Iюp  …•S‘СUаeTдtUD9@ ЦDљ  7MАfй"  lР •L@@  EюяfЂ ЄJ !їШv0єn7LА‘ aШАU
 fЂ љ  -YUt ULЂnQUB Ѓ@–h  бfЂ Р •W@ *ДЂ
Є8 ЊF#rіjђ ЌўН  U„ FеfЦЂ[E›[@­Уp!єfґOЎ&Њ їЯзЕ«4  ЊќЂ#фИ?ENRЊЗЂCфU…(ЛЁ?GЊљЂCфt58Кp?GSЊ‡ #фиИР?NEЊЅ #хКЁ?ULTЊ– dTдt4€ЛЂR?1?ЋЂ eTдtUD9А  …UаUUD3щ@ ХЬљ  7MАfй"  ¦аCtМ	  Є    *¦Ђ
Ё D fСАU: ѓ@QU rіh Eў! ўЄD еfЂ €ЄџЂ0лђЄ™ 3@  Н    *ІЂ_пцrTЂ €( НҐ «  *©АЪў ! µ\›VЂVt B 9EUИКН  €Ќ›_ЂVt Bя°лђЄД A  Л4  Ѓ@ЪШ Кё`(К*¬АVmC hґEVФ‡\ЂEVx›]@!Ђ6ЅЂ3lђ*Џ Љ®  ЌК*єА( 2еЂ NVh  Сhі@ ‹6ц 3nЂ*‡ Љ®Ш•›i@$ 4  hџBBыэ‡\ЂEWдКНї @›@АZ'РђЄ‡Ђ€Дb7(ЄЏЂ„@а Л4  pі@ h  К©А"ЄLеfЂ 6щЂ2Єp…юяaЧ U:€ДnVm1ґY·А USАDnVmVґYµlVе[а‰ф$|Zі@ Оh?AЊХЂ#фXИ?ENRЊєЂГфU…(Л
?GЊ‰Ђіфt8О8?GCSЊ–Ђіфu8Й ?LEЊЎЂЈфиИИ
?OЊґ ЈхНИBDOS?Њџ дddЕU4€П8MALLOCЋЂ UUD3шЛhR?1?ЊЇ Е#у#щА  …‘‘“TТ dddЕU4‰@ Ч$љ  7MАfй"   ђ eљ  @ h  К¤@ ‡q T(љ  @@h  Н  U UHАґ B@ 3i`Х•QА *Ё _пцД SPЊFН  'р d"Ђ :Щ   E  fЂ    UT@b1Ш # Uё "	 YґDК*Ї 7(ЄВ @  Л6«Ђ4Y  ”UZА¬Р ўСhєЕV`љ  2® ЄДЂ9Y¶  "@ 3@ ‰ф$!їШw B  ¬Р 2| ЏРc,@э%Z2. ЏСc  э9J3ЋСVЈ2 э3` ПСРг' эN3L ПУ#- э5U1R2^ ЏУЈ6Аэ>3( ЏФ#  1UM"3XЏМOг4`HьИю38•Ф’UOз   …”СU•Q e4UD%Ti@ ХЂљ  7MА†йН  !Ђ4  Z°©tЬn™ЂмР •I@ 
® 7MА†й#r·MА†йЂ.VйёЭ3Ъ,Р ўНЁ`Уp!єf№Y   D  fЂ иIєб`Іc" э2 ПСSЈ* э2СРФг# э:2® ЏУг(аэB: ”СU•Q§   …”СU”Т`e4UD%4™@ Х€љ  7MА†йН   Ђ4  Z°Єр „ №Y   E  uі@ ‹4  ZІЄXtЬn™Ѓ!8 2еn›ЂНУ0"Ђ 3@ ‹6“Ђ0крtЬn™Ѓ.Vh  wїЩґ@ў}	7\,Led ЖHА!ъ"Jґdџў§FG ъ<eLџЈЎЖBЂ!ъ:њeџ¦Є¦*FQЂъ„t )ўЄ!)¤О   …‘SС TdTфcщ@ Ф\љ  7MАfйН  " 4  Z·\,Ld@ Ж@@ъ*td(ЈЎ©З@ *2*z1ьа  …‘‘T”“Ф ddU%$х)@ Ф\љ  7MАfйН  $ 4  Z·\,Ld@ Ж@@ъ*td(ЈЎ©З@ 22*’’z”а  …ђУPT‘`d4ДT$Y@ Фhљ  7MАfйеfЂ ыэљ  4OЎ&л…‚ЙЊ€Ђ#фИ?ENЊ…Ђ3фt8и CLEAREњ   …‘’SS“аdd”ДTдщ@ ФXљ  7MАfйЂ,Р  шµnёX,И?ENЊ‡ 3фt8и FILENOњ   …ФS TхTгщ@ Цљ  7MАfй"    4  aR U
 Ђ@Р …JЂ   €  fЂ Єf !їШv UI@¬Р ў"  ¦аCtМ	rЉ©а ЌКН  -6” 0«P „ rЉЄ0 ЌКН  -‹ь Н  UМ Bя°м Є­Ђ9ETX FС>„…TР шµfЂ –Ђ~‹ ‡и©КQ@~Љ°Ґ gик‘‘А~©Q GйС“ЂЂЋЊ†„" ЁиИ‡с– 
„€ћ¦K ЙЁ)hИhQР 
ћ Љњx ЉGж'с—@¤~d ЉGжgуЂ  …PФ‘PU d5$TCщ@ ХШљ  3@   Н  TT Bя°л€ ЄѓЂ9Y  DD  7MА†йеQа•љ  4Z"6m
 eSаэюГ® К*Ґ 7+4  hґD!`”UPАnVmH hґB/р4  eVђэюГ® Єў 6
Ё°сjН  #+Аэ2СS”Ј.ЂэaJ2f ЏУЈ#@ю2PС‘г*А	=Lю: ђФ‘PUг% 5-
2ФЏМOг-аHьИюp  …‘PQ U$TCщ@ Фљ  7MАfй"     D fЂ Є6 Н  ¦аStМrі@ €€  fЂ *ў *¤аР  B 3@ m* aUU
   ¶h  л>-YUP B 2Єи …юяaЯРU0 fУ0Ђ Н§ VUs Ђ ;ъ *Ё@ ЦН© *и !  @  ЄВ :ЕUшљ  0­ уЂ
¬8 ЊEeАv B 9[¦аCtМ	rі@ ‹DB 9EUx FеfЪА‹E•u VФКН  " 4  hџBL;О ! .Vh  @ -h  ГІАРК!@ ¬Ыt СhЉ¬Ш E  fЂ Е«4  ЊіЂ#фЛШ?DIVЊ‰Ђ#фXИ?ENRЊЂ ГфU…(ОР?GЊг 3фt8Л?GCSЊЗ 3фЕHПШ?MULTЊћ #фиО`?OЊс #хИИ@EXIT?Њ‘Ђdtd4#шПЂBDOS?Њ†ЂdtUDґUМXR?1?ЊъЂE#у#шОR?3?ЋЂ U$TCщА  …UФ’U`eu$•DSщ@ Чрљ  7MАfй"     D fЂ Є6 Н  ¦аStМrі@ €€  fЂ *В *¤аР  B 3@ m* aVU
   ¶h  л>-XU„ UL ґМ B@ 3iИХ•Y  *¶Ђ_пцч T  Љ  лfФђn Ђ    U_ЂbЄр Н  Vh‡x@V F"І ;  ! ­Уp!єf№Y  Eў!
ЂўЄ¤ #rіm0EўК№А«^ еfЂ  љ  4OЎ&б ‚  —+4    –‹4  aЩ h е  Vmґ hґEVT "Ђ 3@ вХљ  FVАъeФў$«FDАъ,dў§)F~Ђ!ъ*В”gPЈЖp ъ:eTЈЎ©Жb ъb¤gФџ¦Є¦*FO ъtg§Жw ъ„dd "¬$ЄЖHА2:2ьgЁЎ"'©џЖC@2:*ўZ*Мf)џЖ{А"‘щ‘ьfр)™џЗ@ 2є’Jў)ьа  …PУФС`d4Дх4Sщ@ ХАљ  7MАfйеfЂ   Н  Tt Bя°лX Є‡Ђ3@   *ЈА` Є’ H h  µeSаэюГ­`ЄX  ґИjК­ ЂК*¤а7+4  hґB/р4  eVЂэюГ­`  шµfЂ ”P~ѓ] Gи±ђ~ЉњҐn ‡и«
Q’~Ћ‡ GйСђ°ЂЋЊ†„U ЁH‰кgсР †ћ¦ЉP ЉGж'с“р¤~d8  …•S“S’аeTдД”д№@ Хљ  7нУp©єf№X¬Р ўСїЯмР •NЂ!0•ЉН  -‹ь Н  TР Bя°йё „  aУРэю|Zі@  2R ЏСc  э9N2ЂСVг"Аэ92BP‘ФПг!А5-
: •S“S’з   …QС‘ TtdCщ@ Х љ  ?џв0 D  
ЁH•љ  4[§PtиЂ Р •OЂ  4  fЂ Єh *ЎЂ:‚ *Ґа15 aР°эю|Zі@  2OСS”ФЈ(ЂэaIN2L ПСРг$`э2R ЏУЈ# э92 ђСђРЏг  ю2rЏМOз   …LQСђР dtd4#щ@ ХИљ  7MАfй"  /§шdEBЂ  4  eRPU ‚ЂР •ZЂTt RлЂ –h  "    *І 
©H ҐЦ!ҐА—(„J rі@ ‹Eљ  ©Ё D  fЂ ЄИ *ЄЂ` Є° 0лh „  >-Y  dў§)F\ !ъ*В”dИЈЖHАъ:¤d\џ¦"ЖN ъtehџ§"ЖT@ъ„e #!ЎЗ@ 2:2ьe0& ¦&'ЎЖOЂ"‘щ‰ьe”)™О   …LQVU dU„•Cщ@ Ф8Z  !  ў КН  -Lt  "¬$ЄЖB@*"z™ьа  …“PRСђР dФґd4)@ ХД	љ  7MАfй"  ¦аCtМ	  Vh  СQ04  ЋЂР •MАT( F"Ґ`±°‡[ Tlљ  9Y  Eљ  2Єp …юяaЦА!U/ €Єx ­К*§ Ъv `?Г-иHUV b1e €    B Ђ Uv ‚ Р …d@w¤ U^@b+ ГЇ ЄФ #Y [6­ЂЂ mC aZаUќ ‹ЂР …z@VКН  ,«„ !їШu°UlЂ" 6Ц 2®ё „~ W й U0Љм 
Ьў«† С>„v Uc  Ђ6їЂ0ЁЉ ЉЇP ЊE~@w¤ Uw b*+rЉ®ђDъaЯЂUб Ђ ЪJ КҐ "Є* ґl•U@EVX F"Ґ "¶mљ R€  Н¤а,Є*§ !p›OЂYUTBя°л`Єў џ¬ЄЦ*¦ "1^іiЁЉ« €D _Р €, Нѕ +Г» "Єд#XqVђm  a]ђU‹rіm°E•i D/чы¶
¬ DT fЬђU№ЏА*ЮГ» "Є#[ [”Ui@Z'РђЄ± €ДW$VН¬А"+†Г° "«Ё  µ(•{ЂEV" 3mX
э Љ®РDT fЮАU\РmС_ UЂ ЫАКЈ Bыэ‡[ …W" 3kА
Ѓ0кЄЊЃДT 	‡F …VшF"¦@B·(ЄЪ ґOЎ&'RА €ђ Н  Up	‡Z@…UF"Є`L:†*¦АB1]ЌЂ:¤!  ‹Vh шGи±ђ~ЉњҐo‡и«
Qђ&~Ћ‡ ‡ииjq‘р&~Ћ‹Jgик‘а~ќgйИ±‘pЂЄ  ЉҐ? Й*h)Љ	™Ђ’¦†њЁҐ  ЙЁ)hИhQџа¤~baЉGжGс•p(¤~fЉGж‡с“°(¤~j8  …ЊUTT dUU)@ ФЬљ  7MАfй"  T(К*Ў Р КН  -иIhКҐЂЄ" #R0 n›ЂНУ0шµfЂ ђ~ЉњҐ5 ‡и«
Q‘@~Ћ‡  И
Є
ЄQ‘Ђ†ђЄ  ‹' ЉGж'уЂ  …“PSРаdФДДф9@ Фмљ  7MАfй"    ¬UBЂ  *ЏЂ@ 6   QU h†DTЂ UI bЄR лfЂ Е«4  ЊЂЂCфTе(ЙИ?EXRЊљ #х8И ?ULTЊ de$TSши MALLOCЊ†ЂdФ…4%(Й`R?1?њ   …“PVР” dФ…4%)@ Фlљ  ?Яж“¬T  3@ XЁ  fРА«4   Ђ#  э9N2.СVг"`эN2ђ”‘QOг" 5=Pю: “PVР”§   …SРU TФфCщ@ Ф„љ  ?џв  єu 7NЂйёЭ3DTљ  ¬Р   ЊЂЂCфTе8Ии?EXSЊЊ 3фthИЁ@MOAT?ЋЂ TФфCщА  …‘СUСV`dtUDґU™@ Фґ B 9D  •љ  4Z!љ  -YTњ B 9D  •›B@-* їЯзЕ«&2" ЏРc$ 	=Lю: ‘СUСVg   …TХS Td4#шMQ%8юSTDOUTЃ”ХT” T”ф#шU9"@MOAT?”A KЂ                           @                                                                                                                 їЭ 8р @FCB?Џ T”ф#шф @MOAT?Џ? dTдt4€рАSTDERRЏ
 e5DD”гшр°STDOUTњ   …”Ф’S• e5$”еI@ ФИљ  7MАfй)u€@А HdD  3@   6 @ (Є‹Ђ9ETD V+rі@ ‹EўН  #  э9J2`СVЈ"Ђэ28PРUг%@5Pю2HЏМOг$ HьИю: ”Ф’S•'   …PРU T4Cщ@ ФШљ  @А K•љ  Ъ,Р  VН  ‹V n›ЂНУ0VеnџЃР ў}	7MАfй6 7\,Ldџў§FB@ъ<dHџЈЎЖCЂъ„d”©¬*G@ *
Ўьа  …Q“U TdХCщ@ ЦHљ  >_нУp5єfЂ X¬EC b6h  "  Td F"ЈЂ¶h  "  ‹VUЌRp €” Н  U`єn·LБ'(Є—Ђ8Ь­Уp=єf8Ьў¦ гtґZ,:6 *¤ 1Y іi  ЉЎ 0л8ЖЂ€A   Г± Ђ E\ v4 B
 «ИЖЂ^Пс‚ QX¬EcЂb6m r±EV,КН  -€€  Zpma >-YWhєn·LБ'(ЄХ ДVр VНµ 7+tЬn™‚7(†кЂ8Э-‹ФЂ0иШtЬn™‚NQU“ ЉДW” F#fЩЂ•єn·LБ”C@ \n–‹E‡FАWЁ V+P`Ќ›{АW  UDАY· шµeT`йё"Э3њўЄ,#RЂ[6ЊЂёЬ­Уp=єf8Ьў‚гtґZ,:*ГЈ`УpEєf	9EUђЖеn›ЃнУ0AЖеЦ ҐўСaС°h   АЖ » @‡ :Ђ+ра]@а
Ш   Vђ
’ГЈ`Р   ЊЂЂSфTе5(Мp?EXRSЊ€ ЈфxЙЂ?GCЊљЂ3фдXЛ@?SWЋЂ TdХCшНITOB?Њ– Е#ушКиR?2?ЊЁЂЕ#у3шМиR?4?Њ…ЂЕ#уSщА  …UР T•Dф#щ@ ФLљ  7MА¦й    *Џ 7MАfй{?Щ  *› @   Э7›¦`[4    :Љ !  T”єn7LА±1 n›ЂНУ0"ціhа*® 7FА`Stl 7MА†й"  @  Єі 9EUЦЭ7›¦`;4  u„F  ЛDъЋ@Р •f U¤КН   p eў}	
¬X ЊEf@UґЦЭ7›¦`;6»Ђ­  D  fЂ *Р *§@Е«*е 
¬и ЊEp@cahЄвЂЂ«– +] XЄ±Ђ3@ U]ЂmЏ   «В #^ [”Uu ·ђў}	
Ї”UyА'Р“зЂ7MА†й|Zі@ Кx?EЊЂЂCфTе(И€?EXRЊы 3фt8Иh?GTЊВЂ3фЕHЙp?NEGЊХ SхTD•hОШ?UGTЊЩЂCхTЕHи ITOB?ЊЦЂE#ушПаR?2?Њч E#у3шНИR?4?ЊЂ Е#уSщА  …UТ`TDф“щ@ Ц°љ  7MАfй"  T(љ  9Y  E•I T4 F"Ј`: ! Ђ@  ЄЏЂ3hЂ DZ fЂ *Љ *Ґ`Ъ\ ЂґР•Z Tи F"© ¶m= ЉАЪ† К¬@‡Y@/чшЉ” @   *© Ъў еfЂ Uќ VА €( Н  ўЄЮ #Xp[6№ 4C!ѓь2"Ї :Ь *¬А±U fШ0вХљ  FUАъ,dў§)FjЂ!ъ*В”f<џЈЎЖi@)ъjЄb¤t  Є'¤џЖ]Ђ2Jљ"J:LdP$©©Ё ЎЖbА"‘щ‰ьf€)™ЖgЂ"‘щ™ьа  …”ХђРU e5E$4I@ Фрљ  7MА†й"  T(љ  ¬ЄB *Ў 1 aРАU r·MАfйеfЂ ‹tЬn™Ѓ'Е«4  ЊЂЂCфTе(ЙР?EXRЊ€ 3фt8ЙR?1?ЋЂ e5E$4HЙhSTRCPYњ   …”ХђФ`e5E$5™@ Фаљ  7MА†й"  T( F"Ў ·(„ №Y   ЌўН  lР ў}	-T0єn7LА“вХљ  F@@!ъ*r”dШў¬)FFАъ<dђџЈЎЖH ъ„dD)џЗ@ 2љў’‚Ма  …”Х“SХ e5E$Фхi@ Фиљ  7MА†й"  T(К! .Vh  #hі@ [4  hџBKFU2 PРЉ”Ђ0и` Є–Ђ¬Р 2СS”Ј' эaJ2, ЏСг#аэ26 ЏФ#&`HьДю: ”Х“SХ§   …”Х“S e5E$ДTй@ ФДљ  @   ! .Vh  #hі@ [4  >-YT¤ UAАb*@ ГЎ ЄH |Zі@ И?ENRЊ—ЂCфU…(Иx?GЊЊ 3фt8И ?PЊ• E#уши STRLENњ   …”ХђУT e5E$4Х	@ ХЊљ  7MАfй"  ¦аCtМ	  Є& еP h  бfЂ Р •S TX›H@  *ќЂ@ ^ R Љћ 
ЁР ЊEPАtT UP ўЄЋ НЈ m- uі@ вХљ  FI ъ,dў§)FX@!ъ*В”e`џЈЎЖU !ъ:њdА§FW ъњe4)џЖT@"‘щ‘ьt )Є)!¦ЁN   …ђТT`d4…UY@ Фљ  7MАfй"  ¬Р ўКЈАЄ p?Г,:B *ў Е«4  ЊЂЂCфTе(Й ?EXRЋЂ d4…UXИpISLOWEЊЏЂE#ущА  …ђТХС`d4„ДхtY@ Фљ  7MАfй"  ¬Р ўКЈАЄ  ,:B *ў Е«4  ЊЂЂCфTе(Й ?EXRЋЂ d4„ДхtXИpISUPPEЊЏЂE#ущА  …’TФSђаd•5Tд9@ Фиљ  7MАfйеfЂ U4 n›ЂНУ0КН  ,Р •M ¦а3tМ€ Р •M  сjЭp°Y1ђ~Љќ GйС’А~њ‹ Й*h)‰К±ђ°’¦ ¤’ќ  Й*j
©ИsЂ  …’TРУ• d•44еE)@ Ф¬љ  7MАfйеfЂ U% n›ЂНУ0КН  ,Р •I@ сjЭp°Y1ђ~Љќ GйСђ°’¦‚¦†“  Й*hiКЉQ‘ђ’¦ ¤’ќ8  …’TРS•`d•4ДеY@ Ф љ  7MАfйеfЂ  n›ЂНУ0КН  ,ЄD ! Ђ‹Vл…‚ЙЊЂЂ3фTии ISALNUЊ…Ђd•4Е€ИИISDIGIњ   …’TРS d•4Е‰@ Ф љ  7MАfйеfЂ  n›ЂНУ0КН  ,ЄD ! Ђ‹Vл…‚ЙЊЂЂ3фTии ISALPHЊЊЂd•4ДхtXИXISUPPEњ   …’TХT`d•5UY@ Фђљ  7MАfй Ђ  *Џ 7MАfй-   сjЭp°Y1ђ~Љќ gии±ђР~‹  Й*jЄ
іЂ  …’TУХС`d•4ДхtY@ Фђљ  7MАfй0Ђ  *Џ 7MАfй=   сjЭp°Y1ђ~Љќ gии±ђР~‹  Й*i‰киіЂ  …’TСQТ`d•4D”t™@ Фђљ  7MАfй   *Џ 7MАfйЂ  сjЭp°Y1ђ~Љќ gии±ђР~‹  Й*h‰(й3Ђ  …’TФФPаd•559@ Хљ  7MАfй"  " 4  aT U
 ‚@Ъ  ВЁ@Є,  ґp…PЂT€ " 3i@
Ў 
©p D fУ@вХљ  FP ъ,dў§)FQ@!ъ*В”t $©©Ё ЎЖNЂ"‘щ‰ьа  …’TРTРТ`d•444™@ Фђљ  7MАfй    *Џ 7MАfй?Ђ  сjЭp°Y1ђ~Љќ gии±ђР~‹  Й*h*hi3Ђ  …’TФ’S d•5$”й@ Фђљ  7MАfй   *Џ 7MАfй?   сjЭp°Y1ђ~Љќ gии±ђР~‹  Й*j
I)УЂ  …RS‘V d”дDUѓщ@ Хљ  7MА†й"  T(љ  ¬Єr *Ў Р єn7LАvh  КҐаЄ0 Г§ЂЄT #S  Ђ Е«4  Њ’ #фXИ?ENRЊџЂCфU…(ИЂ?GCЊЌЂCфt58и INDEX?Њљ E#ущА  …•ХT`eDхUY@ ФLљ  7MАfйp?Г'Е«uВБdЖ@@ъ*tt *'ЄЁ("О   …•УХС`eDфДхtY@ ФLљ  7MАfй 'Е«uВБdЖ@@ъ*tt *'¦'«ўО   …SRS T”Ф”гщ@ Ф¬љ  7MА†йлn›ЂНУ0љ  2ЁшtЬn™Ѓ,:J Э7›¦`9сjЭp°Y1ђ~Љќ gйЉ‘Р 
’љ’њ8  …SPV T”Фѓщ@ Ф¬љ  7MА†йлn›ЂНУ0љ  2ЁшtЬn™Ѓ,:J Э7›¦`9сjЭp°Y1ђ~Љќ gик‘Р 
’љ‚°8  …QRаUTTіщ@ Ф\љ  7MАfйН  /р4  Z·\,Ld@ Ж@@ъ*td(ЈЎ©З@ *‚**Yьа  …ТС`UфґSщ@ ФРљ  ?џнУp)єfі@ ь Н  §Ptиn›ЃMУ0-КЭ?  DъfЂ Е«4   #"@э2СS”г& эaN2СРФг%`э2JФЦ#  A=-юp  …UФQRаeuTTіщ@ ФHљ  7MАfйН  ‹Vл…‚ЙЊЂЂ3фTиИP?GЋЂ euTTіщА  …UФТС`euфґSщ@ Фјљ  ?џнУp)єfі@ йФ Э: [¦аStМr·MА†йСfЂ Р  шµfЂ   dў§)ЖJА!ъ*Вњd0ЈЖIЂъ:4dЊЁG@ 2є‚zZ)ьа  …ђФ•S•`Cфt4hэ?SXTЃСРФа3фthэ?GSЂЏФ #фшэb?AЂЏС`3фдXэR?LTЂПУ`3фtXэUR?ULTЃХS`CхTtXэMJ?ASR1ЃРTУ Sф4Гэ1MJ?LSR1ЂЏФаCфдTxэ=6?NЃOУUS CфD•hэU%Z?SWЃP‘ФПаdD4€э:?ENRЃЏМOаE#у#шHьМюR?4?ЃЏНOаSфTе5(э9N?EXRЃOСV”аCфU…8‘55If?MEMRYЃђ”‘QOеЂR#IЂьo§Мм“с|џ+ІM&рЊМod—„efIф$>™'Х™јшІ3ІOЄіyсTgdџTfув€ОЙfЦ° ЎjЙfЦ° µ’лfЦ0ЂijЙuіk а$µdєЩµ¬ `
ZІ]lЪЦ 8-Y"ЦIйЬЂ+џИ9йx Чў’лѕbЖXt0шu‡_ђГнЦ|2ЗЊ°иaр{J›ПIГ;%›f@l“ајО}›Щ'ЕЁ Ї3›Щ"ЖK€MЂ ђxАWћдsИ|ћ°•з°№|ф+¬Дv$шµ ЛҐFKшЄzџп+ј НІЂҐ»Хеz@lЫ( лfР0‹КъЂ:Щ¶PЦс`ј¶P’|Z€ eТЈ%ЉD&Џ‚WXD  ћВеуР\®іKЃА@@=®G ЈлШo=¤Kз¤Б]в= ЮЎ†Ы’лp±IВ0kкҐЂ€ПЛ±Ђ~]
 ‚1aЬ#?МЖцҐЉЭr€@АЙxFV“™ PјА nёX+FKEЉЭr€@ ЙљЕnё]n–‹єеЂ ’!5ЉЭpЉ° ”UЂЂў¬ е``(« 9]n—єе?К…У1ј&9|‘	¬Vл„UЂ ў¬ е`@(« 9EX КлtёX­Ч)шFT.™Ќб1Лд€Mb·\.·K­Вб`Ђ‹ 8DXВ"А@  u·\,K­‚б`Ђ‹ 8DXВ"А@  А`Ј8етлnёX,—[„ь#3З/—[uВБdЛЂ %А@а@	p0ё \. Џ bDФTХ%йh?AЋї Cф4Илш?ASL1ЋєЂCф5(л°?ASR1ЋМЂCф4фШоX?DIVЋљ #фXлH?ENЋј ГфTе(о?ENSЋНЂУфTе5(оё?EXRЋщ УфU…%8и ?EXSЋ€ #фxи?GCЋЂ Cфt4hи@?GCSЋҐ 3фtXиp?GFЋЉЂ3фu8к?GTЋ¤Ђ3фДXм ?LSRЋВЂSфЕ5#к?LTЏ cфФTХ%нP?MULTЋР #фийШ?NEЋК CфдTxиш?OЋЊЂ#хмh?SЋљ іх5xи?SXTЋю SхTD•hкР?UGEЋЁЂCхTuHкИ?ULEЋ© CхTЕHй0?XЏ de$TSшл@PATCHЋ© Ф$Dх3шр R?1?Џ E#у#шр R?3?Џ E#уCшр@R?5?њ   ћЋљ іх5xи?SXTЋю SхTD•hкР?UGEЋЁЂCхTuHкИ?ULEЋ© CхTЕHй0?XЏ de$TSшл@PATCHЋ© Ф$Dх3шр R?1?Џ E#у#шр                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 ;*************************************************
;						*
;    Q/C Runtime Library Version 3.1 (Z80)	*
;Copyright (c) 1983 by Quality Computer Systems *
;						*
;		06/08/83			*
;************************************************
;
	.Z80
;
;Get byte from the address in BC and sign extend into HL
	PUBLIC	?gcf
?gcf:	LD	L,C
	LD	H,B
;Get byte from the address in HL and sign extend into HL
	PUBLIC	?gc
?gc:	LD	A,(HL)
;Put the accum into HL and sign extend thru H
	PUBLIC	?sxt
?sxt:	LD	L,A
	RLCA
	SBC	A,A
	LD	H,A
	RET
;Get byte from the address in HL and sign extend into DE
	PUBLIC	?gcs
?gcs:	LD	A,(HL)
	LD	E,A
	RLCA
	SBC	A,A
	LD	D,A
	RET
;Get a 16 bit integer from the address in BC into HL
	PUBLIC	?gf
?gf:	LD	L,C
	LD	H,B
;Get a 16 bit integer from the address in HL into HL
	PUBLIC	?g
?g:	LD	A,(HL)
	INC	HL
	LD	H,(HL)
	LD	L,A
	RET
;Get a 16 bit integer from the address in HL into DE
	PUBLIC	?gs
?gs:	LD	E,(HL)
	INC	HL
	LD	D,(HL)
	RET
;Store a 16 bit integer in HL at the address in DE
	PUBLIC	?p
?p:	LD	A,L
	LD	(DE),A
	INC	DE
	LD	A,H
	LD	(DE),A
	RET
;Inclusive OR HL and DE into HL
	PUBLIC	?o
?o:	LD	A,L
	OR	E
	LD	L,A
	LD	A,H
	OR	D
	LD	H,A
	RET
;Exclusive OR HL and DE into HL
	PUBLIC	?x
?x:	LD	A,L
	XOR	E
	LD	L,A
	LD	A,H
	XOR	D
	LD	H,A
	RET
;AND HL and DE into HL
	PUBLIC	?a
?a:	LD	A,L
	AND	E
	LD	L,A
	LD	A,H
	AND	D
	LD	H,A
	RET
;All of the following compare routines return with:
;	if condition = TRUE	HL = 1 and Z flag is reset
;	if condition = FALSE	HL = 0 and Z flag is set
;
;Test DE == HL
	PUBLIC	?e
?e:	CALL	?ucmp
	JR	NZ,?false
	OR	L	;reset Z to signal TRUE
	RET
;Test DE != HL
	PUBLIC	?ne
?ne:	CALL	?ucmp
	RET	NZ	;Z reset means DE != HL
	DEC	L	;set HL = 0
	RET
;Test DE >  HL (signed)
	PUBLIC	?gt
?gt:	EX	DE,HL
;Test DE < HL (signed)
	PUBLIC	?lt
?lt:	CALL	?cmp
	JR	NC,?false ;carry reset means DE >= HL
	OR	L	;reset Z to signal TRUE
	RET
;Test DE <= HL (signed)
	PUBLIC	?le
?le:	EX	DE,HL
;Test DE >= HL (signed)
	PUBLIC	?ge
?ge:	CALL	?cmp
	JR	C,?false ;carry set means DE < HL
	OR	L	;reset Z to signal TRUE
	RET
;Test DE > HL (unsigned)
	PUBLIC	?ugt
?ugt:	EX	DE,HL
;Test DE < HL (unsigned)
	PUBLIC	?ult
?ult:	CALL	?ucmp
	JR	NC,?false ;carry reset means DC >= HL
	OR	L	;reset Z to signal TRUE
	RET
;Test DE <= HL (unsigned)
	PUBLIC	?ule
?ule:	EX	DE,HL
;Test DE >= HL (unsigned)
	PUBLIC	?uge
?uge:	CALL	?ucmp
	JR	C,?false ;carry set means DE < HL
	OR	L
	RET
;All comparison routines arrive here if FALSE
?false: DEC	L	;set HL = 0 and set Z flag
	RET
;
;Common routine to compare DE and HL.
;
;For a signed compare the positive and negative numbers
;are first mapped into unsigned numbers by doing an
;exclusive or of the sign bit with one. This allows us
;to do an unsigned compare and still get the correct result.
;The mapping looks like this:
;
;	-32768 (0x8000) --> 0	  (0x0000)
;	-32767 (0x8001) --> 1	  (0x0001)
;	 .....
;	    -1 (0xFFFF) --> 32767 (0x7FFF)
;	     0 (0x0000) --> 32768 (0x8000)
;	     1 (0x0001) --> 32769 (0x8001)
;	 .....
;	 32766 (0x7FFE) --> 65534 (0xFFFE)
;	 32767 (0x7FFF) --> 65535 (0xFFFF)
;
;The comparison sets the following conditions:
;	Carry reflects the ordering (set means DE < HL)
;	Zero set means equality
;
?cmp:	LD	A,D	;map signed numbers into unsigned
	XOR	80H
	LD	D,A
	LD	A,H
	XOR	80H
	LD	H,A
?ucmp:	LD	A,D	;do unsigned compare
	CP	H
	JR	NZ,?ucm1
	LD	A,E
	CP	L
?ucm1:	LD	HL,1	;preset TRUE condition
	RET
;Shift DE arithmetically right by HL and return in HL
	PUBLIC	?asr
	PUBLIC	?asr1
?asr:	EX	DE,HL
?asr1:	DEC	E
	RET	M
	SRA	H
	RR	L
	JR	?asr1
;Shift DE arithmetically and logically left by HL and return in HL
	PUBLIC	?asl
	PUBLIC	?asl1
?asl:	EX	DE,HL
?asl1:	DEC	E
	RET	M
	ADD	HL,HL
	JR	?asl1
;Shift DE logically right by HL and return in HL
	PUBLIC	?lsr
	PUBLIC	?lsr1
?lsr:	EX	DE,HL
?lsr1:	DEC	E
	RET	M
	SRL	H
	RR	L
	JR	?lsr1
;Subtract (signed and unsigned) HL from DE and return in HL
	PUBLIC	?s
?s:	LD	A,E
	SUB	L
	LD	L,A
	LD	A,D
	SBC	A,H
	LD	H,A
	RET
;Form the two's complement of HL
	PUBLIC	?neg
?neg:	CALL	?com
	INC	HL
	RET
;Form the one's complement of HL
	PUBLIC	?com
?com:	LD	A,H
	CPL
	LD	H,A
	LD	A,L
	CPL
	LD	L,A
	RET
;Form logical not of HL
	PUBLIC	?n
?n:	LD	A,H
	OR	L
	JR	Z,?not1
	XOR	A	;set Z to indicate FALSE
	LD	H,A	;set HL=0 to indicate FALSE
	LD	L,A
	RET
?not1:	INC	L	;set HL=1 and reset Z to indicate TRUE
	RET
;Multiply (signed and unsigned) DE by HL and return in HL
	PUBLIC	?mult
?mult:	PUSH	BC	;save calling routine's stack frame pointer
	LD	B,H
	LD	C,L
	LD	HL,0
?mul1:	LD	A,C
	RRCA
	JR	NC,?mul2
	ADD	HL,DE
?mul2:	XOR	A
	LD	A,B
	RRA
	LD	B,A
	LD	A,C
	RRA
	LD	C,A
	OR	B
	JR	Z,?mulr
	XOR	A
	LD	A,E
	RLA
	LD	E,A
	LD	A,D
	RLA
	LD	D,A
	OR	E
	JR	NZ,?mul1
?mulr:	POP	BC	;restore calling routine's stack frame pointer
	RET
;Divide (signed) DE by HL and return quotient in C remainder in DE
	PUBLIC	?div
?div:	LD	A,H	;check for division by zero
	OR	L
	JR	NZ,?div0
	LD	E,L	;force remainder to zero
	LD	D,H
	RET
?div0:	PUSH	BC	;save calling routine's stack frame pointer
	LD	A,H
	XOR	D	;sign of quotient
	PUSH	AF	;save to fix sign at end
	LD	A,H
	OR	A	;divisor negative?
	JP	P,?div1
	CALL	?neg	;it is, so make it positive
?div1:	LD	A,D
	OR	A	;sign of dividend = sign of remainder
	PUSH	AF
	JP	P,?div2 ;if dividend positive, we're ready
	EX	DE,HL
	CALL	?neg	;make divisor positive
	EX	DE,HL
?div2:	CALL	?udiv0	;do unsigned division
	POP	AF	;remainder negative?
	JP	P,?div3
	EX	DE,HL
	CALL	?neg	;fix sign of remainder
	EX	DE,HL
?div3:	POP	AF	;quotient negative?
	POP	BC	;restore calling routine's stack frame pointer
	RET	P
	CALL	?neg	;fix sign of quotient
	RET
;Divide (unsigned) DE by HL and return quotient in C remainder in DE
	PUBLIC	?udiv
?udiv:	LD	A,H	;check for division by zero
	OR	L
	JR	NZ,?udiv0
	LD	E,L	;force remainder to zero
	LD	D,H
	RET
?udiv0: PUSH	BC	;save calling routine's stack frame pointer
	LD	B,H	;move divisor to BC
	LD	C,L
	LD	A,16	;set loop counter
	PUSH	AF
	EX	DE,HL
	LD	DE,0
?udiv1: ADD	HL,HL	;HL << 1 (hi order bit to carry)
	LD	A,E	;DE << 1 (lo order bit from hi order bit of HL)
	RLA
	LD	E,A
	LD	A,D
	RLA
	LD	D,A
	OR	E
	JR	Z,?udiv3
	LD	A,D	;test for BC > DE
	CP	B
	JR	C,?udiv3 ;check for B > D
	JR	NZ,?udiv2 ;check for B != D
	LD	A,E	;B == D, check for C > E
	CP	C
	JR	C,?udiv3
?udiv2: LD	A,L
	OR	1	;build quotient
	LD	L,A
	LD	A,E
	SUB	C
	LD	E,A
	LD	A,D
	SBC	A,B
	LD	D,A
?udiv3: POP	AF
	DEC	A	;check loop counter
	JR	Z,?udivr
	PUSH	AF
	JR	?udiv1
?udivr: POP	BC	;restore calling routine's stack frame pointer
	RET
;Select the appropriate case for a switch statement
	PUBLIC	?sw
?sw:	EX	DE,HL	;save val of expression in DE
	POP	HL	;get address of arg list
	PUSH	BC	;save calling routine's stack frame pointer
	LD	C,(HL)	;load no. of cases in C
	INC	HL	;ignore high order byte of count
?sw1:	DEC	C	;count down cases
	JP	M,?sw3	;no more cases -- goto default
	INC	HL	;val of expr == case val?
	LD	A,(HL)
	CP	E
	INC	HL
	JR	NZ,?sw2 ;no, goto next case
	LD	A,(HL)
	CP	D
	JR	Z,?sw3	;yes, goto matching label
?sw2:	INC	HL	;skip label for this case
	INC	HL
	JR	?sw1	;go try next case
?sw3:	INC	HL	;get address of this case label
	LD	A,(HL)
	INC	HL
	LD	H,(HL)
	LD	L,A
	POP	BC	;restore calling routine's stack frame pointer
	JP	(HL)	;go to case label
;Function to make a CP/M system call
;
;bdos(c, de)
;char c; (c -> C)
;int de; (de -> DE)
	PUBLIC	bdos?
bdos?:	PUSH	BC	;save calling routine's stack frame ptr
	PUSH	IX
	LD	HL,6	;get address of de
	ADD	HL,SP
	LD	E,(HL)	;load de
	INC	HL
	LD	D,(HL)
	INC	HL
	LD	C,(HL)	;load function number (c)
	CALL	5H
	LD	L,A	;for compatibility with CP/M 1.4
;WARNING: Read Appendix F in User's Manual before changing this
	PUBLIC	@patch
@patch:
	LD	H,B	;for compatibility with CP/M 1.4
	NOP		;space for CP/M-compatible systems patch
	POP	IX
	POP	BC	;restore calling routine's stack frame ptr
	OR	H	;set Z flag to reflect return value
	RET
;
;Standard entry/exit routines to do housekeeping
;
;Entry which sets stack frame pointer, but does not save registers,
; and does not allocate local space
	PUBLIC	?en
?en:	POP	DE	;get RET addr
	PUSH	BC	;save stack frame pointer
	PUSH	IX	; and index register
	LD	HL,0	;no local space needed
	ADD	HL,SP
	LD	B,H	;set local stack frame pointer
	LD	C,L
	PUSH	BC
	POP	IX	;set index register
	EX	DE,HL
	JP	(HL)	;return
;
;Entry which sets stack frame pointer, saves registers,
; but does not allocate local space
	PUBLIC	?enr
?enr:	POP	DE	;get RET addr
	PUSH	BC	;save stack frame pointer
	PUSH	IX	; and index register
	LD	HL,0	;no local space needed
	ADD	HL,SP
	LD	B,H	;set local stack frame
	LD	C,L
	PUSH	BC
	POP	IX	;set index register
	LD	HL,(r?1?) ;save Q/C "registers"
	PUSH	HL
	LD	HL,(r?2?)
	PUSH	HL
	LD	HL,(r?3?)
	PUSH	HL
	LD	HL,(r?4?)
	PUSH	HL
	LD	HL,(r?5?)
	PUSH	HL
	EX	DE,HL	;retrieve return address
	JP	(HL)
;
;Entry which saves registers, sets stack frame pointer,
; and allocates local space
	PUBLIC	?ensr
?ensr:	POP	HL	;get RET addr which contains local space needed
	PUSH	BC	;save stack frame pointer
	PUSH	IX	; and index register
	LD	A,(HL)	;get local space needed
	INC	HL
	LD	D,H	;save return address
	LD	E,L
	LD	H,(HL)	;finish getting local space
	LD	L,A
	INC	DE	;skip over argument to this routine
	ADD	HL,SP
	LD	SP,HL	;reserve local space
	LD	B,H	;set local stack frame
	LD	C,L
	PUSH	BC
	POP	IX	;set index register
	LD	HL,(r?1?) ;save Q/C "registers"
	PUSH	HL
	LD	HL,(r?2?)
	PUSH	HL
	LD	HL,(r?3?)
	PUSH	HL
	LD	HL,(r?4?)
	PUSH	HL
	LD	HL,(r?5?)
	PUSH	HL
	EX	DE,HL	;retrieve return address
	JP	(HL)
;
;Entry which sets stack frame pointer, allocates local space,
; but does not save registers
	PUBLIC	?ens
?ens:	POP	HL	;get RET addr
	PUSH	BC	;save stack frame pointer
	PUSH	IX	; and index register
	LD	A,(HL)	;get local space needed
	INC	HL
	LD	D,H	;save return address
	LD	E,L
	LD	H,(HL)	;finish getting local space
	LD	L,A
	INC	DE	;skip over argument to this routine
	ADD	HL,SP
	LD	SP,HL	;reserve local space
	LD	B,H	;set local stack frame
	LD	C,L
	PUSH	BC
	POP	IX	;set index register
	EX	DE,HL	;retrieve return address
	JP	(HL)
;
;Exit which restores registers and stack frame pointer
; but does not deallocate any local space
	PUBLIC	?exr
?exr:	EX	DE,HL	;save function's return value (if any)
	POP	HL	;discard extra RET address
	POP	HL	;restore registers
	LD	(r?5?),HL
	POP	HL
	LD	(r?4?),HL
	POP	HL
	LD	(r?3?),HL
	POP	HL
	LD	(r?2?),HL
	POP	HL
	LD	(r?1?),HL
	EX	DE,HL	;restore return value
	POP	IX	;restore index register
	POP	BC	; and stack frame pointer
	RET		;return to original caller
;
;Exit which restores registers and stack frame pointer
; and deallocates local space
	PUBLIC	?exrs
?exrs:	EX	DE,HL	;save function's return value (if any)
	POP	BC	;RET addr = addr of local space to deallocate
	POP	HL	;restore registers
	LD	(r?5?),HL
	POP	HL
	LD	(r?4?),HL
	POP	HL
	LD	(r?3?),HL
	POP	HL
	LD	(r?2?),HL
	POP	HL
	LD	(r?1?),HL
	LD	A,(BC)	;get amount of local space
	LD	L,A
	INC	BC
	LD	A,(BC)
	LD	H,A
	ADD	HL,SP
	LD	SP,HL	;deallocate local space
	EX	DE,HL	;restore return value
	POP	IX	;restore index register
	POP	BC	; and stack frame pointer
	RET
;
;Exit which restores stack frame pointer, deallocates local space
; but does not restore registers
	PUBLIC	?exs
?exs:	EX	DE,HL	;save function's return value (if any)
	POP	HL	;address of local space to deallocate
	LD	A,(HL)	;get amount of local space
	INC	HL
	LD	H,(HL)
	LD	L,A
	ADD	HL,SP
	LD	SP,HL	;deallocate local space
	EX	DE,HL	;restore return value
	POP	IX	;restore index register
	POP	BC	; and stack frame pointer
	RET
;Define C "register" variables
;
	DSEG
	PUBLIC	r?1?,r?2?,r?3?,r?4?,r?5?
r?1?:	DEFS	2
r?2?:	DEFS	2
r?3?:	DEFS	2
r?4?:	DEFS	2
r?5?:	DEFS	2
;
;Define end-of-memory symbols for M80 and RMAC linkers and
;	Q/C memory allocation functions
	PUBLIC	$MEMRY,?MEMRY,@free?
$MEMRY:
?MEMRY:
@free?: DEFS	2

	END
/********************************************************/
/*							*/
/*		Q/C Compiler Version 3.1		*/
/*		  Standard Definitions			*/
/*							*/
/*     Copyright (c) 1983 Quality Computer Systems	*/
/*							*/
/*			06/30/83			*/
/********************************************************/

#define Z80	TRUE

/* Uncomment the following line to compile only
 * pure C code.  When PORTABLE is defined the
 * compiler contains the C version of all
 * functions, so the compiler is portable.

#define PORTABLE	1
*/

/*	Define code generation parameters	*/

#define DEFASM		'm'	/* default assembler: 'm'-M80, 'a'-RMAC */
#define MAXREG		5	/* max number of register variables */
#define MAXINCL 	3	/* max depth for nested #include */
#define MAXIF		3	/* max depth for nested #if */
#define PREG		1	/* the primary register (HL) */
#define SREG		2	/* the secondary register (DE) */
#define WREG		2	/* the work register (DE) */
#define SFP		3	/* the stack frame pointer (BC) */
#if Z80
#define XREG		4	/* Z80 index register (IX) */
#endif
#define EQ		1	/* codes for binary operator routine */
#define NE		2
#define LE		3
#define GE		4
#define LT		5
#define GT		6
#define CODE		1	/* values for segtype:	code segment */
#define DATA		2	/*			data segment */
#define INITSIZE	128	/* max size array that will get default */
				/* initialization unless -I flag is used */
#define FILNAMSIZE	14	/* size of a CP/M filename */
#define ASMULINE	'@'	/* What '_' changes to in assembler	*/
#define ASMRTS		'?'	/* To set off created names with	*/

/*	Define peephole optimization flags	*/

#define JUMP		1
#define JUMPTRUE	2
#define JUMPFALSE	3
#define PREGSYM 	4
#define ADDRSFP 	5

#define TESTED		1
#define REGH		2
#define REGL		3

/*	Define the type table		*/

struct typeinfo {
	char	 t_code;	/* int, ptr to, array of, etc. */
	unsigned t_size;	/* size of one thing of this type */
	unsigned t_refs;	/* # of vars pointing to this entry */
	struct typeinfo 	/* the 'int' of 'ptr to int' or */
		*t_base;	/*	the 'ptr' of 'array of ptrs' */
	struct typeinfo	 	/* next type of this class */
		*t_next;
	};

#define TSSIZE		30	/* size of type parsing stack */

struct parsestack {
	struct typestack {
		char	 t_code;
		unsigned t_size;
		} *curr_ptr, stack[TSSIZE];
	};

/*
 *	Type codes:
 *
 *	T_xxx is the code for the type 'xxx'.
 *	S_xxx is the size, in bytes, of one item of type 'xxx'.
 *
 *	T_NONE is assumed to be non-negative, and less than all other
 *		type codes.
 *	All types between T_NONE and T_SIMPLE are 'simple' types:
 *		they may be returned by functions.  All other types
 *		are 'non-simple' and may not be returned by functions.
 */

#define T_NONE		0

#define T_CHAR		1
#define		S_CHAR	 	1
#define	T_SHORT		2
#define 	S_SHORT 	2
#define T_INT		3
#define		S_INT	 	2
#define	T_UNSIGNED	4
#define 	S_UNSIGNED	2
#define T_LONG		5
/*#define			S_LONG	4	*/
#define T_PTR		6
#define		S_PTR		2

#define T_SIMPLE	T_PTR

#define T_LABEL 	7		/* statement label */
#define T_STRUCT	8
#define T_UNION 	9
	/* The following are all compound types */
#define T_ARRAY 	10		/* array of ... */
#define T_FUNC		11		/* function returning ... */
#define 	S_FUNC		0	/* functions have no size */
#define T_MAX		12

/*	Define the symbol table parameters	*/

#define STARTGLB symtab
#define STARTLOC (symtab+(nsym-1))
#define NAMEMAX  8
#define NAMESIZE (NAMEMAX+1)

/*	Define symbol table entry format	*/
struct st {
	char	 st_sc; 	/* storage class */
	struct typeinfo		/* variable type */
		 *st_type;
	int	 st_info;	/* stack offset for local auto	*/
				/* register # for local register*/
				/* offset for structure member	*/
				/* label # for local static	*/
				/* label # for statement label	*/
	char	 st_name[NAMESIZE];
	char	 st_idset;	/* tag/member or variable */
	};

/*	Define possible entries for "st_idset"	*/
#define ID_VAR		1
#define ID_STRUCT	2

/*	Define possible entries for "st_sc"  */

#define SC_NONE 	0
#define SC_GLOBAL	1	/* unspecified external */
#define SC_ST_GLB	2	/* static ... (global) */
#define SC_EXTERN	3	/* extern ... */
#define SC_STATIC	4	/* static ... (local) */
#define SC_AUTO 	5	/* auto ... or unspecified local */
#define SC_ARG		6	/* like auto, but for arg on stack */
#define SC_REG		7	/* register ... */
#define SC_MEMBER	8	/* member of, or tag for, structure */
				/* distinguished by st_ident */
#define SC_TYPE 	9	/* typedef ..., or struct xxx */

/*	Define possible entries for "st_info"	*/

#define DECL_GLB	1
#define DECL_LOC	2

/*	Define expression operand for parser	*/

struct operand {
	char		op_load;
	struct st	*op_sym;
	int		op_val;
	struct typeinfo *op_type;
	};

/*	Define possible entries for "op_load"	*/

#define EXPRESSION	0	/* an operand whose value is in preg */
#define LOADVALUE	01	/* an op whose value needs loading */
#define LOADADDR	02	/* an op whose address needs loading */
#define LVALUE		04	/* an lvalue */
#define CONSTANT	010	/* a constant expression */
#define CONSTADDR	020	/* a constant address expression */
#define CONSTOFF	040	/* a stack var with constant offset */
/* This is the result of constant assignment statements */
#define ASGCONST	0100

/*	Define the switch/loop queue		*/

struct swq {
	int loop;
	int exit;
	};

/*	Define the switch case table		*/

struct case_table {
	int value;
	int label;
	};

/*	Define the literal pool 		*/

/*	#define LITMAX	(litpool+litpsize-1)	*/
#define LITSIZE 128

/*	Define the macro (#define) pool 	*/

#define MACPTR	8
#define MACSIZE 10

/*	Define the input line			*/

#define LINESIZE 128
#define LINEMAX (LINESIZE-1)

/*	Define conditional compilation parameters	*/

#define IGNORE	0
#define PROCESS 1
#define SKIP	2
/* end of CSTDDEF.H */
                                                                                                                                                                                                                                                                /************************************************/ /*						*/ /*	   Q/C V3.1 Utility Library		*/ Copyright (c) 1983 Quality Computer Systems	*/ /*						*/ /*		   07/21/83			*/ /************************************************/  #include "qstdio.h"  format a string sprintf(nargs) int nargs;{int _cat();		function _fmt will use as output*p;*s; p&nargs + nargs;	address of first arg (string)s*p; 		point to the string*s'\0';		initialize the string_fmt(_cat, s, p - 1);} add a character to the end of a string (internal routine for sprintf) _cat(c, s) c, *s;{while (*s++);			find end of string*(s - 1)c;			add c at old end*s'\0';			new end of string} internal routine for printf/fprintf/sprintf - do actual formatting _fmt(func, dest, pargs) int (*func)(), dest;	output is sent to dest by calling func *pargs;{*s, *fmt;int c, base, *arg;num[7];			hold largest number*itob(); argpargs;fmt*arg--;			first arg is the formatwhile (c*fmt++) {c != '%') { 	ordinary character(*func)(c, dest);continue;}switch (c*fmt++) {	handle conversion charactercase '\0':		early end of formatreturn;case 'o':		octal numberbase8;goto convert;case 'x':		hex numberbase16;goto convert;case 'u':		unsigned decimal numberbase10;goto convert;case 'd':		signed decimal numberbase-10;convert:sitob(*arg--, num, base);while (*s)(*func)(*s++, dest);continue;case 'c':		format a single character(*func)(*arg--, dest);continue;case 's':		format a strings*arg--;while (*s)(*func)(*s++, dest);continue;default:		not a format; just copy c(*func)(c, dest);continue;}}} convert an integer to a string in any base (2-36) *itob(n, s, base) int n, base; *s;{unsigned int u;*p, *q;negative, c; n < 0 && base-10) {negativeTRUE;u-n;} {negativeFALSE;un;}base-10)	signals signed conversionbase10;pqs;do {			generate digits in reverse order(*pu % base + '0') > '9')*p += ('A' - ('9' + 1));++p;} while ((u /= base) > 0);negative)*p++'-';*p'\0';		terminate the stringwhile (q < --p) {	reverse the digitsc*q;*q++*p;*pc;}return s;} convert an ASCII decimal string to integer atoi(s) *s;{int n, sign; while (isspace(*s))++s;sign1;*s'-' || *s'+')sign(*s++'+') ? 1 : -1;n0;while (isdigit(*s))nn * 10 + *s++ - '0';return (sign * n);} add second string to end of first string *strcat(s1, s2) *s1, *s2;{*p;*strcpy(); ps1;while (*p)		find end of first string++p;strcpy(p, s2);		copy 2nd string at end of 1streturn s1;} copy second string into first string *strcpy(s1, s2) *s1, *s2;{*p; ps1;while (*p++*s2++)	copy 2nd string into 1st;return s1;} copy second string into first string & point to end *strmov(s1, s2) *s1, *s2;{*p; ps1;while (*p*s2++)	copy 2nd string into 1st++p;return p;} find the length of a string strlen(s) *s;{int len; len0;while (*s++)++len;return len;} compare two strings strcmp(s1, s2) *s1, *s2;{while (*s1*s2) {*s1'\0')return 0;	they're equal to the end++s1; ++ s2;}return (*s1 - *s2);} convert a lower case letter to upper case chupper(c) c;{return (islower(c) ? c - ('a' - 'A') : c);} convert an upper case letter to lower case chlower(c) c;{return (isupper(c) ? c - ('A' - 'a') : c);} Is c a punctation character? ispunct(c) int c;{return (isprint(c) && !isalnum(c) && c != ' ');} Is c an ASCII control character? iscntrl(c) int c;{return (isascii(c) && !isprint(c));} Is c a letter or a number isalnum(c) int c;{return (isalpha(c) || isdigit(c));} Is c a letter isalpha(c) int c;{return (isupper(c) || islower(c));} Is c an upper case letter isupper(c) int c;{return (c >= 'A' && c <= 'Z');} Is c a lower case letter islower(c) int c;{return (c >= 'a' && c <= 'z');} Is c a decimal digit isdigit(c) int c;{return (c >= '0' && c <= '9');} Is c white space isspace(c) c;{return (c' ' || c'\t' || c'\n'|| c'\r' || c'\f');} Is c an ASCII character? isascii(c) int c;{return (c >= '\0' && c <= '\177');} Is c a printable character? isprint(c) int c;{return (c >= ' ' && c <= '~');} find the first occurrence of a given character *index(s, c) *s; int c;{while (*s) {*sc)return s;++s;}return NULL;} return upper case form of c even if c is not a letter toupper(c) int c;{return (c - ('a' - 'A'));} return lower case form of c even if c is not a letter tolower(c) int c;{return (c - ('A' - 'a'));} find the minimum of two integers imin(i, j) int i, j;{return (i < j) ? i : j;} find the maximum of two integers imax(i, j) int i, j;{return (i > j) ? i : j;} get the byte at address peek(address) *address;{return (*address & 0xFF);} put value in the byte at address poke(address, value) *address, value;{int oldval; oldval(*address & 0xFF);*addressvalue;return oldval;} get the word at address wpeek(address) int *address;{return *address;} put value in the word at address wpoke(address, value) int *address, value;{int oldval; oldval*address;*addressvalue;return oldval;} end of CUTILIB.C(i, j) int i, j;{return (i > j) ? i : j;} get the                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 ГЙ      Usage: expand infile outfile
 r Can't open: %s
 Can't allocate buffer space
 w Can't open: %s
 Can't allocate buffer space
 else char   ==   =  register  struct  /*   */ if ( Can't close: %s
 * щНУНєья!
 	Нэ Н/Кх!	е! еНдССН°! 	Нэ##Нэе!'еНСС"НќК2!)е! 	Нэ##Нэе! еНдСССН°Е!  еНjССННќКU!9е! еНдССН°*еНыеНєСС*е!  еНСС! 	Нэ Нэе!VеНСС"НќК°!Xе! 	Нэ Нэе! еНдСССН°! 	е!  еНjССННќКЧ!hе! еНдССН°*е! 	НэеНєСС*е!  еНСС*еН1С"яяН)КA* Н9К"!
 е*еНw
СС*Гя!…е*еНюССГ>!Ље*еНюССГ>!ђе*еНюССГ>!•е*еНюССГ>!™е*еНюССГ>!Је*еНюССГ>!«е*еНюССГ>!Їе*еНюССГ>!іе*еНюССГ>!	 е*еНw
СС!	 е*еНw
СС!	 е*еНw
СС!	 е*еНw
ССГ>*е*еНw
ССГ>Н=   м Я Т Е ё Ё  € x h X H 8 (пГх!
 е*еНw
СС*еНpС#НќКz!ёе! 	Нэ Нэе! еНдСССН                                                  Ђ     Too many command line args
$ НєЂя*Ї#"Ї+Нп"«i`"±6 *#"+)л!Ѓе*±СН*«+"«#|µКЖ*Ї#"Ї+Нп"­*©Г¦*­еНQСВ* Н!КK!	 е!µеН^ССН°*­"©*#"+)л!Ѓе*±#СН*­" Н)ВµГ*­" Н!КЊ!  "©"­Гµ*­еНQСКЈ!  "©"­ГµН= " w  $Џ*±#"±е*­С}Г*±#"±6 *е!ЃеНРССН°Н Ђ НЏ!w
е*е! 	Нэ)л! 	еНpСССБЙLST: Нq!"б!  "г*г
 Н/В=ГR*б
 "б*г#"гГ*бНх! ННќВRГ)*г
 Н8Кd!  Гk! 	НэНпеНЏСГЫ! "з! 	Нэе!  еН‚СС"еГк! "з! 	НэеН1Се!еН*ССНќКѕ! "еГТ! 	Нэе!¤еН
СС"еГк!  ГkН= W “R vХ*е#НќКъ!  Гk! 	Нэ#НпеНЏСB Н!К*з Н"з*б#е*б НэСН*беНпл*зНС}*б###6 #6 *б 6 #6*б	 е*еС}*б|µНЗНq! 	Нэ"б	 Нп Н!КЈ*беНп НС}!  Гщ*бНх! НµКЪ*бНх! ННќКТ! е*беНw
СС*беНрС*беНп НС}*б	 НпеН…С|µНЗНq! 	еНэ#СН+Нп"б|µК.*бе! 	НэеНw
ССГНЗНq! 	Нэ"б+НќКћ*l"гяяН)К]!яя"lГ†! е!  еН^СС"г Н!К†! е!
 "геН^СС*г Н!К!яяГ›*гГk	*бНх! ННќВА*бНх!` НµКГ! КМ!яяГk	*б###еНэ+СН  Н8Кю*б#еНэ#СН+Нх!я НГ	*беНp	С"г*бНх! НµК	*гГk	*г Н!К6	*беН1С"г*г Н!ВI	*г#НќКb	*беНп  НС}!яяГk	*г Н|µНЗНq! 	Нэ"бНх! ННќКМ	*б е! еНjССННќКј	*беНп@ НС}!яяГr
*беНп НС}*б	 Нпе*б Нэе*б НэеНЃССС"г  Н9К<
*гНќК
*беНп  НС}Г+
*беНп@ НС}*б###6 #6 !яяГr
*б###е*г+СН*б#е*б Нэ#СН*б НэНх!я Н|µНЗНq! 	Нэ"г! 	Нэ"б*г Н!КЖ
*б
 Н!Кі
! е*геНw
СС! е*беН^СС*бГл*гНх! ННќКЮ
!яяГл*б
 Н!Кщ
*гНх! ННќК! е*геНw
СС#НќК!яяГл*г	 Нп Н!К<! е*беН^СС*бГл*гНх! ННќК—*г#е*г е! еНjССНСННќК‡*геНп@ НС}!яяГл*геНп НС}*г###е*г НбНэН8КЗ*геНрС#НќКЗ!яяГл*г###еНэ#СН*г#еНэ#СН+е*бС}|µНЗНq! 	Нэ"б	 Нп Н!К!  Гµ*бНх! ННќВ5*бНх!@ НµК8! КA!яяГµ*б###Нэ Ђ лНМЂ НЁ"г*б###6 #6 *б	 Нпе*б#е*б НэСНе*геН†СССл*гН0КІ*беНп@ НС}!яяГµ!  |µНЗНЏ! 	НэНх! НµВЮ! 	НэНќКб! В! 	Нэ#е! 	Нэ е! 	НэСНСН! 	НэеНп НС}БЙНЏ! 	НэНх! НµВЂ! 	еНэЂ лНМСНµКl! 	Нэ е! 	НэЂ НЁСНГЂ! 	НэеНппяНС}БЙНq! 	Нэ"б  Н/В­*б Н0В­Нц"еНќК¶!яяГ*ееН=С"г! 	Нэе*г#еНѕСС#НќВо! е*г#еН^ССя Н!Кч!яяГ*ге*б#С}*е|µНЗНqНц"гНќК!яяГ|*геН=С"б! 	Нэе*б#еНѕСС#НќКI!яяГ|! е*б#еН^СС! е*б#еН^ССя Н!Кt!яяГ|*б6*г|µНЗНq! 	Нэ"бНБ Н!КќН°! 	НэеН=С"еНќВФ*еНх! ННќВФ*бЂ лНМл|µКЧ! Ка!яяГЃ*еНх!  НµКц!  ГЃ*бЂ лНМ"б!  "г*гл*бН0В#Гk*г#"гГ	! е! 	НэеН^СС! е*е#еН^ССКX*ееНп  НС}Гk! 	еНэЂ СНГ! е!Ђ еН^СС*гЂ НЁ|µНЗНq! 	Нэ"бНБ Н!КўН°! 	НэеН=С"еНќВй*еНх! ННќВй*бЂ лНМл|µВй*еНх!@ НµКм! Кх!яяГЂ*бЂ лНМ"б!  "г*гл*бН0В"Гj*г#"гГ! е! 	НэеН^СС! е*е#еН^ССКW*ееНп@ НС}Гj! 	еНэЂ СНГ! е!Ђ еН^СС*гЂ НЁ|µНЗНq! 	НэеН=С"бНќКЈ!яяГс*бНп"г*б6 *г@ НµКД!яяГс*г НµКо! е*б#еН^ССя Н!Ко!яяГс!  |µНЗН™юя! "бЕ*беН=ССН  Н)К3НыНпНќК)*бГ6*б#"бГ!яя|µНа Нq! 	Нэ"бъя"б  Н8Кc*б
 Н/КЁ*б)л!оНэ"гНќКў*б)л!ое!% еНjССН"г  Н)Кў*г6 *гГ«!  |µНЗ!  е!  еН^ССЙНq! 	Нэ"г! 	Нэ"беН1С"б#Нх!: Н)Кч*г#"г+6 Г,*бНпеНбСНќК!яяГ,*г#"г+е*бНпАяС}*б##"б!  "й! "е*е Н9ВQГ©*е#"еГ8*б#"б+Нп"зНќВn*з. Н!В©*зеН¶СК‚!яяГ,*з* Н!К—!? "йГ©*г#"г+е*зС}ГG*е Н9ВВГФ*е#"еГ©*г#"г+е*йС}Гё*з  Н)Кй*з. Н)К*б#"б+Нп"з  Н)К*з. Н)К!яяГ,*з|µК+*б#"б+Нп"з!  "й*е Н9ВJГ™*е#"еГ1*зНќВ™*зеН¶СКd!яяГ,*з* Н!Кy!? "йГ™*г#"г+е*зС}*б#"б+Нп"зГ@*з  Н)К®*е Н!Вє*з* Н!КЖ*бНп"з*з  Н)КШ!яяГ,*е Н9ВсГ*е#"еГШ*г#"г+е*йС}Гз*е$ Н/ВГ)*е#"еГ*г#"г+6 Г!  |µНЗНq! 	Нэ"б*бе*бНпеНЏСС}ґК^*б#"бГ>! 	Нэ|µНЗНq! 	Нэ"бН¦л*бНBКЉ!  ГЎ*ле*бС"л*бл*ллНЉ|µНЗНєяяi`л*лНЉл*nНЉµН  ! е!  еН^СС НµКи! е!  еН^ССГл!яя|µЙ                                                                                                                           яяиН™щя! 	Нэ"й++"й##Нэ"г*г#"г+Нп"е|µК*е% Н)КЛ! 	Нэе*еге! 	Нэге!ЖгйССГЊ*г#"г+Нп"еГвГ! "зГ ! "зГ !
 "зГ !ця"з*й++"й##НэеЕ*зеНССС"б*бНп|µКO! 	Нэе*б#"б+Нпге! 	Нэге!JгйССГГЊ! 	Нэе*й++"й##Нэге! 	Нэге!wгйССГЊ*й++"й##Нэ"б*бНп|µКї! 	Нэе*б#"б+Нпге! 	Нэге!єгйССГЊГЊ! 	Нэе*еге! 	Нэге!ЭгйССГЊН= s |c Rd ъu сx иo Я  ЬВГЊНа Нq! 	Нэ  Н/К-! 	НэцяН!КF! "з! 	НэН‘"бГV!  "з! 	Нэ"б! 	НэцяН!Кo! 	6
#6 ! 	Нэ"е"г*ге*бл! 	НэНюл0 С}9 Н0К­*геНп С}*г#"г*бл! 	НэНю"б  НBВ|*з|µКа*г#"г+6-*г6 *г+"гл*еНAК*еНп"й*е#"е+е*гНпС}*ге*йС}Ге! 	Нэ|µНЗНq! 	Нэ"г! 	Нэ"б*бе*гНхбНпН!Кx*бНпНќКg!  ГЉ*б#"б*г#"гГA*бе*гНхбНплНЉ|µНЗНq! 	Нэ"беН-СК®*баяГ±*б|µНЗНЏ! 	НэеН™СКЭ! 	НэеНЅСНќКЭ! |µБЙНЏ! 	НэеН	СВ! 	НэеН-СК! |µБЙНЏ! 	НэA Н8К)! 	НэZ Н9|µБЙНЏ! 	Нэa Н8КM! 	Нэz Н9|µБЙНq! 	Нэ"б  Н!В”*б	 Н!В”*б
 Н!В”*б Н!В”*б Н!|µНЗНЏ! 	Нэ  Н8К№! 	Нэ Н9|µБЙНЏ! 	Нэ  Н8КЭ! 	Нэ~ Н9|µБЙ?asr1
	EXi`~oџgЙ~_џWЙi`~#foЙ^#VЙ}|Й}іo|ІgЙ}«o|ЄgЙ}Јo|ўgЙН]ВSµЙН]А-ЙлНUТSµЙлНUЪSµЙлН]ТSµЙлН]ЪSµЙ-ЙzоЂW|оЂgzјВd{Ѕ! Йлш||g}oГiлш)Гwлш|·g}oГ~{•ozњgЙН–#Й|/g}/oЙ|µК¦ЇgoЙ,ЙЕDM!  yТґЇxGyO°ККЇ{_zWіВ®БЙ|µВФ]TЙЕ|Єх|·таН‘z·хтллН‘лНстчлН‘лсБрН‘Й|µВ]TЙЕDM>хл  ){_zWіК2zёЪ2В({№Ъ2}цo{‘_zWс=К;хГБЙлбЕN#ъW#~»#ВR~єКW##ГB#~#foБйЕ! 9^#V#NН o` БґЙСЕ!  9DM*бе*ге*ее*зе*йелйСЕ!  9DMлйбЕ^#V#л9щDM*бе*ге*ее*зе*йелйбЕ^#V#л9щDMлйлбб"йб"зб"еб"гб"блБЙлБб"йб"зб"еб"гб"б
o
g9щлБЙлб~#fo9щлБЙелйСЕ!  9DMлйбЕ^#V#л9щDM*бе*ге*ее*зе*йелйбЕ^#V#л9щDMлйлбб"йб"зб"еб"гб"блБЙлБб"йб"зб"еб"гб"б
o
g9щлБЙ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                #include "qstdio.h"
main()	{
	printf("Hello, world\n");
	}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ГЕQ/C Compiler  V3.1 (Z80) (8080)       
QRESET customization program for %s%s  CC.COM .COM CC.COM 

 

Error reading %s 
Your CP/M TPA size is: %uK
 
Error writing %s 
%s has been changed %s
 %s
 
Can't tell whether this is for 8080 or Z80
 
This version of QRESET only works with Q/C %s
 
%s does not look like a Q/C Compiler -
  either the file is damaged, or you have changed
  the order of global variables in CGLBDEF.C
 
No changes made ^C 
Currently compiler will generate code for %s RMAC M80 
Enter A (RMAC), M (M80) or <CR> for no change:  ASM MAC 
Compiler changed to generate code for %s
 RMAC M80 
Compiler is currently in %s mode verbose terse 
Enter T (terse), V (verbose) or <CR> for no change:  
Compiler changed to %s mode
 verbose terse 
Compiler currently pauses after %d error%s
  s Enter new size or <CR> for no change:  New error pause count = %d
 
Compiler currently %s large variables initializes does not initialize 
Enter I (initialize), N (do not initialize) or <CR> for no change:  
Compiler changed to %s large variables
 initialize skip initialization of 
Compiler currently %s redirection includes excludes 
Enter R (redirect), N (do not redirect) or <CR> for no change:  
Compiler changed to %s redirection
 include exclude SYMBOL TABLE size entries TYPE TABLE size types MACRO (#define) POOL size characters SWITCH/LOOP nesting depth levels SWITCH/CASE TABLE size cases 
%s is: %d %s
 Enter new size or <CR> for no change:  New %s is: %d %s
 * щНuН)mя!& }2А(!)е!е!е! еНsСССС!™ 	НQ' Н„'Кi!„ 	е!— 	НQ'##НQ'еНo$СС!… 	НC': Нu'К0!† 	НC'Нс'КD!„ 	е!QеН0$ССГf!„ 	е!. еНЬ&ССНс'Кf!„ 	е!XеН0$ССГw!„ 	е!]еНo$СС! 	е!„ 	е!  еНСССНZ'#Нс'К«!dе*_ еНQСС!„ 	еН“С! 	НQ'е! 	е!Ђ еН•СССНс'КЮ!gе!„ 	е! еНsСССН	! 	НQ'еН™СЕ! 	е!„ 	еН¶СССНZ'! еН'С"'!zе*' лНR(е! еНsСССНO'еНhСНO'еНЛС*%Нс'К>Н(! 	е!„ 	е! еНСССНZ'#Нс'Вy! 	НQ'е! 	е!Ђ еНљСССЂ Нѓ'К’!—е!„ 	е! еНsСССН	!©е!„ 	е! еНsССС! 	НQ'еН™СНT)“ НЕ(!  "9'!еН©$С";'! 	НQ'"5'!  "7'*;'Ђ НЮ'л*7'Нѓ'В	Г 	*5'#"5'*7'#"7'ГЪ*5'е!еНЪ$ССНс'К	! "9'Г 	Гр*5'е*;'#С"5'*9'Нс'ВB	*5'НI'!V Н}'КQ	! 	НQ'еНр
С!еН©$С";'*5'е!е*;'еНa
ССС  Н}'К}	НЪ
Г”	*5'е*;'С"5'*7'л*;'"7'!  "#*7'Ђ Нѓ'Вє	Г=
*5'#"5'*7'#"7'Гљ	*5'е!еНЪ$ССНс'Къ	!ѕе!е! еНsССС!z "#*5'е!еН©$С#С"5'Г=
*5'е!еНЪ$ССНс'К:
!Ве!е! еНsССС!8 "#*5'е!еН©$С#С"5'Г=
Г©	*#  Нu'КY
!Же! еНsССН(*5'|µН)НЕ(! 	НQ'"7'! 	НQ'"5'! 	еНQ'+СНZ'  Н„'Књ
*5'НC'|µКњ
! КД
*5'е*7'НI'бНC'Н}'ВД
*5'#"5'*7'#"7'Гx
*5'е*7'НI'бНC'лНЮ'µН)!уе!е! еНsСССН(ЙНг(!#е! 	НQ'е! еНsССС!Lе! еНsСС!~е! еНsССН(БЙ!«е! еНsССН	ЙНЕ(Н•еНf%С"5' Нu'К`!је! еНsССН	*5'|µН)Нн(щя! 	НQ'"5'*#8 Нu'КO*5' "7'!їе*7'НQ'a Нu'К¦!нГ©!те! еНsССС!це! еНsССН9";'*;'a Н}'Ки*;'m Н}'Ки*;'
 Н}'Вґ*;'
 Н}'КO*7'е*;'СНZ'*5' е*;'a Нu'К!'Г!+еНo$СС!/е*;'a Нu'К;!ZГ>!_е! еНsССС! "%*5' "7'!cе*7'НQ'|µКn!…Гq!Ќе! еНsССС!“е! еНsССН9";'*;'t Н}'К°*;'v Н}'К°*;'
 Н}'В|*;'
 Н}'Кщ*7'е*;'v Нu'СНZ'!Йе*7'НQ'|µКе!зГи!пе! еНsССС! "%*5'
 "7'!хе*7'НQ'е*7'НQ'+Нс'К!!"Г$!#е! еНsСССС!%е! еНsССЕНСеНѓ#С"9'|µКr!Lе*9'е! еНsССС*7'е*9'СНZ'! "%*5' "7'!hе*7'НQ'|µК‘!ЏГ”!›е! еНsССС!Їе! еНsССН9";'*;'i Н}'КУ*;'n Н}'КУ*;'
 Н}'Вџ*;'
 Н}'К*7'е*;'i Нu'СНZ'!фе*7'НQ'|µК!Г!(е! еНsССС! "%*5' "7'!?е*7'НQ'|µК;!bГ>!kе! еНsССС!tе! еНsССН9";'*;'r Н}'К}*;'n Н}'К}*;'
 Н}'ВI*;'
 Н}'КЖ*7'е*;'r Нu'СНZ'!µе*7'НQ'|µКІ!ЪГµ!ве! еНsССС! "%Н4) НЕ(! 	НQ'"5'"7'е!ке*7'НQ'е!ьеН†ССССНZ'*5'##"7'е!е*7'НQ'е!еН†ССССНZ'*5' "7'е!е*7'НQ'е!4еН†ССССНZ'*5' "7'е!?е*7'НQ'е!YеН†ССССНZ'*5' "7'е!`е*7'НQ'е!wеН†ССССНZ'Н)Н)чя!}е! 	НQ'е! 	НQ'е! 	НQ'е! еНsл!
 9щл!Ње! еНsСС! 	еЕНСеНѓ#ССНZ'µК!іе! 	НQ'е! 	НQ'е! 	НQ'е! еНsл!
 9щл! "%! 	НQ'Г! 	НQ'|µНT)	                                                 Ђ     Too many command line args
$ Н)Ђя*Q#"Q+НC'"Mi`"S6 *!#"!+)л!#е*SСНZ'*M+"M#|µКh*Q#"Q+НC'"O*KГH*OеНL&СВҐ*! Нu'Кн!	 е!WеНІ(ССН	*O"K*!#"!+)л!#е*S#СНZ'*O" Н}'ВWГҐ*O" Нu'К.!  "K"OГW*OеНL&СКE!  "K"OГWН‘( "   Ж1*S#"Sе*OС}ГҐ*S#"S6 *!е!#еНМССН	НT)Ђ Can't open:  Нг(!†е*_ еНQСС! 	НQ'е*_ еНQСС! еНИСБЙA:$$$.SUB НЕ(!a "5'!  "7'*7'
 Нѓ'ВъГ*5'
 "5'*7'#"7'ГЧ*5'еНћСГж! 	НQ'|µК!ѕеН
СН	Н)Н)юя! 	НQ'е!Q е*[ еН,СССНс'КF!  ГlЕ! 	НQ'е!
 еНЬ&СССНZ'µКeНO'6 ! 	НQ'|µНT) Нг(!Ке*] е! 	НQ')л! 	еНЙ СССБЙ*[ еН„СЙНЕ(! 	НQ'"5'	 НC' Нu'КС*5'еНC' Нn'С}!  Г'*5'НI'! Нn'µК*5'НI'! Нn'Нс'К ! е*5'еНКСС*5'еНCС*5'еНC' Нn'С}*5'	 НC'еН™С|µН)НЕ(! 	НQ'"9'! 	НQ'+Нс'КЦ*9'е! 	НQ'С}!
 е*9'еНІ(СС! е!
 еНІ(СС*9'##";'*9'#НC'"7'*7'+"7'#|µКЁ*9'#"9'+е*;'#";'+НC'С}ГЃ*9'6
*9'#6 ! 	НQ'НC' Нu'КМ!  ГУ! 	НQ'ГL! 	еНQ'+СНZ'  Н„'К! 	НQ'еН„С"5'яяН}'К*9'#"9'+е*5'С}
 Нu'ВГЦ*9'6 *5'#Нс'К<*9'л! 	НQ'Нu'КE!  ГL! 	НQ'|µН)НЕ(! 	еНQ'#СНZ'+НC'"5'|µКЃ*5'е! 	НQ'еНКССГTН)НЕ(! 	НQ'"5'+Нс'Кс*Е "7'яяН}'К°!яя"Е ГЩ! е!  еНІ(СС"7' Нu'КЩ! е!
 "7'еНІ(СС*7' Нu'Кл!яяГо*7'Гѕ*5'НI'! Нn'Нс'В*5'НI'!` Нn'µК! К!яяГѕ*5'###еНQ'+СНZ'  НЊ'КQ*5'#еНQ'#СНZ'+НI'!я Нn'ГY*5'еНГС"7'*5'НI'! Нn'µКr*7'Гѕ*7' Нu'К‰*5'еН„С"7'*7' Нu'Вњ*7'#Нс'Кµ*5'еНC'  Н`'С}!яяГѕ*7' Нn'|µН)НЕ(! 	НQ'"5'НI'! Нn'Нс'К*5' е! еНГССНZ'Нс'К*5'еНC'@ Н`'С}!яяГЕ*5'еНC' Н`'С}*5'	 НC'е*5' НQ'е*5' НQ'еН•ССС"7'  НЌ'КЏ*7'Нс'Кn*5'еНC'  Н`'С}Г~*5'еНC'@ Н`'С}*5'###6 #6 !яяГЕ*5'###е*7'+СНZ'*5'#е*5' НQ'#СНZ'*5' НQ'НI'!я Нn'|µН)НЕ(! 	НQ'"7'! 	НQ'"5'*7' Нu'К*5'
 Нu'К! е*7'еНКСС! е*5'еНІ(СС*5'Г>*7'НI'! Нn'Нс'К1!яяГ>*5'
 Нu'КL*7'НI'! Нn'Нс'Кi! е*7'еНКСС#Нс'Кi!яяГ>*7'	 НC' Нu'КЏ! е*5'еНІ(СС*5'Г>*7'НI'! Нn'Нс'Кк*7'#е*7' е! еНГССНZ'СНZ'Нс'КЪ*7'еНC'@ Н`'С}!яяГ>*7'еНC' Н`'С}*7'###е*7' НV'бНQ'НЊ'К*7'еНCС#Нс'К!яяГ>*7'###еНQ'#СНZ'*7'#еНQ'#СНZ'+е*5'С}|µН)НЕ(! 	НQ'"5'	 НC' Нu'Кf!  Г*5'НI'! Нn'Нс'В€*5'НI'!@ Нn'µК‹! К”!яяГ*5'###НQ' Ђ лН (Ђ Нь'"7'*5'###6 #6 *5'	 НC'е*5'#е*5' НQ'СНZ'е*7'еНљСССл*7'Н„'К*5'еНC'@ Н`'С}!яяГ!  |µН)НЕ(! 	НQ'"5'  Нѓ'В8*5' Н„'В8НO"9'Нс'КA!яяГђ*9'еН–С"7'! 	НQ'е*7'#еНСС#Нс'Вy! е*7'#еНІ(ССя Нu'К‚!яяГђ*7'е*5'#С}*9'|µН)НЕ(! 	НQ'"5'Н  Нu'К±Н	! 	НQ'еН–С"9'Нс'Ви*9'НI'! Нn'Нс'Ви*5'Ђ лН (л|µКл! Кф!яяГ•*9'НI'!  Нn'µК
!  Г•*5'Ђ лН ("5'!  "7'*7'л*5'Н„'В7Г*7'#"7'Г! е! 	НQ'еНІ(СС! е*9'#еНІ(ССКl*9'еНC'  Н`'С}Г! 	еНQ'Ђ СНZ'Г-! е!Ђ еНІ(СС*7'Ђ Нь'|µН)НЕ(! 	НQ'"5'Н  Нu'К¶Н	! 	НQ'еН–С"9'Нс'Вэ*9'НI'! Нn'Нс'Вэ*5'Ђ лН (л|µВэ*9'НI'!@ Нn'µК ! К	!яяГ”*5'Ђ лН ("5'!  "7'*7'л*5'Н„'В6Г~*7'#"7'Г! е! 	НQ'еНІ(СС! е*9'#еНІ(ССКk*9'еНC'@ Н`'С}Г~! 	еНQ'Ђ СНZ'Г,! е!Ђ еНІ(СС*7'Ђ Нь'|µН)НЕ(! 	НQ'еН–С"5'Нс'К·!яяГ*5'НC'"7'*5'6 *7'@ Нn'µКШ!яяГ*7' Нn'µК! е*5'#еНІ(ССя Нu'К!яяГ!  |µН)Н)Ья!( 	НQ'еЕНССяяН}'КE! еЕНІ(ССя Нu'К?!яяГB!  ГH!яя|µНT)$ Нн(юя! "5'Е*5'еН–ССНZ'  Н}'КЊНO'НC'Нс'К‚*5'ГЏ*5'#"5'ГZ!яя|µН4) НЕ(! 	НQ'"5'ъя"5'  НЊ'Кј*5'
 Нѓ'К*5')л!G НQ'"7'Нс'Кы*5')л!G е!% еНГССНZ'"7'  Н}'Кы*7'6 *7'Г!  |µН)!  е!  еНІ(ССЙНЕ(! 	НQ'"7'! 	НQ'"5'еНЉС"5'#НI'!: Н}'КP*7'#"7'+6 Г…*5'НC'еНё%СНс'Кg!яяГ…*7'#"7'+е*5'НC'АяС}*5'##"5'!  "='! "9'*9' НЌ'ВЄГ*9'#"9'Г‘*5'#"5'+НC'";'Нс'ВЗ*;'. Нu'В*;'еНЌ%СКЫ!яяГ…*;'* Нu'Кр!? "='Г*7'#"7'+е*;'С}Г *9' НЌ'ВГ-*9'#"9'Г*7'#"7'+е*='С}Г*;'  Н}'КB*;'. Н}'Кn*5'#"5'+НC'";'  Н}'Кe*;'. Н}'Кn!яяГ…*;'|µК„*5'#"5'+НC'";'!  "='*9' НЌ'ВЈГт*9'#"9'ГЉ*;'Нс'Вт*;'еНЌ%СКЅ!яяГ…*;'* Нu'КТ!? "='Гт*7'#"7'+е*;'С}*5'#"5'+НC'";'Г™*;'  Н}'К*9' Нu'В*;'* Нu'К*5'НC'";'*;'  Н}'К1!яяГ…*9' НЌ'ВJГ\*9'#"9'Г1*7'#"7'+е*='С}Г@*9'$ Нѓ'ВuГ‚*9'#"9'Г\*7'#"7'+6 Гk!  |µН)НЕ(! 	НQ'"5'*5'е*5'НC'еН?%СС}ґК·*5'#"5'Г—! 	НQ'|µН)НЕ(! 	НQ'"5'Нял*5'Н–'Кг!  Гъ*?'е*5'С"?'*5'л*?'лНЮ'|µН)Н)яяi`л*?'НЮ'л*З НЮ'µНT) ! е!  еНІ(СС Нn'µКA ! е!  еНІ(ССГD !яя|µЙ                                                                                                                           яяиНн(щя! 	НQ'"='++"='##НQ'"7'*7'#"7'+НC'"9'|µКa"*9'% Н}'К$!! 	НQ'е*9'ге! 	НQ'ге!!гйССГе *7'#"7'+НC'"9'Г;"Гa"! ";'ГY!! ";'ГY!!
 ";'ГY!!ця";'*='++"='##НQ'еЕ*;'еНf"ССС"5'*5'НC'|µКЁ!! 	НQ'е*5'#"5'+НC'ге! 	НQ'ге!Ј!гйССГu!Ге ! 	НQ'е*='++"='##НQ'ге! 	НQ'ге!Р!гйССГе *='++"='##НQ'"5'*5'НC'|µК"! 	НQ'е*5'#"5'+НC'ге! 	НQ'ге!"гйССГе!Ге ! 	НQ'е*9'ге! 	НQ'ге!6"гйССГе Н‘( s Х!c «!d S!u J!x A!o 8!  5!"Ге Н4) НЕ(! 	НQ'  Нѓ'К†"! 	НQ'цяНu'Кџ"! ";'! 	НQ'Не'"5'ГЇ"!  ";'! 	НQ'"5'! 	НQ'цяНu'КИ"! 	6
#6 ! 	НQ'"9'"7'*7'е*5'л! 	НQ'НR(л0 С}9 Н„'К#*7'еНC' С}*7'#"7'*5'л! 	НQ'НR("5'  Н–'ВХ"*;'|µК9#*7'#"7'+6-*7'6 *7'+"7'л*9'Н•'Кw#*9'НC'"='*9'#"9'+е*7'НC'С}*7'е*='С}Г>#! 	НQ'|µН)НЕ(! 	НQ'"5'*5'НC'еНL&СКЁ#*5'#"5'Гђ#! "9'*5'НC'- Нu'ВЙ#*5'НC'+ Нu'Км#*5'#"5'+НC'+ Нu'Кж#! Гй#!яя"9'!  "7'*5'НC'еН(&СК!$*7'
 Нь'е*5'#"5'+НC'СРя"7'Гт#*9'л*7'Нь'|µН)НЕ(! 	НQ'"5'*5'НC'|µКR$*5'#"5'Г=$*5'е! 	НQ'еНo$СС! 	НQ'|µН)НЕ(! 	НQ'"5'*5'#"5'+е! 	еНQ'#СНZ'+НC'С}ґВ|$! 	НQ'|µН)НЕ(!  "5'! 	еНQ'#СНZ'+НC'|µКТ$*5'#"5'ГІ$*5'|µН)НЕ(! 	НQ'"7'! 	НQ'"5'*5'е*7'НI'бНC'Нu'К(%*5'НC'Нс'К%!  Г:%*5'#"5'*7'#"7'Гс$*5'е*7'НI'бНC'лНЮ'|µН)НЕ(! 	НQ'"5'еН&СК^%*5'аяГa%*5'|µН)НЕ(! 	НQ'"5'еНа%СК…%*5'  Г€%*5'|µН)Нг(! 	НQ'еН”&СКґ%! 	НQ'еНё&СНс'Кґ%! |µБЙНг(! 	НQ'еНа%СВЩ%! 	НQ'еН&СКЬ%! |µБЙНг(! 	НQ'A НЊ'К &! 	НQ'Z НЌ'|µБЙНг(! 	НQ'a НЊ'К$&! 	НQ'z НЌ'|µБЙНг(! 	НQ'0 НЊ'КH&! 	НQ'9 НЌ'|µБЙНЕ(! 	НQ'"5'  Нu'ВЏ&*5'	 Нu'ВЏ&*5'
 Нu'ВЏ&*5' Нu'ВЏ&*5' Нu'|µН)Нг(! 	НQ'  НЊ'Кґ&! 	НQ' НЌ'|µБЙНг(! 	НQ'  НЊ'КШ&! 	НQ'~ НЌ'|µБЙНЕ(! 	НQ'"5'*5'НC'|µК'*5'НI'! 	НQ'Нu'К'*5'Г'*5'#"5'Гй&!  |µН)Нг(! 	НQ'НI'!я Нn'µБЙ  SETTAB_)i`~oџgЙ~_џWЙi`~#foЙ^#VЙ}|Й}іo|ІgЙ}«o|ЄgЙ}Јo|ўgЙН±'В§'µЙН±'А-ЙлН©'Т§'µЙлН©'Ъ§'µЙлН±'Т§'µЙлН±'Ъ§'µЙ-ЙzоЂW|оЂgzјВё'{Ѕ! Йлш||g}oГЅ'лш)ГЛ'лш|·g}oГТ'{•ozњgЙНк'#Й|/g}/oЙ|µКъ'ЇgoЙ,ЙЕDM!  yТ(ЇxGyO°К(Ї{_zWіВ(БЙ|µВ((]TЙЕ|Єх|·т4(Не'z·хт?(лНе'лНZ(стK(лНе'лсБрНе'Й|µВZ(]TЙЕDM>хл  ){_zWіК†(zёЪ†(В|({№Ъ†(}цo{‘_zWс=КЏ(хГd(БЙлбЕN#ъ«(#~»#В¦(~єК«(##Г–(#~#foБйЕ! 9^#V#NН o` БґЙСЕ!  9DM*5'е*7'е*9'е*;'е*='елйСЕ!  9DMлйбЕ^#V#л9щDM*5'е*7'е*9'е*;'е*='елйбЕ^#V#л9щDMлйлбб"='б";'б"9'б"7'б"5'лБЙлБб"='б";'б"9'б"7'б"5'
o
g9щлБЙлб~#fo9щлБЙ'елйСЕ!  9DMлйбЕ^#V#л9щDM*5'е*7'е                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                /*  *	QRESET - Q/C Compiler V3.1 Customization Program  *  *			07/23/83   #include <qstdio.h>  char	signon[]"Q/C Compiler ",version[]"V3.1",v_Z80[]"(Z80)",v_8080[]"(8080)";  int	flavor, 	'z' - Z80, '8' - 8080chgflagFALSE; record whether any changes were made  #define READ	0 #define WRITE	1 #define BUFSIZE 128 #define CTLC	0x3	CP/M ^C character  /*	Offsets in CC.COM to modify	*/  #define PSYMSIZE  0x0	symbol table size #define PTYPESIZE 0x1	type table size #define PSWQSIZE  0x2	switch/loop table size #define PCASSIZE  0x3	case table size #define PMACSIZE  0x4	macro (#define) pool size #define PAUSECNT  0x5	error pause count #define PINITSW   0x6	default array init switch #define PVERBOSE  0x7	terse/verbose switch #define PREDIRECT 0x8	redirection switch #define PCODESW   0x9	assembler code switch #define PCODEEXT  0xA	assembler code file extension  main(argc, argv) int argc; *argv[];{static unsignedbdos;		used to compute CP/M sizeint*pglobal,	pointer to start of global variablesfd;		file descriptor for compilercharbuffer[BUFSIZE],buffer for reading CC.COMccname[15],	complete CP/M filename of compiler*findglb(),	function which locates global variables*strcat(),*strcpy(); extern _patch;	patch location for non-CP/M systems_patch0x26;		force H to zero in bdos() printf("\nQRESET customization program for %s%s ",signon, version);  Was a drive or alternate filename specified for CC.COM? argc > 1) { 	compiler name will be 2nd argumentstrcpy(ccname, argv[1]);ccname[1]':' && ccname[2]'\0')strcat(ccname, "CC.COM"); only a drive given !index(ccname, '.'))strcat(ccname, ".COM"); no file extension}			use the standard namestrcpy(ccname, "CC.COM");  Get part of CC.COM to change (fdopen(ccname, READ))-1) {fputs("\n\n", stderr);cantopen(ccname);} if(read(fd, buffer, BUFSIZE)0) {printf("\n\nError reading %s", ccname);_exit();} close(fd);  Check for good file and locate the global flags pglobal(int *) findglb(buffer, ccname);  Find true CP/M size bdospeek(0x7);	high order byte of bdos addressprintf("\nYour CP/M TPA size is: %uK\n", bdos/4);  Report old settings and get new settings setswitch(pglobal);settables(pglobal);  Rewrite the changed part of CC.COM chgflagFALSE)nochg();		no changes made(fdopen(ccname, WRITE))-1 ||    write(fd, buffer, BUFSIZE) < BUFSIZE) {printf("\nError writing %s", ccname);_exit();}printf("\n%s has been changed", ccname);close(fd);}  Check for good CC.COM file and locate the global flags *findglb(buffer, ccname) *buffer, *ccname;{*p;i, found, length; foundFALSE;lengthstrlen(signon);	locate sign-on messagefor (pbuffer, i0; i < BUFSIZE-length; ++p, ++i) {strcmp(p, signon)0) {foundTRUE;break;}}p += length + 1;		version number comes next!found || *p != 'V')badfile(ccname);lengthstrlen(version);strncmp(p, version, length) != 0)wrongversion(); {p += length;i += length;}flavor' ';for ( ; i < BUFSIZE; ++p, ++i) {    strcmp(p, v_Z80)0) { check flavor: Z80 or 8080printf("%s\n", v_Z80);flavor'z';p += strlen(v_Z80) + 1;break;}     strcmp(p, v_8080)0) {printf("%s\n", v_8080);flavor'8';p += strlen(v_8080) + 1;break;}    }flavor' ') {printf("\nCan't tell whether this is for 8080 or Z80\n");nochg();}return (p);			beginning of globals}  strncmp(s1, s2, n) *s1, *s2; int n;{while (--n > 0 && *s1) {*s1 != *s2)break;++s1; ++s2;}return (*s1 - *s2);}  Report that QRESET and Q/C are not the same version wrongversion(){printf("\nThis version of QRESET only works with Q/C %s\n",version);nochg();}  Report that CC.COM doesn't look good badfile(ccname) *ccname;{printf("\n%s does not look like a Q/C Compiler -\n", ccname);printf(" either the file is damaged, or you have changed\n");printf(" the order of global variables in CGLBDEF.C\n");nochg();}  Confirm that no changes will be made and quit nochg(){printf("\nNo changes made");_exit();}  Get response from user and check for request to quit getanswer(){c; cchlower(getchar());cCTLC) {printf("^C");_exit();}return c;}  Do all compiler switch settings setswitch(pglobal) *pglobal;{register*pc,		pointer to compiler settingnewsize,	new size settingnewsw;		hold area for new switch settingchar*strcpy(),num[7]; 	hold area for numeric answers  /*	ASSEMBLER CODE SWITCH	*/ flavor'8') {	only 8080 has a choice    pcpglobal + PCODESW;    printf("\nCurrently compiler will generate code for %s",(*pc'a') ? "RMAC" : "M80");    do {printf("\nEnter A (RMAC), M (M80) or <CR> for no change: ");newswgetanswer();} while (newsw != 'a' && newsw != 'm' && newsw != '\n');    newsw != '\n') {*pcnewsw;strcpy(pglobal+PCODEEXT, (newsw'a') ? "ASM": "MAC");printf("\nCompiler changed to generate code for %s\n",(newsw'a') ? "RMAC" : "M80");chgflagTRUE;}    }  /*	TERSE/VERBOSE SWITCH	*/ pcpglobal + PVERBOSE;printf("\nCompiler is currently in %s mode",(*pc) ? "verbose" : "terse");do {printf("\nEnter T (terse), V (verbose) or <CR> for no change: ");newswgetanswer();} while (newsw != 't' && newsw != 'v' && newsw != '\n');newsw != '\n') {*pc(newsw'v');printf("\nCompiler changed to %s mode\n",(*pc) ? "verbose" : "terse");chgflagTRUE;}  /*	ERROR PAUSE COUNT:	*/ pcpglobal + PAUSECNT;printf("\nCompiler currently pauses after %d error%s\n",*pc, (*pc1) ? "": "s");printf("Enter new size or <CR> for no change: ");newsizeatoi(gets(num))) {printf("New error pause count%d\n", newsize);*pcnewsize;chgflagTRUE;}  /*	LARGE VARIABLE INITIALIZATION	*/ pcpglobal + PINITSW;printf("\nCompiler currently %s large variables",(*pc) ? "initializes": "does not initialize");do {printf("\nEnter I (initialize), N (do not initialize)\  or <CR> for no change: ");newswgetanswer();} while (newsw != 'i' && newsw != 'n' && newsw != '\n');newsw != '\n') {*pc(newsw'i');printf("\nCompiler changed to %s large variables\n",(*pc) ? "initialize":"skip initialization of");chgflagTRUE;}  /*	REDIRECTION SWITCH		*/ pcpglobal + PREDIRECT;printf("\nCompiler currently %s redirection",(*pc) ? "includes": "excludes");do {printf("\nEnter R (redirect), N (do not redirect)\  or <CR> for no change: ");newswgetanswer();} while (newsw != 'r' && newsw != 'n' && newsw != '\n');newsw != '\n') {*pc(newsw'r');printf("\nCompiler changed to %s redirection\n",(*pc) ? "include": "exclude");chgflagTRUE;}}  Check for table size changes settables(pglobal) *pglobal;{*pc;  /*	SYMBOL TABLE:	*/ pcpglobal + PSYMSIZE;*pcgetsize("SYMBOL TABLE size", *pc, "entries");  /*	TYPE TABLE:	*/ pcpglobal + PTYPESIZE;*pcgetsize("TYPE TABLE size", *pc, "types");  /*	MACRO (#define) POOL:	*/ pcpglobal + PMACSIZE;*pcgetsize("MACRO (#define) POOL size", *pc, "characters");  /*	SWITCH/LOOP QUEUE:	*/ pcpglobal + PSWQSIZE;*pcgetsize("SWITCH/LOOP nesting depth", *pc, "levels");  /*	SWITCH/CASE TABLE:	*/ pcpglobal + PCASSIZE;*pcgetsize("SWITCH/CASE TABLE size", *pc, "cases");}  Report a table size and ask for a change getsize(table, size, units) *table, *units; int size;{char	num[7]; 	hold area for numeric answersint	newsize; printf("\n%s is: %d %s\n", table, size, units);printf("Enter new size or <CR> for no change: ");newsizeatoi(gets(num))) {printf("New %s is: %d %s\n", table, newsize, units);chgflagTRUE;return newsize;}return size;} end of QRESET.C /*	SWITCH/CASE TABLE:	*/ p                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                /*
 *	Q/C V3.1 Standard I/O Definitions
 *		05/19/83
 */

#define ERROR	-1
#define EOF	-1
#define NULL	0
#define TRUE	1
#define FALSE	0

/* define the "type" file pointer */

#define FILE	struct _iob

/* define the file I/0 control block */

struct _iob {
	char	_flag;
	char	*_pch;
	int	_cnt;
	char	*_buf;
	int	_bufsize;
	char	_fd;
	};

/* standard I/O device names for redirection */

extern FILE *stdin,
	    *stdout,
	    *stderr;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееееее