0 'DSKMGR.REL -- Relocating loader for DSKMGR v3.02. Copyright J.K. Heilman and Phil Wheeler [7/10/87]
1 'Optional support interface to PG Designs 0MENU utility
2 CLEAR256:GOSUB99
3 PRINT@42,"Enter end address";:PRINT@82,"<ENTER> for just below current HIMEM"
4 Y="":PRINT@122,SPACE$(30);:PRINT@122,;:INPUTY:IFY=""THENB=HIMEM-E-1ELSEB=VAL(Y)-E
5 IFB>=MAXRAM-ETHENBEEP:GOTO4ELSECLEAR256,B:B=HIMEM:GOSUB99
6 CLS:A=B:C=B+E:D=D+B:S=99:M=99:PRINT@48,"Line";:PRINT@88,"Address";
7 GOSUB60:IFO=0THENPOKEA,K:A=A+1:GOTO7
8 P=K:GOSUB60:G=P+256*K+B:P=INT(G/256):Q=G-P*256
9 POKEA,Q:A=A+1:POKEA,P:A=A+1:GOTO7
10 CLS:PRINT:BEEP:PRINT"Sound?";:GOSUB90
11 IF R=78 THEN POKE B+173,0:POKE B+174,0:POKE B+175,0:POKE B+410,201:POKE B+411,0:POKE B+412,0
12 PRINT"High-Speed (19200 baud)?";:GOSUB90
13 IF R=78 THEN POKE B+373,56
14 PRINT"<ENTER> key for exit?";:GOSUB90
15 IF R=78 THEN 18
16 DD=B+243:GOSUB92
17 POKE B+163,AL:POKE B+164,AH
18 PRINT"PG RAM 0MENU Installed?";:GOSUB90
19 IF R=78 THEN 40
20 CLEAR 256,B-25:B=HIMEM:GOSUB99:A=B:C=B+25+E:D=D+B
21 IF PEEK(32816)=50 THEN 24 '0MENU v. 2.0+
22 IF PEEK(32824)=49 THEN 25 '0MENU v. 1.0
23 BEEP:CLS:PRINT@80,"0MENU not loaded or wrong version":PRINT"Sorry! Must reset HIMEM and start over":STOP
24 POKE B+275,57:POKE B+276,128:GOTO26
25 POKE B+275,130:POKE B+276,129
26 POKE B,33:POKE B+1,243:POKE B+2,127:POKE B+3,58:POKE B+4,162:POKE B+5,255
27 POKE B+6,15:POKE B+7,218:DD=B+13:GOSUB92:POKE B+8,AL:POKE B+9,AH
28 POKE B+10,195:DD=B+22:GOSUB92:POKE B+11,AL:POKE B+12,AH:POKE B+13,34
29 POKE B+14,12:POKE B+15,251:POKE B+16,34:POKE B+17,12:POKE B+18,251
30 POKE B+19,34:POKE B+20,228:POKE B+21,250
31 POKE B+22,34:POKE B+23,224:POKE B+24,250
40 SAVEM"DSKMGR",B,C,D:END
50 U=INSTR(1,Z,MID$(Y,M,1)):IFU=0THEN55
51 IFU>16THENU=U-16:O=1ELSEO=0
52 V=INSTR(1,Z,MID$(Y,M+1,1)):IFV=0ORV>16THEN55
53 K=(U-1)*16+V-1:RETURN
55 BEEP:PRINT@165,"Bad character";:END
60 IFM<N*2+5THEN70
61 IFL<>RTHENBEEP:PRINT@165,"Checksum fail";END
62 READY:M=1:GOSUB50:IFK=0THEN10
63 S=S+1:PRINT@70,S;:PRINT@110,A;:N=K:M=3:GOSUB50:M=5:L=K:GOSUB50:L=K*256+L:R=0
70 M=M+2:GOSUB50:R=R+K:RETURN
90 PRINT" (Y or N)";:R$=INPUT$(1):R=ASC(R$)AND223:PRINT R$:RETURN
92 AL=256*(DD/256-INT(DD/256)):AH=INT(DD/256):RETURN
99 DEFINTI-X:DEFSTRY-Z:Z="0123456789ABCDEFGHIJKLMNOPQRSTUV":CLS:E=2259:D=0:RETURN
100 DATA387E17CD795A21K908115BF63E06CD625A21FFFF227AF6233922JE08CDJ9012AJE08F9CD3F42AF32ADFACD3142063621A1FD22D7FD36FF2305C2J2
101 DATA389F1C00680EC0CD70590E80CD70590EA0CD70597D3D32EFFDF5FE12CAN100CDC959E5211A5BCD585AE12C7DFE13C2L400F1FAN100AF32EEFDCDS4
102 DATA38121707210718CD7C42CDAC7E210801CD7C4221KD01CD585A21011CCD7C4221K001CD585AAF3032AAFFCD705DCD4272DAS100FE0DCARF00FE20DA
103 DATA38CD13GA01CAG801CD2942C3P700CAHC00CDO401CDSC01C3HC003E02F521HC002252F6F121R300E52100003922K0083DFAH902CAVC043D3DFASF03
104 DATA386817CAG1083D3DFAM407CAT3073DCAOD073DC2QD00CDIA0121VC00C39757313AA7302CB752414D3ABA003E1CF53AEEFD5FF1D61C01P700C5F801
105 DATA38DE17C358C5CAEB583DCAE258C13DCADB58C3B65821K9087EFE4DDAE617231602C3E61721N50137C3E61744534B4D47522076332E3032004C6973
106 DATA38BD1374204C6F61642053617665205376616C2045726173204B696C6C2046726D74204D656E750039384E314400262E2B7CB5C2ND01C9F5CDS907
107 DATA388C0DF121U7014F7E23A7C2OD010DC2OD01CD585AC329423E03213E02213E01213E04213E05213E06213E07213E08213E09213E0A213E0B213E0C
108 DATA38E011213E0D2AK008F96FAF30B5C93A3AF6FE04C821H002CD585A214B5FCD585A210300CD585AC32F5F004F6B20004E5200434D00414200464600
109 DATA38850E4145004F4D00575000485400494F004E4400424600464500204572726F72212000CDK9023E0132L0084FCD3142CDN503060AC5CDKF03C10E
110 DATA383A130205C2IA02210801CD7C4221QB03CDM7040E02CAI202C3G805CDNB01CDS102210700CDO902CD5C76CDO30230CD6D6DCAQ0014F21MC08CD7E
111 DATA38B2156DC2PD0177230DC2M6023AMC08FE12C8FE43C2R50101314DCDKC07CDRC02C3NB0122KE0821KE08E57E2386477EF523A7CAQ4024F7886230D
112 DATA388D18C2PD0247782F57015A5ACDKC07C10404E17ECDRE022305C2R1027A213E0DCD326EDBBBE620C8C3Q00121KE08CD5C76E5CDV802CDV8024FCD
113 DATA382E19V8024179A7CAU702CDV8020DC2U002E10404AF30862305C2UC022FBEC2PD01C9CDS102CD7E6DDAQ601C2PD017723C921MC08CDSC023AME08
114 DATA38D518A7C9CDK9020E00612E4622M80821001ACDO902CDG7034F3AMC08FE1279C0E6F0CAQ301FE10CAQ901FE40CAR801FE50CAR201FE60CAQF01FE
115 DATA38CF1870CARB01C3R501CDH703AF32NA0821ME08B6CANE03CD585A3A3AF6F52AO7087C656FCDD439F1C607FE1EDANA03CD22423E03323AF6C9CD22
116 DATA383713423AO9086F2600118000CD2537CDD4393E30E721987FCD585A210801CD7C4221QB03CDM704CAHC00C3G8054E616D65206F6E206469736B3A
117 DATA385819003AEEFD21A1FD110200B7CASB03193DC3S203CDE45AC9CDR90322K408CDQ20478B1CAS101C521QB03CDLF04DATE032AK408CAV3031185F6
118 DATA383713C3V803545D13131301090009CDSC06CDH203A7CAH604CDIC07CAHC00CDG007CDH503A7C2QC013E01CDTE042AK408CDE35AC1AF32K20811L0
119 DATA38BB16087E1223130B3AK2083C32K208F578B1CAK204F1FE80DAI904FEF1E5672E04D5C5CDG407C1D1E178B1C2I204CDLA04C3Q3012E02C3G20711
120 DATA38801D0701EBCD7C42EBCD5D42CD585ACD4446DAQ60121PF04E52185F67E4FA7C8FE3BD8FE61DAOE04FE7BD2OE04E6DF77237EA7C8FE3AC2P90437
121 DATA38791CC9FE20D8C3O1040C0DC9E5CDE35AD11AE620C2SC041AE640C2S004E5CDF305C17D914F7C98470BC93E1A01FFFFBE2303C2S504C91AE610C2
122 DATA38DF10Q90123234E2346030303030303C932L008210101CDO902CDG703C8C3IE034E616D6520666F722052414D3A0021QB03CDLF04DAVC04CAVC04
123 DATA38F716CDQF06C2RE01CDH203A7CAQ90121UE04CDLF04DAH5051185F6C2I70511L0082193FCCDU8062AL7084C457D32K208CDA920CAK705E5D5CDIC
124 DATA38A01507D1E1C8CDTE052AO7087C656F22K408CDH506D111Q305D522K60822D8FAE53E03CDTE04210300CDO902CDS90221KE087E23234ECDIA03E1
125 DATA381B143AKF084F11L0081A771323E52AK4082B22K4087CB5E1CAPC050DC2NF05E522D8FAC3M4053C32K308C3T20532K30821T805E53AK208FE43CA
126 DATA38CB18T205DAS3052AK408444D2AD8FACD9F6BC3T2052AK608CDF30523EB2ACEFADFC43421CD4621CDLA043AK308C3R6003AK208D644CABF1F3CCA
127 DATA383E1ED91F3CC31720CDGB06EB2AAEFB0922AEFBEBC9EB2AB0FBE5EBCDGB06EBE122B0FBEBC9CD6D6BD0CDLA04C3QF01CD224ECD46212AB2FB22B4
128 DATA380319FB22B6FB21AFF9010B00097E3CCAQF013DFAIA06E53AK208D644CAND063CCALE063CC2RE010E02CDP5062A9AF9CDUE05CDPE063E80EBE1D5
129 DATA3807161BCD3922E1C94FCDP5062AB0FBCDVB05CDPE06E523230B0B0B0B0B0B7123703EA0E1C3L5060E01CDP5062AAEFBCDGB06CDPE06E5092B361A
130 DATA38BE183EC0C3N90606002AK40809444DC9C5E5AF77230B78B1C2Q00622CEFAE1C1C91185F6626B0100067E0CFE2ECAS90678B9D87E23A7C2R7063C
131 DATA387215C93600234E2346C521L008CDU806362E23C1712370230E0F3620230DC2U006C901U006C50E061AA7C8FE2EC8FE20C81377230DC2UE06C1C9
132 DATA38C1102E052600CDO902CDG703C8C3IE0346696C65206578697374732E20200050726F636565643F2028592F4E2900CDS90721GE0711HD07CD585A
133 DATA383019EBCD585ACDCB12CDE90FFE4EC8FE59C2JC07A7C978CDRE0279C3RE0246696C6520746F2064656C6574653A0021L407CDLF04DAM407CAM407
134 DATA38B516CDQF06C2RE01CDH203A7CAQ901CDS90721VB04CDJ207C8CDG007C3Q301CDS90721Q807CDJ207CAHC00CDK902210600CDO902CDS902C3Q301
135 DATA383F15464F524D41542077696C6C206572617365206469736B2120003AEEFD6FCDE559C9210701CD7C42CD5D42C9CDS90721HD07CDJ90721HC00E5
136 DATA38481BC8CDR903E5AF32A7FCCD224ECD4621E1CDCC20E620C2D91F7EE640CA1720C3BF1F21H908E52100003922K008CDS107AF32EEFDCDS107CDSF
137 DATA38C70C03FE01C2R600CDS1073AEEFD21EFFD3CBEDAH008CAH0083E01C3R60000000000000000000000000000000000000000000000000000000000
138 DATA3800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
139 DATA3800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
140 DATA1400000000000000000000000000000000000000000000
141 DATA00
