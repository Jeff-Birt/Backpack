1CLEAR 256,55000:MAXFILES=2:M=3:P$="COM:98N1DNN":?"Loading DOS...":S=PEEK(1):IFS=51ORS=167THEND=64704
2IFS=171THEND=63408:M=4
3IFS=148THEND=64448:P$="COM:9N81NN":M=5
4FORX=0TO22:READB:POKED+X,B:NEXT:POKED+22,INT((D+6)/256):POKED+21,D+6-PEEK(D+22)*256
5IFS=171THENPOKED+9,25:POKED+10,133
6IFS=148THENPOKED+9,211:POKED+10,109
7OPENP$FOROUTPUTAS1:OPENP$FORINPUTAS2:?#1,"FF";CHR$(M);:I$=INPUT$(1,#2)
8'IFI$="1"THENF$="TS-DOS.CO"ELSEIFI$="2"THENF$="TEENY.CO"
8 F$="TS-DOS.CO"
9'I$=INPUT$(6,#2):L=VAL(I$):IFL=0THEN?"Error opening DOS file!":NEW
9 INPUT #2,M,N,O,P,Q,R: A = R*256 + Q:L = P*256+O: ?A,L
10 ':I$=INPUT$(6,#2):A=VAL(I$):I$=INPUT$(6,#2):R=VAL(I$)
11POKED+2,INT(L/256):POKED+1,L-PEEK(D+2)*256:POKED+5,INT(A/256):POKED+4,A-PEEK(D+5)*256
12IFS=148THEN14ELSECALLD
13SAVEM F$,A,A+L-1,R:CLEAR256,A:NEW
14EXECD:BSAVE F$,A,L,R:CLEAR256,A:NEW
90DATA1,0,0,33,0,0,197,229,205,126,109,216,225,193,119,35,11,120,177,200,195,198,252
